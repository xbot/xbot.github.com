<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>晴耕雨讀</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="晴耕雨讀">
<meta property="og:url" content="http://0x3f.org/page/16/index.html">
<meta property="og:site_name" content="晴耕雨讀">
<meta property="og:locale" content="zh-TW">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="晴耕雨讀">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="/webfonts/ptserif/main.css" rel="stylesheet" type="text/css">
  <link href="/webfonts/source-code-pro/main.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-93233020-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>
</html>
<body>
  <div id="container">
    <!-- blair add baidu tongji start... @2017.10.03 -->
<!-- blair add baidu tongji end ! @2017.10.03 -->

<header id="header">
  <div id="header-outer" class="outer">
    <div id="header-inner" class="inner">
      <a id="main-nav-toggle" class="nav-icon" href="javascript:;"></a>
      <a id="logo" class="logo" href="/"></a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/archives">目录</a>
        
          <a class="main-nav-link" href="/categories">分类</a>
        
          <a class="main-nav-link" href="/tags">标签</a>
        
          <a class="main-nav-link" href="https://t.me/s/blingings">不灵</a>
        
          <a class="main-nav-link" href="/about">关于</a>
        
      </nav>
      <nav id="sub-nav">
        <div id="search-form-wrap">
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://0x3f.org"></form>
        </div>
      </nav>
    </div>
  </div>
</header>

    <br>
    <section id="main" class="outer">
      <article id="post-a-strange-decisive-battle" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/a-strange-decisive-battle/"><strong>奇怪的决战</strong></a>
      <small class="article-date-index">&nbsp; 2016-05-01</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/a-strange-decisive-battle/" class="article-date">
  <time datetime="2016-05-01T02:59:00.000Z" itemprop="datePublished">2016-05-01</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/青梅煮酒/">青梅煮酒</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/a-strange-decisive-battle/#disqus_thread" class="article-comment-link">Комментарии</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>前两天读史记王翦列传，觉得秦楚的决战很奇怪。</p>
<blockquote>
<p>王翦果代李信击荆。荆闻王翦益军而来，乃悉国中兵以拒秦。王翦至，坚壁而守之，不肯战。荆兵数出挑战，终不出。王翦日休士洗沐，而善饮食抚循之，亲与士卒同食。久之，王翦使人问军中戏乎？对曰：「方投石超距。」于是王翦曰：「士卒可用矣。」荆数挑战而秦不出，乃引而东。翦因举兵追之，令壮士击，大破荆军。至蕲南，杀其将军项燕，荆兵遂败走。秦因乘胜略定荆地城邑。岁余，虏荆王负刍，竟平荆地为郡县。</p>
</blockquote>
<p>稍微有点军事常识就知道，防守方最好的办法是坚守不战，在自己的地盘上，对方的后勤补给要比自己困难得多，一旦补给不继，军心必乱，势必撤兵，这时候再追上去打，胜算很大，也就是所谓以逸待劳。比如秦赵长平之战，一开始，廉颇先用小股部队跟秦军接触，一看打不赢，马上收缩防线，避免决战，搞得秦军进也不是、退也不是，军力损耗极大，不得以只好用反间换掉廉颇。</p>
<p>所以战争中的进攻方是处于劣势的，要扭转不利的态势，就要把主动权握在自己手里，所以一般会用反客为主的办法。虽然我是进攻方，但我不著急进攻你，让你自己沈不住气来打我，这时候攻守易形，我成了防守方，你成了进攻方，形势就对我有利了。</p>
<p>所以王翦反客为主是正常的，项燕急著打就很奇怪了。老项家累世将门，项燕沙场宿将，不可能连常识都不懂。</p>
<p>也许唯一合理的解释是楚国国力衰败，撑不下去了。</p>
<p>以前秦国伐楚很困难，因为楚国西有江汉之险，北有诸夏扞蔽。不过自白起破鄢郢，江汉天险尽失；自三晋覆灭，中原逐鹿之势已成。秦国伐楚，后勤补给已经不是问题。</p>
<p>另外，让秦国拥有支持百万级灭国战役能力的，还有伐蜀的决策。自商君变法，秦国势平地起飞，此后相当长的一段时间，秦国虽说是战国首强，但也不能占据压倒性的优势，直到秦灭六国前的三十年，还有信陵君收天下之兵扣关攻秦的事。战争不是战斗，决定成败的主要还是国力。李信的二十万大军覆灭后，秦国可以马上再把六十万人送上前线，这个国力，不赢没有天理。所以司马错论伐蜀，同时拥有关中、蜀中两块天府之国，是秦国国力质变的关键。</p>
<p>这个时候的楚国，已经是冢中枯骨。在秦国连年的攻势下，大片国土沦丧，鄢郢破而迁陈，三晋亡而迁寿春，几十年间，颠沛流离，没有喘息的机会，靠吃战略纵深的老本苟延残喘。所以在这次决战之前，可能国力已经难以为继了，但是楚国自己也知道八百年国运系于这一战，所以不得不起倾国之兵应战。空虚的国力和浩大的战争消耗最终迫使项燕选择速战速决，战还有一线生机，不战只能坐以待毙。</p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-alfred-pushbullet" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/alfred-pushbullet/"><strong>Alfred-pushbullet: Push a text to your phone</strong></a>
      <small class="article-date-index">&nbsp; 2016-04-13</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/alfred-pushbullet/" class="article-date">
  <time datetime="2016-04-13T09:30:00.000Z" itemprop="datePublished">2016-04-13</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/计算机/">计算机</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/alfred-pushbullet/#disqus_thread" class="article-comment-link">Комментарии</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>Pushbullet workflow for Alfred.</p>
<h2 id="Features"><a href="#Features" class="headerlink" title="Features"></a>Features</h2><ul>
<li>Push a text to another device.</li>
</ul>
<h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><ol>
<li>Download the latest release and rename it to pushbullet.alfredworkflow.</li>
</ol>
<ul>
<li>Double click it to import it into Alfred.</li>
<li>Double click the “Run Script” button and replace “ACCESS_TOKEN” and “DEVICE_NAME” according to your pushbullet settings.</li>
<li>Activate alfred and input “push blablabla”, then press enter.</li>
</ul>
<h2 id="Author"><a href="#Author" class="headerlink" title="Author"></a>Author</h2><p><code>base64decode IkRvbmllIExlaWdoIiA8ZG9uaWUubGVpZ2hAZ21haWwuY29tPgo=</code></p>
<h2 id="Download"><a href="#Download" class="headerlink" title="Download"></a>Download</h2><p><a href="https://github.com/xbot/alfred-pushbullet/" target="_blank" rel="noopener">https://github.com/xbot/alfred-pushbullet/</a></p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-create-mac-bootable-usb-stick-on-linux" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/create-mac-bootable-usb-stick-on-linux/"><strong>Linux下做Mac OSX安装U盘的步骤</strong></a>
      <small class="article-date-index">&nbsp; 2016-03-08</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/create-mac-bootable-usb-stick-on-linux/" class="article-date">
  <time datetime="2016-03-08T04:22:00.000Z" itemprop="datePublished">2016-03-08</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/计算机/">计算机</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/create-mac-bootable-usb-stick-on-linux/#disqus_thread" class="article-comment-link">Комментарии</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>假设U盘对应/dev/sdb1、OSX安装包是osx.dmg。整个过程就是提取出一系列文件，然后复制到U盘里。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 格式化U盘为hfs+文件系统</span></span><br><span class="line">sudo mkfs.hfsplus -v EICaptianInstall /dev/sdb1</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 提取和挂载第一个光盘镜像</span></span><br><span class="line">dmg2img -p 5 osx.dmg osx.img</span><br><span class="line">mkdir raw &amp;&amp; sudo mount -o loop osx.img raw</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 提取和挂载第二个光盘镜像</span></span><br><span class="line">dmg2img -p 5 raw/Install\ OS\ X\ El\ Capitan.app/Contents/SharedSupport/InstallESD.dmg InstallESD.img</span><br><span class="line">mkdir esd &amp;&amp; sudo mount -o loop InstallESD.img esd</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 提取和挂载第三个光盘镜像</span></span><br><span class="line">dmg2img -p 4 esd/BaseSystem.dmg BaseSystem.img</span><br><span class="line">mkdir base &amp;&amp; sudo mount -o loop BaseSystem.img base</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 挂载U盘</span></span><br><span class="line">mkdir usb &amp;&amp; sudo mount /dev/sdb1 usb</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 复制一系列文件</span></span><br><span class="line">sudo cp -r base/* usb/</span><br><span class="line">sudo rm usb/System/Installation/Packages</span><br><span class="line">sudo cp -r esd/Packages usb/System/Installation/</span><br><span class="line">sudo cp esd/BaseSystem.* usb/</span><br></pre></td></tr></table></figure>
<p>注意dmg2img的参数-p表示提取dmg的第几个分区，似乎不同的OSX版本提取哪个分区也不一样，判断方法就是先执行<code>dmg2img osx.dmg</code>，看哪个分区提取得最慢就选哪个。</p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-fastfold-for-vim" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/fastfold-for-vim/"><strong>FastFold：Vim折叠功能的救赎</strong></a>
      <small class="article-date-index">&nbsp; 2016-02-24</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/fastfold-for-vim/" class="article-date">
  <time datetime="2016-02-24T03:06:00.000Z" itemprop="datePublished">2016-02-24</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/计算机/">计算机</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/fastfold-for-vim/#disqus_thread" class="article-comment-link">Комментарии</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>设置Vim的折叠规则为syntax存在两个问题。一是如果源码中有大量折叠区域，在插入模式中输入会变得很卡。二是刚输入一个折叠区域的起始符号，后面所有的折叠都会被打开。</p>
<p>第一个问题是因为Vim的syntax折叠规则处理过于低效。而后一个问题对于所有自动折叠规则都会存在，原因是Vim对折叠的更新过早。</p>
<p>传统的解决办法是将折叠规则置为manual，并在合适的时机重置为syntax或其它相应规则。但是工作繁复而且往往问题很多。</p>
<p><a href="https://github.com/Konfekt/FastFold" target="_blank" rel="noopener">FastFold</a>是遵循上面所说的方法解决这些问题的插件，不过默认会在所有与折叠相关的时机更新折叠，会导致相关的操作变慢，例如zc和zo时都会有明显的卡顿。鉴于其它时机对折叠的更新已经足够及时，可以通过配置取消受在到明显影响的时机更新折叠：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">" FastFold只在za/zA/zx/zX时更新折叠信息</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:fastfold_fold_command_suffixes</span> =  [<span class="string">'x'</span>,<span class="string">'X'</span>,<span class="string">'a'</span>,<span class="string">'A'</span>]</span><br></pre></td></tr></table></figure>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-fzf-yet-another-fuzzy-finder" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/fzf-yet-another-fuzzy-finder/"><strong>FZF: 又一个文件模糊查询工具</strong></a>
      <small class="article-date-index">&nbsp; 2016-02-01</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/fzf-yet-another-fuzzy-finder/" class="article-date">
  <time datetime="2016-02-01T03:42:00.000Z" itemprop="datePublished">2016-02-01</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/计算机/">计算机</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/fzf-yet-another-fuzzy-finder/#disqus_thread" class="article-comment-link">Комментарии</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="https://github.com/junegunn/fzf" target="_blank" rel="noopener">fzf</a>是个独立的命令行工具，索引速度很快，可以通过<a href="https://github.com/junegunn/fzf.vim" target="_blank" rel="noopener">fzf-vim</a>配合使用。</p>
<h2 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h2><p>功能支持还是比较全的：</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>List</th>
</tr>
</thead>
<tbody>
<tr>
<td>Files [PATH]</td>
<td>Files (similar to  <code>:FZF</code> )</td>
</tr>
<tr>
<td>GitFiles</td>
<td>Git files</td>
</tr>
<tr>
<td>Buffers</td>
<td>Open buffers</td>
</tr>
<tr>
<td>Colors</td>
<td>Color schemes</td>
</tr>
<tr>
<td>Ag [PATTERN]</td>
<td>{ag}{5} search result (ALT-A to select all, ALT-D to deselect all)</td>
</tr>
<tr>
<td>Lines</td>
<td>Lines in loaded buffers</td>
</tr>
<tr>
<td>BLines</td>
<td>Lines in the current buffer</td>
</tr>
<tr>
<td>Tags</td>
<td>Tags in the project ( <code>ctags -R</code> )</td>
</tr>
<tr>
<td>BTags</td>
<td>Tags in the current buffer</td>
</tr>
<tr>
<td>Marks</td>
<td>Marks</td>
</tr>
<tr>
<td>Windows</td>
<td>Windows</td>
</tr>
<tr>
<td>Locate PATTERN</td>
<td><code>locate</code>  command output</td>
</tr>
<tr>
<td>History</td>
<td><code>v:oldfiles</code>  and open buffers</td>
</tr>
<tr>
<td>History:</td>
<td>Command history</td>
</tr>
<tr>
<td>History/</td>
<td>Search history</td>
</tr>
<tr>
<td>Snippets</td>
<td>Snippets ({UltiSnips}{6})</td>
</tr>
<tr>
<td>Commits</td>
<td>Git commits (requires {fugitive.vim}{7})</td>
</tr>
<tr>
<td>BCommits</td>
<td>Git commits for the current buffer</td>
</tr>
<tr>
<td>Commands</td>
<td>Commands</td>
</tr>
<tr>
<td>Maps</td>
<td>Normal mode mappings</td>
</tr>
<tr>
<td>Helptags</td>
<td>Help tags [1]</td>
</tr>
</tbody>
</table>
<h2 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h2><p>fzf需要在终端中执行，在vim中使用时需要另外启动一个xterm实例，UI的割裂感很强，而且xterm本身的操性你懂的。另外Tags模式需要两次回车。所以暂不会用它取代ctrlp和unite。</p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-ctags-vs-gtags-vs-phpctags" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/ctags-vs-gtags-vs-phpctags/"><strong>ctags vs gtags vs phpctags</strong></a>
      <small class="article-date-index">&nbsp; 2016-01-29</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/ctags-vs-gtags-vs-phpctags/" class="article-date">
  <time datetime="2016-01-29T09:55:00.000Z" itemprop="datePublished">2016-01-29</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/计算机/">计算机</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/ctags-vs-gtags-vs-phpctags/#disqus_thread" class="article-comment-link">Комментарии</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>这两天把源码分析工具从ctags向gtags迁移，另外尝试了一下phpctags。</p>
<p>之前用ctags有两个问题，一个是如果同一tag有多个定义，按Ctrl+]只能跳转到第一处。另一个是用cscope查询tag的调用记录时，有些tag查不到结果。</p>
<p>几年前接触过gtags，因为当时还不支持宇宙最好语言，所以没用。这次测试了一下，前面两个ctags的问题都可以解决。</p>
<p>安装后需要手工拷贝gtags.vim和gtags-cscope.vim到vim的plugin目录，然后配置如下：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> Gtags_Close_When_Single = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> Gtags_Auto_Update = <span class="number">0</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:cscope_silent</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">au</span> FileType php,<span class="keyword">python</span>,<span class="keyword">c</span>,cpp,javascript,<span class="keyword">go</span> <span class="keyword">map</span> &lt;C-]&gt; :Gtags<span class="symbol">&lt;CR&gt;</span><span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">au</span> FileType php,<span class="keyword">python</span>,<span class="keyword">c</span>,cpp,javascript,<span class="keyword">go</span> <span class="keyword">map</span> &lt;C-[&gt; :Gtags -r<span class="symbol">&lt;CR&gt;</span><span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">nnoremap</span> <span class="symbol">&lt;leader&gt;</span>&lt;C-]&gt; :<span class="keyword">execute</span> <span class="string">'Unite gtags/def:'</span>.<span class="built_in">expand</span>(<span class="string">'&lt;cword&gt;'</span>)<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">nnoremap</span> <span class="symbol">&lt;leader&gt;</span>&lt;C-[&gt; :<span class="keyword">execute</span> <span class="string">'Unite gtags/ref:'</span>.<span class="built_in">expand</span>(<span class="string">'&lt;cword&gt;'</span>)<span class="symbol">&lt;CR&gt;</span></span><br></pre></td></tr></table></figure>
<p>其它选项参见前面两个文件里的注释。</p>
<p>另外尝试了一下phpctags，据说和ctags兼容并对php做了优化。实际使用效果和ctags没发现有什么区别，不过tagbar-phpctags倒是比tagbar用ctags时效果更好。</p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-ctrlp-vs-unite-vs-command-t-vs-fuzzyfinder" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/ctrlp-vs-unite-vs-command-t-vs-fuzzyfinder/"><strong>CtrlP vs Unite vs Command-T vs FuzzyFinder</strong></a>
      <small class="article-date-index">&nbsp; 2016-01-27</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/ctrlp-vs-unite-vs-command-t-vs-fuzzyfinder/" class="article-date">
  <time datetime="2016-01-27T08:16:00.000Z" itemprop="datePublished">2016-01-27</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/计算机/">计算机</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/ctrlp-vs-unite-vs-command-t-vs-fuzzyfinder/#disqus_thread" class="article-comment-link">Комментарии</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="简述"><a href="#简述" class="headerlink" title="简述"></a>简述</h2><p>Sublime在文件打开速度上的表现很惊艳，Vim有几个扩展可以实现类似功能，本文对这些扩展做个对比。</p>
<p>虽然每个扩展都或多或少地实现了一些功能，我个人用得最多的也就文件、Tag、Buffer Tag的模糊查找这三个，像MRU、buffer之类的查找不觉得有多大用处，所以提高工作效率的工具一定是在热度环节有很好表现，其余偏门功能可以交给插件实现，在这点上CtrlP和Unite做得很好。所以下面针对最常用的这三个功能做下对比，更多功能的对比见下表：</p>
<img src="http://pic.yupoo.com/leninlee/FhDLWLYr/medish.jpg">
<h2 id="文件模糊查找"><a href="#文件模糊查找" class="headerlink" title="文件模糊查找"></a>文件模糊查找</h2><p>Command-T的文件索引速度最快，各方面在这几个扩展中的表现都是最好的。</p>
<p>CtrlP默认使用VIM自建的globpath()，需要手工配置使用<a href="https://github.com/ggreer/the_silver_searcher" target="_blank" rel="noopener">ag</a>以获取更快的速度，据说使用find命令效率更高，实际感觉和ag差别不大。</p>
<p>Unite也需要手工设置使用ag，而且可以实现异步索引，在这一点的体验上好于前两个，但是在模糊匹配的排序上表现不好，比如输入“php”，当然希望“/etc/php.ini”这样的结果排在“/home/peter/host/tmp.txt”前面，实际往往不是这样，Unite的几个sorter里，数rank的排序结果最接近于这个要求，但是表现仍然不如前两个。</p>
<h2 id="Tag模糊查找"><a href="#Tag模糊查找" class="headerlink" title="Tag模糊查找"></a>Tag模糊查找</h2><p>三个扩展都是通过ctags实现，虽然Unite的排序问题仍然存在，对于Tag这么简短的东西，问题不大。</p>
<h2 id="Buffer-Tag模糊查找"><a href="#Buffer-Tag模糊查找" class="headerlink" title="Buffer Tag模糊查找"></a>Buffer Tag模糊查找</h2><p>CtrlP的表现是最好的。</p>
<p>Unite需要通过unite-outline这个source实现，但是只能列出类和方法，无法定制列举类型。而且默认选中排在第一位的类名，查询方法时很不方便。</p>
<p>Command-T不支持此功能。</p>
<h2 id="我的选择"><a href="#我的选择" class="headerlink" title="我的选择"></a>我的选择</h2><p>FuzzyFinder是该类扩展里的老前辈，不过早已不维护，功能上不比其它几个出彩。Command-T虽然在文件索引速度上表现最好，但是优势并不很明显，而且支持功能最少。所以排除这两个。</p>
<p>在最常用的三个功能上，CtrlP的综合表现是最均衡的，所以留下它。Unite本身是一种统一的交互方式和界面，很多扩展（source）可以实现五花八门的功能，像unite-outline虽然在Buffer Tag上表现不佳，对于Markdown和Vim文档还是很有用的。</p>
<h2 id="Update-2016-02-01"><a href="#Update-2016-02-01" class="headerlink" title="Update: 2016-02-01"></a>Update: 2016-02-01</h2><p><a href="/post/fzf-yet-another-fuzzy-finder/">FZF: 又一个文件模糊查询工具</a></p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-simplify-vim-addon-installation-issues" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/simplify-vim-addon-installation-issues/"><strong>简化Vim Addons Manager安装扩展的操作</strong></a>
      <small class="article-date-index">&nbsp; 2016-01-20</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/simplify-vim-addon-installation-issues/" class="article-date">
  <time datetime="2016-01-20T10:05:00.000Z" itemprop="datePublished">2016-01-20</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/计算机/">计算机</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/simplify-vim-addon-installation-issues/#disqus_thread" class="article-comment-link">Комментарии</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>相对Sublime的Package Control，VAM安装和卸载扩展的操作很烦琐。以下脚本在安装完扩展后自动注册，无须手工添加到vimrc，另外增加命令:UninstallAddons，从注册表中删除扩展。</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> runtimepath+=~/.<span class="keyword">vim</span>/addons/<span class="keyword">vim</span>-addon-manager</span><br><span class="line"><span class="keyword">let</span> active_addons = []</span><br><span class="line"><span class="keyword">let</span> <span class="variable">s:vamRegistryFile</span> = <span class="built_in">expand</span>(<span class="string">'~'</span>).<span class="string">'/.vim/vam_registry'</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">filereadable</span>(<span class="variable">s:vamRegistryFile</span>)</span><br><span class="line">    <span class="keyword">let</span> active_addons += <span class="built_in">readfile</span>(<span class="variable">s:vamRegistryFile</span>)</span><br><span class="line"><span class="keyword">endif</span></span><br><span class="line"><span class="keyword">call</span> vam#ActivateAddons(active_addons)</span><br><span class="line"><span class="comment">" Addon post-install hook.</span></span><br><span class="line">fun! MyAddonPostActivateHook(info, repository, pluginDir, opts)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">filereadable</span>(<span class="variable">s:vamRegistryFile</span>)</span><br><span class="line">        <span class="keyword">let</span> regLines = <span class="built_in">readfile</span>(<span class="variable">s:vamRegistryFile</span>)</span><br><span class="line">        <span class="keyword">call</span> <span class="built_in">add</span>(regLines, <span class="variable">a:repository</span>.name)</span><br><span class="line">        <span class="keyword">call</span> <span class="keyword">sort</span>(regLines)</span><br><span class="line">        <span class="keyword">call</span> uniq(regLines)</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">let</span> regLines = [<span class="variable">a:repository</span>.name]</span><br><span class="line">    <span class="keyword">endif</span></span><br><span class="line">    <span class="keyword">call</span> <span class="built_in">writefile</span>(regLines, <span class="variable">s:vamRegistryFile</span>)</span><br><span class="line">endfun</span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:vim_addon_manager</span>.post_install_hook_functions = [<span class="string">'MyAddonPostActivateHook'</span>]</span><br><span class="line"><span class="comment">" Complete the addon name.</span></span><br><span class="line">fun! MyDoActivatedAddonsCompete(...)</span><br><span class="line">    <span class="keyword">let</span> fullList = <span class="built_in">keys</span>(<span class="variable">g:vim_addon_manager</span>.activated_plugins)</span><br><span class="line">    <span class="keyword">call</span> <span class="built_in">filter</span>(fullList, <span class="string">'v:val =~ ".*'</span>.<span class="variable">a:1</span>.<span class="string">'.*"'</span>)</span><br><span class="line">    <span class="keyword">return</span> fullList</span><br><span class="line">endfun</span><br><span class="line"><span class="comment">" Remove records of addons from the registry.</span></span><br><span class="line">fun! MyUninstallAddons(...)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">filereadable</span>(<span class="variable">s:vamRegistryFile</span>)</span><br><span class="line">        <span class="keyword">let</span> regLines = <span class="built_in">readfile</span>(<span class="variable">s:vamRegistryFile</span>)</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"Registry is empty."</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">endif</span></span><br><span class="line">    <span class="keyword">for</span> addonName in <span class="variable">a:000</span></span><br><span class="line">        <span class="keyword">let</span> idx = <span class="built_in">index</span>(regLines, addonName)</span><br><span class="line">        <span class="keyword">if</span> idx &gt;= <span class="number">0</span></span><br><span class="line">            <span class="keyword">call</span> <span class="built_in">remove</span>(regLines, idx)</span><br><span class="line">            <span class="keyword">echo</span> addonName.<span class="string">' is removed from the registry.'</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">echo</span> addonName.<span class="string">' cannot be found in the registry.'</span></span><br><span class="line">        <span class="keyword">endif</span></span><br><span class="line">    <span class="keyword">endfor</span></span><br><span class="line">    <span class="keyword">call</span> <span class="built_in">writefile</span>(regLines, <span class="variable">s:vamRegistryFile</span>)</span><br><span class="line">endfun</span><br><span class="line">command! -<span class="built_in">complete</span>=customlist,MyDoActivatedAddonsCompete -nargs=* UninstallAddons :<span class="keyword">call</span> MyUninstallAddons(<span class="symbol">&lt;f-args&gt;</span>)</span><br></pre></td></tr></table></figure>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-chrome-extension-biubiu" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/chrome-extension-biubiu/"><strong>BiuBiu: A Chrome Extension Blocking AJAX Requests</strong></a>
      <small class="article-date-index">&nbsp; 2015-12-31</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/chrome-extension-biubiu/" class="article-date">
  <time datetime="2015-12-31T06:19:00.000Z" itemprop="datePublished">2015-12-31</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/计算机/">计算机</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/chrome-extension-biubiu/#disqus_thread" class="article-comment-link">Комментарии</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="BiuBiu"><a href="#BiuBiu" class="headerlink" title="BiuBiu"></a>BiuBiu</h1><p><strong>BiuBiu</strong> is an extension for Google Chrome Browser which intends to make life easier for debugging and profiling.</p>
<p>For now, it only blocks AJAX requests made by JQuery, more features may be added in the future.</p>
<h2 id="Features"><a href="#Features" class="headerlink" title="Features"></a>Features</h2><ul>
<li>Toggle to enable or disable BiuBiu.</li>
<li>Block requests made by JQuery by URL.</li>
</ul>
<h2 id="Author"><a href="#Author" class="headerlink" title="Author"></a>Author</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Donie Leigh &lt;donie.leigh at gmail.com&gt;</span><br></pre></td></tr></table></figure>
<h2 id="Links"><a href="#Links" class="headerlink" title="Links"></a>Links</h2><ul>
<li>Project:      <a href="https://github.com/xbot/chrome-biubiu" target="_blank" rel="noopener">https://github.com/xbot/chrome-biubiu</a></li>
</ul>
<h2 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h2><ul>
<li><strong>–</strong><ul>
<li>–</li>
</ul>
</li>
</ul>
<h2 id="Change-Log"><a href="#Change-Log" class="headerlink" title="Change Log"></a>Change Log</h2><p><strong>version 1.0.1 (2015-12-31)</strong></p>
<ul>
<li>Fix the complaining when there is no jQuery or jQuery.cookie.js loaded in the injected page.</li>
</ul>
<p><strong>version 1.0.0 (2015-12-30)</strong></p>
<ul>
<li>Initial release.</li>
</ul>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-after-reading-zuo-zhuan" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/after-reading-zuo-zhuan/"><strong>读完《春秋左传注》</strong></a>
      <small class="article-date-index">&nbsp; 2015-11-15</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/after-reading-zuo-zhuan/" class="article-date">
  <time datetime="2015-11-15T10:24:00.000Z" itemprop="datePublished">2015-11-15</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/青梅煮酒/">青梅煮酒</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/after-reading-zuo-zhuan/#disqus_thread" class="article-comment-link">Комментарии</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <img src="http://pic.yupoo.com/leninlee/F6y8YsUg/medish.jpg">
<p>读这本书，用了一年时间。前面读《通鉴》，用了四年，平均一年五本书的节奏，读尽相斫书的伟大理想不知道这辈子能不能实现了。汉以后的书都好读，也不一定。</p>
<p>总结一下，主要有两个心得吧。一个是梳理了一下春秋的脉络，把以前知道的片断都连了起来，抓住“蛮夷与戎狄交，中国不绝若线”的大背景，整个春秋时代大家都忙啥呢就清楚了，然后分成三段看，齐桓始霸、晋楚争霸、吴越争霸，比从五巨头切入清晰。第二个是加深了对礼乐文化的认识，贵族时代干啥都跟闹著玩似的，反映出我们屌丝的世界太低俗，整本《诗经》就是贵族圈的黑话，搞得我老想叉开去读《诗经原始》，剁手剁手，不然更看不完了。</p>
<p>读《通鉴》算是用通史贯穿一下脉络，《左传》是第一本读完的断代史，本来想接著读《战国策》，看了一眼，文章写得太烂，又是纵横家的书，所以直接读《史记》，司马迁的小说写得还是不错的，迁儿哥，我来了！</p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <nav id="page-nav">
        <a class="extend prev" rel="prev" href="/page/15/">&laquo; Назад</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><a class="page-number" href="/page/15/">15</a><span class="page-number current">16</span><a class="page-number" href="/page/17/">17</a><a class="page-number" href="/page/18/">18</a><span class="space">&hellip;</span><a class="page-number" href="/page/41/">41</a><a class="extend next" rel="next" href="/page/17/">Далее &raquo;</a>
      </nav>
    

</section>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 晴耕雨讀&nbsp;
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, theme by <a href="http://github.com/52binge/hexo-theme-blairos">blairos</a>
    </div>
  </div>
</footer>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

    
<script type="text/javascript"> <!-- add by blair 0724 type=text/javascript -->
  var disqus_shortname = '0x3f';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="/js/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>
