<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>晴耕雨讀</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="晴耕雨讀">
<meta property="og:url" content="http://0x3f.org/page/16/index.html">
<meta property="og:site_name" content="晴耕雨讀">
<meta property="og:locale" content="zh-TW">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="晴耕雨讀">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="/webfonts/ptserif/main.css" rel="stylesheet" type="text/css">
  <link href="/webfonts/source-code-pro/main.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-93233020-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>
</html>
<body>
  <div id="container">
    <!-- blair add baidu tongji start... @2017.10.03 -->
<!-- blair add baidu tongji end ! @2017.10.03 -->

<header id="header">
  <div id="header-outer" class="outer">
    <div id="header-inner" class="inner">
      <a id="main-nav-toggle" class="nav-icon" href="javascript:;"></a>
      <a id="logo" class="logo" href="/"></a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/archives">目录</a>
        
          <a class="main-nav-link" href="/categories">分类</a>
        
          <a class="main-nav-link" href="/tags">标签</a>
        
          <a class="main-nav-link" href="https://t.me/s/blingings">不灵</a>
        
          <a class="main-nav-link" href="/about">关于</a>
        
      </nav>
      <nav id="sub-nav">
        <div id="search-form-wrap">
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://0x3f.org"></form>
        </div>
      </nav>
    </div>
  </div>
</header>

    <br>
    <section id="main" class="outer">
      <article id="post-create-mac-bootable-usb-stick-on-linux" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/create-mac-bootable-usb-stick-on-linux/"><strong>Linux下做Mac OSX安装U盘的步骤</strong></a>
      <small class="article-date-index">&nbsp; 2016-03-08</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/create-mac-bootable-usb-stick-on-linux/" class="article-date">
  <time datetime="2016-03-08T04:22:00.000Z" itemprop="datePublished">2016-03-08</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/计算机/">计算机</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/create-mac-bootable-usb-stick-on-linux/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>假设U盘对应/dev/sdb1、OSX安装包是osx.dmg。整个过程就是提取出一系列文件，然后复制到U盘里。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 格式化U盘为hfs+文件系统</span></span><br><span class="line">sudo mkfs.hfsplus -v EICaptianInstall /dev/sdb1</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 提取和挂载第一个光盘镜像</span></span><br><span class="line">dmg2img -p 5 osx.dmg osx.img</span><br><span class="line">mkdir raw &amp;&amp; sudo mount -o loop osx.img raw</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 提取和挂载第二个光盘镜像</span></span><br><span class="line">dmg2img -p 5 raw/Install\ OS\ X\ El\ Capitan.app/Contents/SharedSupport/InstallESD.dmg InstallESD.img</span><br><span class="line">mkdir esd &amp;&amp; sudo mount -o loop InstallESD.img esd</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 提取和挂载第三个光盘镜像</span></span><br><span class="line">dmg2img -p 4 esd/BaseSystem.dmg BaseSystem.img</span><br><span class="line">mkdir base &amp;&amp; sudo mount -o loop BaseSystem.img base</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 挂载U盘</span></span><br><span class="line">mkdir usb &amp;&amp; sudo mount /dev/sdb1 usb</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 复制一系列文件</span></span><br><span class="line">sudo cp -r base/* usb/</span><br><span class="line">sudo rm usb/System/Installation/Packages</span><br><span class="line">sudo cp -r esd/Packages usb/System/Installation/</span><br><span class="line">sudo cp esd/BaseSystem.* usb/</span><br></pre></td></tr></table></figure>
<p>注意dmg2img的参数-p表示提取dmg的第几个分区，似乎不同的OSX版本提取哪个分区也不一样，判断方法就是先执行<code>dmg2img osx.dmg</code>，看哪个分区提取得最慢就选哪个。</p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-fastfold-for-vim" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/fastfold-for-vim/"><strong>FastFold：Vim折叠功能的救赎</strong></a>
      <small class="article-date-index">&nbsp; 2016-02-24</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/fastfold-for-vim/" class="article-date">
  <time datetime="2016-02-24T03:06:00.000Z" itemprop="datePublished">2016-02-24</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/计算机/">计算机</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/fastfold-for-vim/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>设置Vim的折叠规则为syntax存在两个问题。一是如果源码中有大量折叠区域，在插入模式中输入会变得很卡。二是刚输入一个折叠区域的起始符号，后面所有的折叠都会被打开。</p>
<p>第一个问题是因为Vim的syntax折叠规则处理过于低效。而后一个问题对于所有自动折叠规则都会存在，原因是Vim对折叠的更新过早。</p>
<p>传统的解决办法是将折叠规则置为manual，并在合适的时机重置为syntax或其它相应规则。但是工作繁复而且往往问题很多。</p>
<p><a href="https://github.com/Konfekt/FastFold" target="_blank" rel="noopener">FastFold</a>是遵循上面所说的方法解决这些问题的插件，不过默认会在所有与折叠相关的时机更新折叠，会导致相关的操作变慢，例如zc和zo时都会有明显的卡顿。鉴于其它时机对折叠的更新已经足够及时，可以通过配置取消受在到明显影响的时机更新折叠：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">" FastFold只在za/zA/zx/zX时更新折叠信息</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:fastfold_fold_command_suffixes</span> =  [<span class="string">'x'</span>,<span class="string">'X'</span>,<span class="string">'a'</span>,<span class="string">'A'</span>]</span><br></pre></td></tr></table></figure>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-fzf-yet-another-fuzzy-finder" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/fzf-yet-another-fuzzy-finder/"><strong>FZF: 又一个文件模糊查询工具</strong></a>
      <small class="article-date-index">&nbsp; 2016-02-01</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/fzf-yet-another-fuzzy-finder/" class="article-date">
  <time datetime="2016-02-01T03:42:00.000Z" itemprop="datePublished">2016-02-01</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/计算机/">计算机</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/fzf-yet-another-fuzzy-finder/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="https://github.com/junegunn/fzf" target="_blank" rel="noopener">fzf</a>是个独立的命令行工具，索引速度很快，可以通过<a href="https://github.com/junegunn/fzf.vim" target="_blank" rel="noopener">fzf-vim</a>配合使用。</p>
<h2 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h2><p>功能支持还是比较全的：</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>List</th>
</tr>
</thead>
<tbody>
<tr>
<td>Files [PATH]</td>
<td>Files (similar to  <code>:FZF</code> )</td>
</tr>
<tr>
<td>GitFiles</td>
<td>Git files</td>
</tr>
<tr>
<td>Buffers</td>
<td>Open buffers</td>
</tr>
<tr>
<td>Colors</td>
<td>Color schemes</td>
</tr>
<tr>
<td>Ag [PATTERN]</td>
<td>{ag}{5} search result (ALT-A to select all, ALT-D to deselect all)</td>
</tr>
<tr>
<td>Lines</td>
<td>Lines in loaded buffers</td>
</tr>
<tr>
<td>BLines</td>
<td>Lines in the current buffer</td>
</tr>
<tr>
<td>Tags</td>
<td>Tags in the project ( <code>ctags -R</code> )</td>
</tr>
<tr>
<td>BTags</td>
<td>Tags in the current buffer</td>
</tr>
<tr>
<td>Marks</td>
<td>Marks</td>
</tr>
<tr>
<td>Windows</td>
<td>Windows</td>
</tr>
<tr>
<td>Locate PATTERN</td>
<td><code>locate</code>  command output</td>
</tr>
<tr>
<td>History</td>
<td><code>v:oldfiles</code>  and open buffers</td>
</tr>
<tr>
<td>History:</td>
<td>Command history</td>
</tr>
<tr>
<td>History/</td>
<td>Search history</td>
</tr>
<tr>
<td>Snippets</td>
<td>Snippets ({UltiSnips}{6})</td>
</tr>
<tr>
<td>Commits</td>
<td>Git commits (requires {fugitive.vim}{7})</td>
</tr>
<tr>
<td>BCommits</td>
<td>Git commits for the current buffer</td>
</tr>
<tr>
<td>Commands</td>
<td>Commands</td>
</tr>
<tr>
<td>Maps</td>
<td>Normal mode mappings</td>
</tr>
<tr>
<td>Helptags</td>
<td>Help tags [1]</td>
</tr>
</tbody>
</table>
<h2 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h2><p>fzf需要在终端中执行，在vim中使用时需要另外启动一个xterm实例，UI的割裂感很强，而且xterm本身的操性你懂的。另外Tags模式需要两次回车。所以暂不会用它取代ctrlp和unite。</p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-ctags-vs-gtags-vs-phpctags" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/ctags-vs-gtags-vs-phpctags/"><strong>ctags vs gtags vs phpctags</strong></a>
      <small class="article-date-index">&nbsp; 2016-01-29</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/ctags-vs-gtags-vs-phpctags/" class="article-date">
  <time datetime="2016-01-29T09:55:00.000Z" itemprop="datePublished">2016-01-29</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/计算机/">计算机</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/ctags-vs-gtags-vs-phpctags/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>这两天把源码分析工具从ctags向gtags迁移，另外尝试了一下phpctags。</p>
<p>之前用ctags有两个问题，一个是如果同一tag有多个定义，按Ctrl+]只能跳转到第一处。另一个是用cscope查询tag的调用记录时，有些tag查不到结果。</p>
<p>几年前接触过gtags，因为当时还不支持宇宙最好语言，所以没用。这次测试了一下，前面两个ctags的问题都可以解决。</p>
<p>安装后需要手工拷贝gtags.vim和gtags-cscope.vim到vim的plugin目录，然后配置如下：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> Gtags_Close_When_Single = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> Gtags_Auto_Update = <span class="number">0</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:cscope_silent</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">au</span> FileType php,<span class="keyword">python</span>,<span class="keyword">c</span>,cpp,javascript,<span class="keyword">go</span> <span class="keyword">map</span> &lt;C-]&gt; :Gtags<span class="symbol">&lt;CR&gt;</span><span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">au</span> FileType php,<span class="keyword">python</span>,<span class="keyword">c</span>,cpp,javascript,<span class="keyword">go</span> <span class="keyword">map</span> &lt;C-[&gt; :Gtags -r<span class="symbol">&lt;CR&gt;</span><span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">nnoremap</span> <span class="symbol">&lt;leader&gt;</span>&lt;C-]&gt; :<span class="keyword">execute</span> <span class="string">'Unite gtags/def:'</span>.<span class="built_in">expand</span>(<span class="string">'&lt;cword&gt;'</span>)<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">nnoremap</span> <span class="symbol">&lt;leader&gt;</span>&lt;C-[&gt; :<span class="keyword">execute</span> <span class="string">'Unite gtags/ref:'</span>.<span class="built_in">expand</span>(<span class="string">'&lt;cword&gt;'</span>)<span class="symbol">&lt;CR&gt;</span></span><br></pre></td></tr></table></figure>
<p>其它选项参见前面两个文件里的注释。</p>
<p>另外尝试了一下phpctags，据说和ctags兼容并对php做了优化。实际使用效果和ctags没发现有什么区别，不过tagbar-phpctags倒是比tagbar用ctags时效果更好。</p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-ctrlp-vs-unite-vs-command-t-vs-fuzzyfinder" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/ctrlp-vs-unite-vs-command-t-vs-fuzzyfinder/"><strong>CtrlP vs Unite vs Command-T vs FuzzyFinder</strong></a>
      <small class="article-date-index">&nbsp; 2016-01-27</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/ctrlp-vs-unite-vs-command-t-vs-fuzzyfinder/" class="article-date">
  <time datetime="2016-01-27T08:16:00.000Z" itemprop="datePublished">2016-01-27</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/计算机/">计算机</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/ctrlp-vs-unite-vs-command-t-vs-fuzzyfinder/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="简述"><a href="#简述" class="headerlink" title="简述"></a>简述</h2><p>Sublime在文件打开速度上的表现很惊艳，Vim有几个扩展可以实现类似功能，本文对这些扩展做个对比。</p>
<p>虽然每个扩展都或多或少地实现了一些功能，我个人用得最多的也就文件、Tag、Buffer Tag的模糊查找这三个，像MRU、buffer之类的查找不觉得有多大用处，所以提高工作效率的工具一定是在热度环节有很好表现，其余偏门功能可以交给插件实现，在这点上CtrlP和Unite做得很好。所以下面针对最常用的这三个功能做下对比，更多功能的对比见下表：</p>
<img src="http://pic.yupoo.com/leninlee/FhDLWLYr/medish.jpg">
<h2 id="文件模糊查找"><a href="#文件模糊查找" class="headerlink" title="文件模糊查找"></a>文件模糊查找</h2><p>Command-T的文件索引速度最快，各方面在这几个扩展中的表现都是最好的。</p>
<p>CtrlP默认使用VIM自建的globpath()，需要手工配置使用<a href="https://github.com/ggreer/the_silver_searcher" target="_blank" rel="noopener">ag</a>以获取更快的速度，据说使用find命令效率更高，实际感觉和ag差别不大。</p>
<p>Unite也需要手工设置使用ag，而且可以实现异步索引，在这一点的体验上好于前两个，但是在模糊匹配的排序上表现不好，比如输入“php”，当然希望“/etc/php.ini”这样的结果排在“/home/peter/host/tmp.txt”前面，实际往往不是这样，Unite的几个sorter里，数rank的排序结果最接近于这个要求，但是表现仍然不如前两个。</p>
<h2 id="Tag模糊查找"><a href="#Tag模糊查找" class="headerlink" title="Tag模糊查找"></a>Tag模糊查找</h2><p>三个扩展都是通过ctags实现，虽然Unite的排序问题仍然存在，对于Tag这么简短的东西，问题不大。</p>
<h2 id="Buffer-Tag模糊查找"><a href="#Buffer-Tag模糊查找" class="headerlink" title="Buffer Tag模糊查找"></a>Buffer Tag模糊查找</h2><p>CtrlP的表现是最好的。</p>
<p>Unite需要通过unite-outline这个source实现，但是只能列出类和方法，无法定制列举类型。而且默认选中排在第一位的类名，查询方法时很不方便。</p>
<p>Command-T不支持此功能。</p>
<h2 id="我的选择"><a href="#我的选择" class="headerlink" title="我的选择"></a>我的选择</h2><p>FuzzyFinder是该类扩展里的老前辈，不过早已不维护，功能上不比其它几个出彩。Command-T虽然在文件索引速度上表现最好，但是优势并不很明显，而且支持功能最少。所以排除这两个。</p>
<p>在最常用的三个功能上，CtrlP的综合表现是最均衡的，所以留下它。Unite本身是一种统一的交互方式和界面，很多扩展（source）可以实现五花八门的功能，像unite-outline虽然在Buffer Tag上表现不佳，对于Markdown和Vim文档还是很有用的。</p>
<h2 id="Update-2016-02-01"><a href="#Update-2016-02-01" class="headerlink" title="Update: 2016-02-01"></a>Update: 2016-02-01</h2><p><a href="/post/fzf-yet-another-fuzzy-finder/">FZF: 又一个文件模糊查询工具</a></p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-simplify-vim-addon-installation-issues" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/simplify-vim-addon-installation-issues/"><strong>简化Vim Addons Manager安装扩展的操作</strong></a>
      <small class="article-date-index">&nbsp; 2016-01-20</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/simplify-vim-addon-installation-issues/" class="article-date">
  <time datetime="2016-01-20T10:05:00.000Z" itemprop="datePublished">2016-01-20</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/计算机/">计算机</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/simplify-vim-addon-installation-issues/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>相对Sublime的Package Control，VAM安装和卸载扩展的操作很烦琐。以下脚本在安装完扩展后自动注册，无须手工添加到vimrc，另外增加命令:UninstallAddons，从注册表中删除扩展。</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> runtimepath+=~/.<span class="keyword">vim</span>/addons/<span class="keyword">vim</span>-addon-manager</span><br><span class="line"><span class="keyword">let</span> active_addons = []</span><br><span class="line"><span class="keyword">let</span> <span class="variable">s:vamRegistryFile</span> = <span class="built_in">expand</span>(<span class="string">'~'</span>).<span class="string">'/.vim/vam_registry'</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">filereadable</span>(<span class="variable">s:vamRegistryFile</span>)</span><br><span class="line">    <span class="keyword">let</span> active_addons += <span class="built_in">readfile</span>(<span class="variable">s:vamRegistryFile</span>)</span><br><span class="line"><span class="keyword">endif</span></span><br><span class="line"><span class="keyword">call</span> vam#ActivateAddons(active_addons)</span><br><span class="line"><span class="comment">" Addon post-install hook.</span></span><br><span class="line">fun! MyAddonPostActivateHook(info, repository, pluginDir, opts)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">filereadable</span>(<span class="variable">s:vamRegistryFile</span>)</span><br><span class="line">        <span class="keyword">let</span> regLines = <span class="built_in">readfile</span>(<span class="variable">s:vamRegistryFile</span>)</span><br><span class="line">        <span class="keyword">call</span> <span class="built_in">add</span>(regLines, <span class="variable">a:repository</span>.name)</span><br><span class="line">        <span class="keyword">call</span> <span class="keyword">sort</span>(regLines)</span><br><span class="line">        <span class="keyword">call</span> uniq(regLines)</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">let</span> regLines = [<span class="variable">a:repository</span>.name]</span><br><span class="line">    <span class="keyword">endif</span></span><br><span class="line">    <span class="keyword">call</span> <span class="built_in">writefile</span>(regLines, <span class="variable">s:vamRegistryFile</span>)</span><br><span class="line">endfun</span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:vim_addon_manager</span>.post_install_hook_functions = [<span class="string">'MyAddonPostActivateHook'</span>]</span><br><span class="line"><span class="comment">" Complete the addon name.</span></span><br><span class="line">fun! MyDoActivatedAddonsCompete(...)</span><br><span class="line">    <span class="keyword">let</span> fullList = <span class="built_in">keys</span>(<span class="variable">g:vim_addon_manager</span>.activated_plugins)</span><br><span class="line">    <span class="keyword">call</span> <span class="built_in">filter</span>(fullList, <span class="string">'v:val =~ ".*'</span>.<span class="variable">a:1</span>.<span class="string">'.*"'</span>)</span><br><span class="line">    <span class="keyword">return</span> fullList</span><br><span class="line">endfun</span><br><span class="line"><span class="comment">" Remove records of addons from the registry.</span></span><br><span class="line">fun! MyUninstallAddons(...)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">filereadable</span>(<span class="variable">s:vamRegistryFile</span>)</span><br><span class="line">        <span class="keyword">let</span> regLines = <span class="built_in">readfile</span>(<span class="variable">s:vamRegistryFile</span>)</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"Registry is empty."</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">endif</span></span><br><span class="line">    <span class="keyword">for</span> addonName in <span class="variable">a:000</span></span><br><span class="line">        <span class="keyword">let</span> idx = <span class="built_in">index</span>(regLines, addonName)</span><br><span class="line">        <span class="keyword">if</span> idx &gt;= <span class="number">0</span></span><br><span class="line">            <span class="keyword">call</span> <span class="built_in">remove</span>(regLines, idx)</span><br><span class="line">            <span class="keyword">echo</span> addonName.<span class="string">' is removed from the registry.'</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">echo</span> addonName.<span class="string">' cannot be found in the registry.'</span></span><br><span class="line">        <span class="keyword">endif</span></span><br><span class="line">    <span class="keyword">endfor</span></span><br><span class="line">    <span class="keyword">call</span> <span class="built_in">writefile</span>(regLines, <span class="variable">s:vamRegistryFile</span>)</span><br><span class="line">endfun</span><br><span class="line">command! -<span class="built_in">complete</span>=customlist,MyDoActivatedAddonsCompete -nargs=* UninstallAddons :<span class="keyword">call</span> MyUninstallAddons(<span class="symbol">&lt;f-args&gt;</span>)</span><br></pre></td></tr></table></figure>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-chrome-extension-biubiu" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/chrome-extension-biubiu/"><strong>BiuBiu: A Chrome Extension Blocking AJAX Requests</strong></a>
      <small class="article-date-index">&nbsp; 2015-12-31</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/chrome-extension-biubiu/" class="article-date">
  <time datetime="2015-12-31T06:19:00.000Z" itemprop="datePublished">2015-12-31</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/计算机/">计算机</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/chrome-extension-biubiu/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="BiuBiu"><a href="#BiuBiu" class="headerlink" title="BiuBiu"></a>BiuBiu</h1><p><strong>BiuBiu</strong> is an extension for Google Chrome Browser which intends to make life easier for debugging and profiling.</p>
<p>For now, it only blocks AJAX requests made by JQuery, more features may be added in the future.</p>
<h2 id="Features"><a href="#Features" class="headerlink" title="Features"></a>Features</h2><ul>
<li>Toggle to enable or disable BiuBiu.</li>
<li>Block requests made by JQuery by URL.</li>
</ul>
<h2 id="Author"><a href="#Author" class="headerlink" title="Author"></a>Author</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Donie Leigh &lt;donie.leigh at gmail.com&gt;</span><br></pre></td></tr></table></figure>
<h2 id="Links"><a href="#Links" class="headerlink" title="Links"></a>Links</h2><ul>
<li>Project:      <a href="https://github.com/xbot/chrome-biubiu" target="_blank" rel="noopener">https://github.com/xbot/chrome-biubiu</a></li>
</ul>
<h2 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h2><ul>
<li><strong>–</strong><ul>
<li>–</li>
</ul>
</li>
</ul>
<h2 id="Change-Log"><a href="#Change-Log" class="headerlink" title="Change Log"></a>Change Log</h2><p><strong>version 1.0.1 (2015-12-31)</strong></p>
<ul>
<li>Fix the complaining when there is no jQuery or jQuery.cookie.js loaded in the injected page.</li>
</ul>
<p><strong>version 1.0.0 (2015-12-30)</strong></p>
<ul>
<li>Initial release.</li>
</ul>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-after-reading-zuo-zhuan" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/after-reading-zuo-zhuan/"><strong>读完《春秋左传注》</strong></a>
      <small class="article-date-index">&nbsp; 2015-11-15</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/after-reading-zuo-zhuan/" class="article-date">
  <time datetime="2015-11-15T10:24:00.000Z" itemprop="datePublished">2015-11-15</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/青梅煮酒/">青梅煮酒</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/after-reading-zuo-zhuan/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <img src="http://pic.yupoo.com/leninlee/F6y8YsUg/medish.jpg">
<p>读这本书，用了一年时间。前面读《通鉴》，用了四年，平均一年五本书的节奏，读尽相斫书的伟大理想不知道这辈子能不能实现了。汉以后的书都好读，也不一定。</p>
<p>总结一下，主要有两个心得吧。一个是梳理了一下春秋的脉络，把以前知道的片断都连了起来，抓住“蛮夷与戎狄交，中国不绝若线”的大背景，整个春秋时代大家都忙啥呢就清楚了，然后分成三段看，齐桓始霸、晋楚争霸、吴越争霸，比从五巨头切入清晰。第二个是加深了对礼乐文化的认识，贵族时代干啥都跟闹著玩似的，反映出我们屌丝的世界太低俗，整本《诗经》就是贵族圈的黑话，搞得我老想叉开去读《诗经原始》，剁手剁手，不然更看不完了。</p>
<p>读《通鉴》算是用通史贯穿一下脉络，《左传》是第一本读完的断代史，本来想接著读《战国策》，看了一眼，文章写得太烂，又是纵横家的书，所以直接读《史记》，司马迁的小说写得还是不错的，迁儿哥，我来了！</p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-a-trip-to-tongwan-city" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/a-trip-to-tongwan-city/"><strong>寻找失落的匈奴（201409）</strong></a>
      <small class="article-date-index">&nbsp; 2015-08-20</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/a-trip-to-tongwan-city/" class="article-date">
  <time datetime="2015-08-20T15:07:00.000Z" itemprop="datePublished">2015-08-20</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/行见/">行见</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/a-trip-to-tongwan-city/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="行程"><a href="#行程" class="headerlink" title="行程"></a>行程</h2><img src="http://pic.yupoo.com/leninlee/ETlvkFOn/medish.jpg">
<h2 id="D1-AM-失落的匈奴"><a href="#D1-AM-失落的匈奴" class="headerlink" title="D1.AM 失落的匈奴"></a>D1.AM 失落的匈奴</h2><p>匈奴是中国统一后的第一个大敌，极盛时号称控弦四十万，以至于汉武帝穷高、文、景三代积蓄，鏖战数十年，延及元帝，郅支授首，才终于换来一句“犯强汉者，虽远必诛”。</p>
<p>东汉招引外族入居内地，想同化并加以利用，至于魏晋，欺压各族，又不加防备。</p>
<p>西晋初年，由封建制的复兴导致的八王之乱，纷纭十六年，耗尽了皇族势力。被压制已久的民族矛盾于是爆发，匈奴、鲜卑、羯、氐、羌五族先后建立十六个国家，混战一百三十多年，史称五胡十六国。</p>
<p>其中，匈奴铁弗部赫连勃勃建立大夏国，横行秦晋，役民十万蒸土筑城，号统万城。蒸土就是在土中混入生石灰，然后浇水夯筑，所以城墙是白色的，当地人至今都叫白城子。筑城要求极为严格，工程验收人以铁锥刺墙，刺入一寸杀筑者，尸体填入城墙，所以城墙极为坚固，是夯土建筑的巅峰之作。后来北魏太武帝拓跋焘灭夏入城，说“统驭万邦，在德不在险”。</p>
<p>统万城遗址在陕西靖边。我喜欢去这种没有被过度商业化开发的地方，再过几年，也许就再也见不到这种荒草孤城的景象了。</p>
<p>早上四点火车到站，车站门口有很多黑车，会漫天要价，事先做好功课就不会被宰，议定一百五，要说明白包往返，到地方等两个小时。</p>
<p>路上停车吃洋芋擦擦，就是炒土豆丝……</p>
<p>火车站到统万城大概三十公里，所以不会用太长时间，五点多到的时候，天还没有亮，这个时候没人收费，可以直接开进去。</p>
<p>天色微亮，从停车场走向统万城还是条土路。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvl0fd/medish.jpg">
<p>遗址正在进行小规模的修复。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvllZw/medish.jpg">
<p>城墩填充的外表被刻画成砖的样子，而夯土建筑的轮廓应该是一层一层的。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvm6r1/medish.jpg">
<p>像这样：</p>
<img src="http://pic.yupoo.com/leninlee/ETlvldId/medish.jpg">
<p>走在质地坚硬的城墙上，可以想象当年它曾是怎样的坚不可摧。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvkzhJ/medish.jpg">
<p>凸出的城墩和城墙形成有纵深的防御体系，可以分割敌人的阵形，将攻城者置于被三面夹击的死地。残存的城墙尚且这么高，不知道当年是如何雄伟的一座城！</p>
<img src="http://pic.yupoo.com/leninlee/ETlvlIDl/medish.jpg">
<p>荒原晨露，日出统万。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvlUtR/medish.jpg">
<p>沿着小路走向城中的高台，沙深露重，很不好走。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvmi41/medish.jpg">
<p>土墩离外城城门不远，可能是内城的一部分。高处的洞里，栖满了野鸽子。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvnx9o/medish.jpg">
<p>城的中部，据说是宫殿遗址。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvmz3v/medish.jpg">
<p>城北一处正在发掘的现场。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvn3QQ/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ETlvneNw/medish.jpg">
<p>北角的城墩，淹没在一望无际的荒草中。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvmaU4/medish.jpg">
<p>我在这里休息，读完了《晋书·赫连勃勃载记》。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvmzWn/medish.jpg">
<p>东角的城墩已经破坏得快消失了。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvnUug/medish.jpg">
<p>回望城内。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvnwvY/medish.jpg">
<p>东南城墙已经快消失在荒草中了。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvoha5/medish.jpg">
<p>南角墩曾被挖做窑洞。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvo0as/medish.jpg">
<p>只有西角残存的遗迹最完整。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvokDG/medish.jpg">
<p>因为去得早，而且遗址少有人去，所以整个早上只有我一个人，不紧不慢地走遍全城，用了三个小时，好在司机没有催我，如果能带着帐篷来这里扎营，重读通鉴永嘉南渡后三百年的烽火狼烟，一定很刺激，不过可能再也没有机会了。</p>
<h2 id="D1-PM-龙洲丹霞（波浪谷）"><a href="#D1-PM-龙洲丹霞（波浪谷）" class="headerlink" title="D1.PM 龙洲丹霞（波浪谷）"></a>D1.PM 龙洲丹霞（波浪谷）</h2><p>从统万城出来，时间还很早，上车直奔龙洲丹霞，车上议价，往返加等待，100￥。</p>
<p>路上还有一段长城的遗迹，只剩下垄起的一条痕迹，可能是汉长城。</p>
<p>景区已经修了观景台和公路，不过还没有收费。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvowH1/medish.jpg">
<p>看这个就知道为什么叫波浪谷了。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvp1kO/medish.jpg">
<p>下面是深沟，岩石表面是风化的沙土，走在上面很惊险。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvoS6y/medish.jpg">
<p>靖边有石油，能看到远方油井喷出的火。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvqhys/medish.jpg">
<p>其它地方见到的丹霞都是在地上的，这里是在地下，要从公路边的野路下去，所以找个知道路口在哪的司机很重要。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvq1Sq/medish.jpg">
<p>有的小路不好走，只能手脚屁股并用。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvpYcF/medish.jpg">
<p>下到谷底。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvqTNE/medish.jpg">
<p>很美，真的很美。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvqwT5/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ETlvqRVU/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ETlvp0fP/medish.jpg">
<p>中间有一段很窄，一只脚都插不下。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvppGC/medish.jpg">
<p>像什么，我当时自然地想到了大地的菊花……</p>
<img src="http://pic.yupoo.com/leninlee/ETlGojMj/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ETlvrgBL/medish.jpg">
<p>下面这一段更难走，顺着沟再往前是悬崖，只能从左手边的崖壁上绕过去。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvrlX1/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ETlGoHDJ/medish.jpg">
<p>这段很危险，旁边就是悬崖，石头风化严重，我爬得很慢、很纠结。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvs9ZP/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ETlvrYAG/medish.jpg">
<p>过了这段就好了，前面谷底别有洞天。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvrONj/medish.jpg">
<p>谷里的水是从这个谷口里流出来的，水源是人工的，源头有只死猫，恶心死我了，因为溯源前用溪水洗了手，还挺凉。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvsKX6/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ETlvrUMx/medish.jpg">
<p>前面这个山包就是传说中的土匪窝，山体已经被挖空了，在前朝是土匪的藏身之地。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvsE3G/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ETlvt6sj/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ETlvtMsZ/medish.jpg">
<p>谷底再多些草和野花就好了。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvsscy/medish.jpg">
<p>水流经过的地方倒是水草丰茂。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvtlmg/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ETlIKtOw/medish.jpg">
<p>土匪窝下的人工湖可以坐船。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvsR2E/medish.jpg">
<p>从土匪窝旁的土路上到公路路口就很容易了，在路口吃了碗荞麦凉粉，挺好吃的。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvtGnC/medish.jpg">
<p>波浪谷不大，不过确实很漂亮，据说雨后初晴时来更好看，丹霞会呈现通红的颜色。由于野路不好走，而且我慢慢玩儿、拍照多，用了大概三个小时。</p>
<p>大概下午两三点的样子，时间还早，所以让司机把我拉到县城里的电影院，看了场《猩球崛起2》，小县城因为有石油，居然就可以看3D，而且是眼镜夹片，真是我大四眼党的福音，比3D眼镜舒服多了。只是小县城的影院不打折，于是看了自《阿凡达》以来最贵的电影。</p>
<p>看完电影，步行去之前司机推荐的“乔沟湾老婆风干羊肉剁荞面”馆吃剁荞面（23￥），离电影院不远。然后就酱紫了：</p>
<img src="http://pic.yupoo.com/leninlee/ETlvtBhT/medish.jpg">
<p>没想到吃面可以这么铺张，不知道从哪开始发动，恬着脸问了服务员，吃得好爽，也很撑。</p>
<p>出门边散步边打车，时间还早，慢慢讲价，这小县城的出租车死贵，到火车站没多远，要价20￥，后来终于找到一个15￥的。</p>
<h2 id="D2-AM-晋祠"><a href="#D2-AM-晋祠" class="headerlink" title="D2.AM 晋祠"></a>D2.AM 晋祠</h2><p>一夜火车，早上4点到太原，在车站门口等804路公交到晋祠，大概七点多到的。</p>
<p>相机没电了，只拍了这一张。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvtVHg/medish.jpg">
<p>剩下的只能用手机拍了，效果很差。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvwPIY/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ETlvtNYd/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ETlvu01W/medish.jpg">
<p>李世民和其功臣塑像。李唐以国号始自周成王弟叔虞所封的唐国，所以大修晋祠。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvuLH2/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ETlvuUUF/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ETlvvA8n/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ETlvvBmv/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ETlvw9kh/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ETlvvREf/medish.jpg">
<p>难老泉，就是奔它来的。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvvVYc/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ETlvwFRj/medish.jpg">
<p>从晋祠出来大概十一点，吃完饭坐公交到山西博物馆。</p>
<h2 id="D2-PM-山西省博物馆"><a href="#D2-PM-山西省博物馆" class="headerlink" title="D2.PM 山西省博物馆"></a>D2.PM 山西省博物馆</h2><p>博物馆最能看出一个地方的底蕴。山西省博在国内算是一流的，不可不看。</p>
<img src="http://pic.yupoo.com/leninlee/ETlvx7uj/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ETlvwyIr/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ETlvx5rY/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ETlvxxJF/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ETlvy3x5/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ETlvywg6/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ETlvywQE/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ETlvxWKX/medish.jpg">
<p>山西省博东西很多，走马观花也没看完，到闭馆时还有一个展厅没看。</p>
<p>出门打车奔火车站，差一点没赶上高铁。</p>
<h2 id="费用"><a href="#费用" class="headerlink" title="费用"></a>费用</h2><p>火车：北京到靖边215￥，靖边到太原114.5￥，太原到北京197￥<br>包车：靖边250￥<br>打车：靖边县城到火车站15￥，山西省博到火车南站35￥<br>公交：太原火车站到晋祠2.5￥，晋祠到山西省博2.5￥<br>门票：晋祠75￥<br>导游：山西省博自动讲解器10￥<br>旅游保险：3￥  </p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-a-drive-to-jimingyi-and-caoyantianlu" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/a-drive-to-jimingyi-and-caoyantianlu/"><strong>自驾鸡鸣驿、草沿天路（201507）</strong></a>
      <small class="article-date-index">&nbsp; 2015-08-12</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/a-drive-to-jimingyi-and-caoyantianlu/" class="article-date">
  <time datetime="2015-08-12T13:05:00.000Z" itemprop="datePublished">2015-08-12</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/行见/">行见</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/a-drive-to-jimingyi-and-caoyantianlu/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="行程"><a href="#行程" class="headerlink" title="行程"></a>行程</h2><p>D1：上午，北京到怀来，土木之变战场遗址和鸡鸣驿；下午，宣化，清远楼、镇朔楼、时恩寺、辽代古墓壁画群。</p>
<p>D2：草沿天路，张北野狐岭入，崇礼桦皮岭出。</p>
<img src="http://pic.yupoo.com/leninlee/ES7gAVZI/medish.jpg">
<h2 id="D1-AM-土木堡、鸡鸣驿"><a href="#D1-AM-土木堡、鸡鸣驿" class="headerlink" title="D1.AM 土木堡、鸡鸣驿"></a>D1.AM 土木堡、鸡鸣驿</h2><p>虽然起得很早，上京藏线也七点多了，赶上草原音乐节，出城的车巨多，在居庸关前面一段堵了半小时。</p>
<p>到土木堡的时候已经十点多了，唯一的标志物就是这个路边的牌楼。</p>
<img src="http://pic.yupoo.com/leninlee/ES79NHiK/medish.jpg">
<p>里面是一片荒地，可能是土木之变的战场遗址。当年一战，二十万大军覆没，大明精锐尽丧，英宗北狩，瓦剌围城。可惜于谦，打赢了北京保卫战，却输掉了夺门之变。所以老子说：“持而盈之，不若其已。揣而群之，不可长保也。金玉盈室，莫能守也。富贵而骄，自遗咎也。功遂身退，天之道也。”，实在是金玉良言，不过知进易，知退难，几千年来，有几个张良？</p>
<img src="http://pic.yupoo.com/leninlee/ES79OfPX/medish.jpg">
<p>数百年的烽火狼烟，劫波度尽，谁能想到土木堡真正的被毁发生在本朝。路的另一边就是土木村，据说还有土木堡残存的遗迹，时间关系，没有去看。</p>
<p>事实证明，沿G110奔鸡鸣驿不是个好选择，路况不太好，大货车很多，应该走高速的。</p>
<p>城门被修成这样也是醉了，我头回见城门口横着一影壁墙的。</p>
<img src="http://pic.yupoo.com/leninlee/ES79OrNs/medish.jpg">
<p>反而从城内看城门，才有点儿意思。</p>
<img src="http://pic.yupoo.com/leninlee/ES79RCp8/medish.jpg">
<p>城门口的塑像，后面是驿城博物馆，主要介绍一下驿城的历史。</p>
<img src="http://pic.yupoo.com/leninlee/ES79R7Ys/medish.jpg">
<p>城门要远看才有意境。</p>
<img src="http://pic.yupoo.com/leninlee/ES79Pjev/medish.jpg">
<p>城中主干道旁的戏台，其它地方还有两个，小小的驿城，修那么多戏台干嘛，规划有问题。</p>
<img src="http://pic.yupoo.com/leninlee/ES7gBfya/medish.jpg">
<p>多久没见这种风格的房子了。</p>
<img src="http://pic.yupoo.com/leninlee/ES79PQg2/medish.jpg">
<p>驿城署，现在是一家人的住处，可以进去参观，有人剪票，不过里面什么都没有。</p>
<img src="http://pic.yupoo.com/leninlee/ES79PEKD/medish.jpg">
<p>文昌宫，当年是驿城的学校。</p>
<img src="http://pic.yupoo.com/leninlee/ES7gBzkj/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ES7gCefk/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ES7gCA3P/medish.jpg">
<p>晴耕雨读，用的残体字……</p>
<img src="http://pic.yupoo.com/leninlee/ES79QVTE/medish.jpg">
<p>龙神庙里也有个戏台，得是多喜欢看戏！</p>
<img src="http://pic.yupoo.com/leninlee/ES7gCYi2/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ES7gCPGw/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ES7gDp9U/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ES7gDFPM/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ES7gDWvv/medish.jpg">
<p>范家大院，庚子国变慈禧逃跑时曾在这住了一宿，现在也就剩这么一进。敢向全世界宣战的只有两个人，一个是天朝圣母皇太后，一个是巴格达迪。</p>
<img src="http://pic.yupoo.com/leninlee/ES79Rc4U/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ES79WPrE/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ES79X088/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ES79Y5Dx/medish.jpg">
<p>伏瞰驿城，怀疑原来真有这么大么，似乎和西夏黑水城和统万城差不多。</p>
<img src="http://pic.yupoo.com/leninlee/ES79RmQX/medish.jpg">
<p>坐在城头等日落。</p>
<img src="http://pic.yupoo.com/leninlee/ES79VLis/medish.jpg">
<p>我怀疑这城墙是做旧，明朝以后，大多数城墙已经换用砖石结构，应该不会用这种过时的夯土建筑了吧。</p>
<img src="http://pic.yupoo.com/leninlee/ES7gER7v/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ES79VdOs/medish.jpg">
<p>城外的鸡鸣山形态突兀，很显眼，如果是下雨的天气，真有“风雨如晦，鸡鸣不已”的感觉。</p>
<img src="http://pic.yupoo.com/leninlee/ES79UKXP/medish.jpg">
<p>城外不知道为什么弄了几截绿皮火车，很不搭。</p>
<img src="http://pic.yupoo.com/leninlee/ES7gEvHp/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ES7gEU73/medish.jpg">
<h2 id="D1-PM-宣化古城、辽代古墓壁画"><a href="#D1-PM-宣化古城、辽代古墓壁画" class="headerlink" title="D1.PM 宣化古城、辽代古墓壁画"></a>D1.PM 宣化古城、辽代古墓壁画</h2><p>从鸡鸣驿出来奔宣化，三点多到，吃莜面窝窝，又叫栲姥姥，据说是当地特色，在电视上见过。蘸着羊肉臊子，味道很不错。</p>
<img src="http://pic.yupoo.com/leninlee/ES79W3Md/medish.jpg">
<p>清远楼和镇朔楼是宣化古城的标志性建筑，始建于明朝，气势恢宏，不可不看。</p>
<p>清远楼是钟楼，在维修。</p>
<img src="http://pic.yupoo.com/leninlee/ES7gFvcj/medish.jpg">
<p>镇朔楼是鼓楼，门票5￥，我包场。</p>
<img src="http://pic.yupoo.com/leninlee/ES79Yayj/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ES7r6M4C/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ES79YOt6/medish.jpg">
<p>一层是个展厅，居然是介绍宣化当代发展的。</p>
<img src="http://pic.yupoo.com/leninlee/ES79YHMf/medish.jpg">
<p>二楼很空，只有一面大鼓。</p>
<img src="http://pic.yupoo.com/leninlee/ES79Zcoi/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ES79ZiWR/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ES7a0AYT/medish.jpg">
<p>楼外就是时恩寺。</p>
<img src="http://pic.yupoo.com/leninlee/ES7a08uO/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ES7gFREm/medish.jpg">
<p>殿里正在做法事，很多人，顺时针转圈，口宣佛号，净土宗的路子。</p>
<img src="http://pic.yupoo.com/leninlee/ES7gGaE0/medish.jpg">
<p>就是奔这块匾来的。</p>
<img src="http://pic.yupoo.com/leninlee/ES7a0XW9/medish.jpg">
<p>从寺里出来，开始下雨，赶紧钻到车里，奔辽代古墓壁画群，路经大新门，这是一排新修的城墙，今天已经逛够城墙了，时间也不够，于是继续赶路。</p>
<img src="http://pic.yupoo.com/leninlee/ES7a1k6d/medish.jpg">
<p>穿过又窄又烂的土路，深入下八里村，就是辽代古墓壁画群，如果不是导航，谁能找到这鬼地方。时间已经是5点后，售票处没有人，墓道锁门了，只能看看园子，看售票处的标价，票价要50￥，比满城汉墓黑多了。不过这种地方游人很少，即便白天来，一个人逛古墓是一种什么样的体验？或者如何优雅的和古人神交？这是知乎看多了。</p>
<img src="http://pic.yupoo.com/leninlee/ES7a1M1A/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ES7a23ZR/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ES7a2s5y/medish.jpg">
<h2 id="D2-草沿天路"><a href="#D2-草沿天路" class="headerlink" title="D2 草沿天路"></a>D2 草沿天路</h2><p>第二天，早五点起床，奔天路东线，从张北野狐岭入，崇礼桦皮岭出。</p>
<p>现在这条路知名度越来越高，来的人很多，七点多到的时候，野狐岭入口的一段路，车就已经一辆接一辆了。路的两边越来越多地被开发旅游项目，中国旅游模式正在再次被复制，草原旅游就那么几项，烧烤、骑马、射箭、沙滩摩托，毫无新意，而且同质化严重。使天路出名的原生态自然风光，正在慢慢消退。</p>
<img src="http://pic.yupoo.com/leninlee/ES7vTfpz/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ES7vTwgv/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ES7vUvJX/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ES7vU4nm/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ES7vVHt6/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ES7vUJir/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/ES7vVhWb/medish.jpg">
<h2 id="费用"><a href="#费用" class="headerlink" title="费用"></a>费用</h2><p>北京到宣化过路费：65￥<br>鸡鸣驿门票：35￥<br>镇朔楼门票：5￥<br>宣化经天路回北京过路费：120￥<br>加油：416￥  </p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <nav id="page-nav">
        <a class="extend prev" rel="prev" href="/page/15/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><a class="page-number" href="/page/15/">15</a><span class="page-number current">16</span><a class="page-number" href="/page/17/">17</a><a class="page-number" href="/page/18/">18</a><span class="space">&hellip;</span><a class="page-number" href="/page/41/">41</a><a class="extend next" rel="next" href="/page/17/">Next &raquo;</a>
      </nav>
    

</section>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 晴耕雨讀&nbsp;
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, theme by <a href="http://github.com/52binge/hexo-theme-blairos">blairos</a>
    </div>
  </div>
</footer>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

    
<script type="text/javascript"> <!-- add by blair 0724 type=text/javascript -->
  var disqus_shortname = '0x3f';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="/js/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>
