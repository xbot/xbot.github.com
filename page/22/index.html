<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>晴耕雨讀</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="晴耕雨讀">
<meta property="og:url" content="http://0x3f.org/page/22/index.html">
<meta property="og:site_name" content="晴耕雨讀">
<meta property="og:locale" content="zh-TW">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="晴耕雨讀">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="/webfonts/ptserif/main.css" rel="stylesheet" type="text/css">
  <link href="/webfonts/source-code-pro/main.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-93233020-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>
</html>
<body>
  <div id="container">
    <!-- blair add baidu tongji start... @2017.10.03 -->
<!-- blair add baidu tongji end ! @2017.10.03 -->

<header id="header">
  <div id="header-outer" class="outer">
    <div id="header-inner" class="inner">
      <a id="main-nav-toggle" class="nav-icon" href="javascript:;"></a>
      <a id="logo" class="logo" href="/"></a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/archives">目录</a>
        
          <a class="main-nav-link" href="/categories">分类</a>
        
          <a class="main-nav-link" href="/tags">标签</a>
        
          <a class="main-nav-link" href="https://t.me/s/blingings">不灵</a>
        
          <a class="main-nav-link" href="/about">关于</a>
        
      </nav>
      <nav id="sub-nav">
        <div id="search-form-wrap">
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://0x3f.org"></form>
        </div>
      </nav>
    </div>
  </div>
</header>

    <br>
    <section id="main" class="outer">
      <article id="post-project-euler-24" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/project-euler-24/"><strong>Project Euler Problem 24 Solved</strong></a>
      <small class="article-date-index">&nbsp; 2014-04-27</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/project-euler-24/" class="article-date">
  <time datetime="2014-04-27T13:17:00.000Z" itemprop="datePublished">2014-04-27</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/计算机/">计算机</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/project-euler-24/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Lexicographic-permutations"><a href="#Lexicographic-permutations" class="headerlink" title="Lexicographic permutations"></a>Lexicographic permutations</h2><p>A permutation is an ordered arrangement of objects. For example, 3124 is one possible permutation of the digits 1, 2, 3 and 4. If all of the permutations are listed numerically or alphabetically, we call it lexicographic order. The lexicographic permutations of 0, 1 and 2 are:</p>
<p>012   021   102   120   201   210</p>
<p>What is the millionth lexicographic permutation of the digits 0, 1, 2, 3, 4, 5, 6, 7, 8 and 9?</p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><figure class="highlight python"><figcaption><span>p24.py</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python2</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> factorial</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_perm</span><span class="params">(digits, number)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> len(digits) == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">''</span></span><br><span class="line">    (perm, counter) = (<span class="string">''</span>, factorial(len(digits) - <span class="number">1</span>))</span><br><span class="line">    <span class="keyword">for</span> digit <span class="keyword">in</span> digits:</span><br><span class="line">        <span class="keyword">if</span> counter &gt;= number:</span><br><span class="line">            digits.remove(digit)</span><br><span class="line">            perm += str(digit) + get_perm(digits, number)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        number -= counter</span><br><span class="line">    <span class="keyword">return</span> perm</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="keyword">import</span> time</span><br><span class="line">    startTime = time.time()</span><br><span class="line">    perm = get_perm([d <span class="keyword">for</span> d <span class="keyword">in</span> range(<span class="number">10</span>)], <span class="number">1000000</span>)</span><br><span class="line">    <span class="keyword">print</span> perm, <span class="string">'%sms'</span> % ((time.time() - startTime) * <span class="number">1000</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><figcaption><span>p24.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">factorial</span><span class="params">($n)</span> </span>&#123;</span><br><span class="line">    $result = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> ($i = <span class="number">2</span>;$i &lt;= $n;$i++) $result*= $i;</span><br><span class="line">    <span class="keyword">return</span> $result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get_perm</span><span class="params">($digits, $number)</span> </span>&#123;</span><br><span class="line">    $perm = <span class="string">""</span>;</span><br><span class="line">    $length = count($digits);</span><br><span class="line">    $counter = factorial($length - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> ($i = <span class="number">0</span>;$i &lt; $length;$i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> ($counter &gt;= $number) &#123;</span><br><span class="line">            $segment = array_splice($digits, $i, <span class="number">1</span>);</span><br><span class="line">            $perm = $segment[<span class="number">0</span>] . get_perm($digits, $number);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        $number-= $counter;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> $perm;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$startTime = microtime(<span class="keyword">true</span>);</span><br><span class="line">$digits = <span class="keyword">array</span>(<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>);</span><br><span class="line">$perm = get_perm($digits, <span class="number">1000000</span>);</span><br><span class="line">$costs = (microtime(<span class="keyword">true</span>) - $startTime) * <span class="number">1000</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"$perm $&#123;costs&#125;ms\n"</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight go"><figcaption><span>p24.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"strconv"</span></span><br><span class="line">	<span class="string">"time"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">factorial</span><span class="params">(n <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">	result := <span class="number">1</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">2</span>; i &lt;= n; i++ &#123;</span><br><span class="line">		result *= i</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">get_perm</span><span class="params">(digits []<span class="keyword">int</span>, number <span class="keyword">int</span>)</span> <span class="title">string</span></span> &#123;</span><br><span class="line">	perm, length := <span class="string">""</span>, <span class="built_in">len</span>(digits)</span><br><span class="line">	counter := factorial(length - <span class="number">1</span>)</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; length; i++ &#123;</span><br><span class="line">		<span class="keyword">if</span> counter &gt;= number &#123;</span><br><span class="line">			digit := digits[i]</span><br><span class="line">			digits = <span class="built_in">append</span>(digits[:i], digits[i+<span class="number">1</span>:]...)</span><br><span class="line">			perm += strconv.Itoa(digit) + get_perm(digits, number)</span><br><span class="line">			<span class="keyword">break</span></span><br><span class="line">		&#125;</span><br><span class="line">		number -= counter</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> perm</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	startTime := time.Now()</span><br><span class="line">	digits := []<span class="keyword">int</span>&#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;</span><br><span class="line">	perm := get_perm(digits, <span class="number">1000000</span>)</span><br><span class="line">	fmt.Println(perm, time.Now().Sub(startTime))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>I’m the 57181st person to have solved this problem.</p>
<p>I’ve just advanced to Level 1. 61264 members (15.9%) have made it this far.</p>
<p>I have earned 1 new award:</p>
<p>The Journey Begins: Progress to Level 1 by solving twenty-five problems</p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-project-euler-23" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/project-euler-23/"><strong>Project Euler Problem 23 Solved</strong></a>
      <small class="article-date-index">&nbsp; 2014-04-25</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/project-euler-23/" class="article-date">
  <time datetime="2014-04-25T15:56:00.000Z" itemprop="datePublished">2014-04-25</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/计算机/">计算机</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/project-euler-23/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Non-abundant-sums"><a href="#Non-abundant-sums" class="headerlink" title="Non-abundant sums"></a>Non-abundant sums</h2><p>A perfect number is a number for which the sum of its proper divisors is exactly equal to the number. For example, the sum of the proper divisors of 28 would be 1 + 2 + 4 + 7 + 14 = 28, which means that 28 is a perfect number.</p>
<p>A number n is called deficient if the sum of its proper divisors is less than n and it is called abundant if this sum exceeds n.</p>
<p>As 12 is the smallest abundant number, 1 + 2 + 3 + 4 + 6 = 16, the smallest number that can be written as the sum of two abundant numbers is 24. By mathematical analysis, it can be shown that all integers greater than 28123 can be written as the sum of two abundant numbers. However, this upper limit cannot be reduced any further by analysis even though it is known that the greatest number that cannot be expressed as the sum of two abundant numbers is less than this limit.</p>
<p>Find the sum of all the positive integers which cannot be written as the sum of two abundant numbers.</p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>Using sets instead of lists greatly improves performance in Python:</p>
<figure class="highlight python"><figcaption><span>p23.py</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_proper_factors</span><span class="params">(n)</span>:</span></span><br><span class="line">    (result, sqrt) = (<span class="number">1</span>, n ** <span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line">    (start, step) = n % <span class="number">2</span> == <span class="number">1</span> <span class="keyword">and</span> (<span class="number">3</span>, <span class="number">2</span>) <span class="keyword">or</span> (<span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(start, int(sqrt) + <span class="number">1</span>, step):</span><br><span class="line">        <span class="keyword">if</span> n % i == <span class="number">0</span>:</span><br><span class="line">            result += i + n / i</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> sqrt == int(sqrt):</span><br><span class="line">        result -= sqrt</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    (result, limit, abundants) = (<span class="number">0</span>, <span class="number">28124</span>, set())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> range(<span class="number">1</span>, limit):</span><br><span class="line">        <span class="keyword">if</span> sum_proper_factors(n) &gt; n:</span><br><span class="line">            abundants.add(n)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> any(n - a <span class="keyword">in</span> abundants <span class="keyword">for</span> a <span class="keyword">in</span> abundants):</span><br><span class="line">            result += n</span><br><span class="line"></span><br><span class="line">    <span class="keyword">print</span> result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="keyword">import</span> time</span><br><span class="line">    startTime = time.time()</span><br><span class="line">    main()</span><br><span class="line">    <span class="keyword">print</span> time.time() - startTime</span><br></pre></td></tr></table></figure>
<p>Simulate sets using maps in Go:</p>
<figure class="highlight go"><figcaption><span>p23.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"math"</span></span><br><span class="line">	<span class="string">"time"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum_proper_factors</span><span class="params">(n <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">	result, sqrt := <span class="number">1</span>, math.Sqrt(<span class="keyword">float64</span>(n))</span><br><span class="line"></span><br><span class="line">	start, step := <span class="number">2</span>, <span class="number">1</span></span><br><span class="line">	<span class="keyword">if</span> n%<span class="number">2</span> == <span class="number">1</span> &#123;</span><br><span class="line">		start, step = <span class="number">3</span>, <span class="number">2</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> i := start; i &lt;= <span class="keyword">int</span>(sqrt); i += step &#123;</span><br><span class="line">		<span class="keyword">if</span> n%i == <span class="number">0</span> &#123;</span><br><span class="line">			result += i + n/i</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> sqrt == <span class="keyword">float64</span>(<span class="keyword">int</span>(sqrt)) &#123;</span><br><span class="line">		result -= <span class="keyword">int</span>(sqrt)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	result, limit, abundants, startTime := <span class="number">0</span>, <span class="number">28124</span>, <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">bool</span>), time.Now()</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> n := <span class="number">1</span>; n &lt; limit; n++ &#123;</span><br><span class="line">		<span class="keyword">if</span> sum_proper_factors(n) &gt; n &#123;</span><br><span class="line">			abundants[n] = <span class="literal">true</span></span><br><span class="line">		&#125;</span><br><span class="line">		isSumOfTwoAbundants := <span class="literal">false</span></span><br><span class="line">		<span class="keyword">for</span> k := <span class="keyword">range</span> abundants &#123;</span><br><span class="line">			<span class="keyword">if</span> abundants[n-k] == <span class="literal">true</span> &#123;</span><br><span class="line">				isSumOfTwoAbundants = <span class="literal">true</span></span><br><span class="line">				<span class="keyword">break</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> !isSumOfTwoAbundants &#123;</span><br><span class="line">			result += n</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Println(result, time.Now().Sub(startTime))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>I’m the 49489th person to have solved this problem.</p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-ultrablog-v361-released" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/ultrablog-v361-released/"><strong>UltraBlog.vim v3.6.1: 文章分类自动补全</strong></a>
      <small class="article-date-index">&nbsp; 2014-04-20</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/ultrablog-v361-released/" class="article-date">
  <time datetime="2014-04-20T14:50:00.000Z" itemprop="datePublished">2014-04-20</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/计算机/">计算机</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/ultrablog-v361-released/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>春节期间收到两个issue，一直拖到今天才有时间完成。</p>
<p>增加了一个功能，在文章编辑视图的元数据中分类那行，使用热键\&lt;C-X>\&lt;C-U>自动完成文章的分类。在配置数组<strong>ub_blog</strong>中增加键值对“categories”，默认使用这一项的值实现自动完成，如下：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> ub_blog = &#123;<span class="string">'login_name'</span>:<span class="string">'admin'</span>,</span><br><span class="line">            \<span class="string">'password'</span>:<span class="string">'pass2011'</span>,</span><br><span class="line">            \<span class="string">'url'</span>:<span class="string">'http://www.sample.com/'</span>,</span><br><span class="line">            \<span class="string">'xmlrpc_uri'</span>:<span class="string">'xmlrpc.php'</span>,</span><br><span class="line">            \<span class="string">'db'</span>:<span class="string">'$VIM/UltraBlog.db'</span>,</span><br><span class="line">            \<span class="string">'categories'</span>: <span class="string">'News|Computer|Image'</span></span><br><span class="line">            \&#125;</span><br></pre></td></tr></table></figure>
<p>如果这一项不存在，将从博客中拉取分类数据。</p>
<p>自从迁移到Octopress，有两年不用Wordpress了，没想到居然还有人在用<a href="/post/ultrablog-as-an-ultimate-vim-blogging-plugin/">UltraBlog.vim</a>。</p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-project-euler-22" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/project-euler-22/"><strong>Project Euler Problem 22 Solved</strong></a>
      <small class="article-date-index">&nbsp; 2014-04-20</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/project-euler-22/" class="article-date">
  <time datetime="2014-04-20T00:03:00.000Z" itemprop="datePublished">2014-04-20</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/计算机/">计算机</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/project-euler-22/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Names-scores"><a href="#Names-scores" class="headerlink" title="Names scores"></a>Names scores</h2><p>Using <a href="http://projecteuler.net/project/names.txt" target="_blank" rel="noopener">names.txt</a> (right click and ‘Save Link/Target As…’), a 46K text file containing over five-thousand first names, begin by sorting it into alphabetical order. Then working out the alphabetical value for each name, multiply this value by its alphabetical position in the list to obtain a name score.</p>
<p>For example, when the list is sorted into alphabetical order, COLIN, which is worth 3 + 15 + 12 + 9 + 14 = 53, is the 938th name in the list. So, COLIN would obtain a score of 938 × 53 = 49714.</p>
<p>What is the total of all the name scores in the file?</p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>Pretty code snippets are easily to be implemented in Python as always:</p>
<figure class="highlight python"><figcaption><span>p22.py</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    f = open(<span class="string">'names.txt'</span>)</span><br><span class="line">    names = sorted(f.readline().replace(<span class="string">'"'</span>, <span class="string">''</span>).split(<span class="string">','</span>))</span><br><span class="line">    f.close()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">print</span> sum(map(<span class="keyword">lambda</span> name: sum([ord(c) - <span class="number">64</span> <span class="keyword">for</span> c <span class="keyword">in</span> name]) \</span><br><span class="line">              * (names.index(name) + <span class="number">1</span>), names))</span><br></pre></td></tr></table></figure>
<p>Easy as Python, ugly as shit, here is the PHP implementation:</p>
<figure class="highlight php"><figcaption><span>p22.php</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$names = explode(<span class="string">','</span>, str_replace(<span class="string">'"'</span>, <span class="string">''</span>, file_get_contents(<span class="string">'names.txt'</span>)));</span><br><span class="line">sort($names, SORT_STRING);</span><br><span class="line">$cal_alpha_value = <span class="function"><span class="keyword">function</span><span class="params">($name, $i)</span> </span>&#123;</span><br><span class="line">    $cal_alpha_index = <span class="function"><span class="keyword">function</span><span class="params">($char)</span></span>&#123;<span class="keyword">return</span> ord($char) - <span class="number">64</span>;&#125;;</span><br><span class="line">    <span class="keyword">return</span> array_sum(array_map($cal_alpha_index, str_split($name, <span class="number">1</span>))) * $i;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">echo</span> array_sum(array_map($cal_alpha_value, $names, range(<span class="number">1</span>, count($names))));</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight go"><figcaption><span>p22.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"bufio"</span></span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"os"</span></span><br><span class="line">	<span class="string">"sort"</span></span><br><span class="line">	<span class="string">"strings"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	f, err := os.Open(<span class="string">"names.txt"</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(err)</span><br><span class="line">		os.Exit(<span class="number">1</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">defer</span> f.Close()</span><br><span class="line"></span><br><span class="line">	reader := bufio.NewReader(f)</span><br><span class="line">	line, _ := reader.ReadString(<span class="string">'\n'</span>)</span><br><span class="line">	names := strings.Split(strings.Replace(line, <span class="string">"\""</span>, <span class="string">""</span>, <span class="number">-1</span>), <span class="string">","</span>)</span><br><span class="line">	sort.Sort(sort.StringSlice(names))</span><br><span class="line"></span><br><span class="line">	val := <span class="number">0</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(names); i++ &#123;</span><br><span class="line">		tmp := <span class="number">0</span></span><br><span class="line">		<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="built_in">len</span>(names[i]); j++ &#123;</span><br><span class="line">			tmp += <span class="keyword">int</span>(names[i][j]) - <span class="number">64</span></span><br><span class="line">		&#125;</span><br><span class="line">		val += tmp * (i + <span class="number">1</span>)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Println(val)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>I’m the 65646th person to have solved this problem.</p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-cycling-in-the-known-and-unknown" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/cycling-in-the-known-and-unknown/"><strong>骑行的已知和未知</strong></a>
      <small class="article-date-index">&nbsp; 2014-04-19</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/cycling-in-the-known-and-unknown/" class="article-date">
  <time datetime="2014-04-19T13:44:00.000Z" itemprop="datePublished">2014-04-19</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/行见/">行见</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/cycling-in-the-known-and-unknown/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>暂时没有好路线，所以今天是保持性练习。上周发现顺时针绕道G109从军庄路放坡下来会很轻松，所以依旧从香岩寺出发，经黑山扈路、香山路、香山南路、八大处路、模式口大街、G109、军庄路、北清路，最后回到出发点。</p>
<p>照例，先交作业：</p>
<img src="http://pic.yupoo.com/leninlee/DH6LbtQT/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/DH6KVk28/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/DH6KUt7T/medish.jpg">
<p>走香山路是因为不想重复上周的老路，但是很快就体会到了不长记性的后果，这条路似乎从来没有不堵过，天气这么差都挡不住这么多人，植物园门口一坨一坨的，我一直觉得香山之难看、植物园之无聊可著北京城都是数一数二的，要不说文人可恶呢，忽悠了多少人！</p>
<p>传说中的模式口大街居然只是一条很窄的巷子，两边是很旧的居民区，时近中午，这么窄的路上居然挤满了一坨一坨的人。</p>
<p>军庄路似乎一般是上午会有很多拉土方的卡车，上周我中午过后经过时车就不多，不幸今天中奖了，要不是贪图放坡的快感，打死也不走这条路。</p>
<p>总之今天走的不是个好路线，不如上周卢沟桥那一圈，很大程度上是因为想到的路线都有坡，加上天气不好、准备不充分，有点儿怵。以往的经历，第一次走的路线，因为不知道前面会有什么，怀著对未知的好奇和无畏，不管多困难，总是可以坚持下来，但下次就不敢了，因为有痛苦的经历。所以骑行的乐趣在于对未知的好奇，或者是克服对已知的恐惧。前一种我还行，至于后者，无力吐槽，唯余呵呵。</p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-project-euler-21" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/project-euler-21/"><strong>Project Euler Problem 21 Solved</strong></a>
      <small class="article-date-index">&nbsp; 2014-04-17</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/project-euler-21/" class="article-date">
  <time datetime="2014-04-17T14:18:00.000Z" itemprop="datePublished">2014-04-17</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/计算机/">计算机</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/project-euler-21/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Amicable-numbers"><a href="#Amicable-numbers" class="headerlink" title="Amicable numbers"></a>Amicable numbers</h2><p>Let d(n) be defined as the sum of proper divisors of n (numbers less than n which divide evenly into n).<br>If d(a) = b and d(b) = a, where a ≠ b, then a and b are an amicable pair and each of a and b are called amicable numbers.</p>
<p>For example, the proper divisors of 220 are 1, 2, 4, 5, 10, 11, 20, 22, 44, 55 and 110; therefore d(220) = 284. The proper divisors of 284 are 1, 2, 4, 71 and 142; so d(284) = 220.</p>
<p>Evaluate the sum of all the amicable numbers under 10000.</p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><figure class="highlight python"><figcaption><span>p21.py</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_proper_factors</span><span class="params">(n)</span>:</span></span><br><span class="line">    (result, sqrt) = (<span class="number">1</span>, n ** <span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line">    (start, step) = n % <span class="number">2</span> == <span class="number">1</span> <span class="keyword">and</span> (<span class="number">3</span>, <span class="number">2</span>) <span class="keyword">or</span> (<span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(start, int(sqrt) + <span class="number">1</span>, step):</span><br><span class="line">        <span class="keyword">if</span> n % i == <span class="number">0</span>:</span><br><span class="line">            result += i + n / i</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> sqrt == int(sqrt):</span><br><span class="line">        result -= sqrt</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    result = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">10000</span>):</span><br><span class="line">        sum1 = sum_proper_factors(i)</span><br><span class="line">        <span class="keyword">if</span> sum1 &gt; i:</span><br><span class="line">            <span class="keyword">if</span> i == sum_proper_factors(sum1):</span><br><span class="line">                result += i + sum1</span><br><span class="line">    <span class="keyword">print</span> result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="keyword">import</span> time</span><br><span class="line">    startTime = time.time()</span><br><span class="line">    main()</span><br><span class="line">    <span class="keyword">print</span> time.time() - startTime</span><br></pre></td></tr></table></figure>
<figure class="highlight go"><figcaption><span>p21.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"math"</span></span><br><span class="line">	<span class="string">"time"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum_proper_factors</span><span class="params">(n <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">	sum, sqrt := <span class="number">1</span>, math.Sqrt(<span class="keyword">float64</span>(n))</span><br><span class="line"></span><br><span class="line">	start, step := <span class="number">2</span>, <span class="number">1</span></span><br><span class="line">	<span class="keyword">if</span> n%<span class="number">2</span> == <span class="number">1</span> &#123;</span><br><span class="line">		start, step = <span class="number">3</span>, <span class="number">2</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> i := start; i &lt;= <span class="keyword">int</span>(sqrt); i += step &#123;</span><br><span class="line">		<span class="keyword">if</span> n%i == <span class="number">0</span> &#123;</span><br><span class="line">			sum += i + n/i</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> sqrt == <span class="keyword">float64</span>(<span class="keyword">int</span>(sqrt)) &#123;</span><br><span class="line">		sum -= <span class="keyword">int</span>(sqrt)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> sum</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	result, startTime := <span class="number">0</span>, time.Now()</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">1</span>; i &lt; <span class="number">10000</span>; i++ &#123;</span><br><span class="line">		iSum := sum_proper_factors(i)</span><br><span class="line">		<span class="keyword">if</span> iSum &gt; i &#123;</span><br><span class="line">			<span class="keyword">if</span> i == sum_proper_factors(iSum) &#123;</span><br><span class="line">				result += i + iSum</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Println(result, time.Now().Sub(startTime))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>I’m the 70186th person to have solved this problem.</p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-project-euler-20" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/project-euler-20/"><strong>Project Euler Problem 20 Solved</strong></a>
      <small class="article-date-index">&nbsp; 2014-04-14</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/project-euler-20/" class="article-date">
  <time datetime="2014-04-14T14:19:00.000Z" itemprop="datePublished">2014-04-14</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/计算机/">计算机</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/project-euler-20/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Factorial-digit-sum"><a href="#Factorial-digit-sum" class="headerlink" title="Factorial digit sum"></a>Factorial digit sum</h2><p>n! means n × (n − 1) × … × 3 × 2 × 1</p>
<p>For example, 10! = 10 × 9 × … × 3 × 2 × 1 = 3628800,<br>and the sum of the digits in the number 10! is 3 + 6 + 2 + 8 + 8 + 0 + 0 = 27.</p>
<p>Find the sum of the digits in the number 100!</p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><figure class="highlight python"><figcaption><span>p20.py</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    product = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, <span class="number">101</span>):</span><br><span class="line">        product *= i</span><br><span class="line">    <span class="keyword">print</span> sum([int(x) <span class="keyword">for</span> x <span class="keyword">in</span> str(product)])</span><br></pre></td></tr></table></figure>
<figure class="highlight go"><figcaption><span>p20.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"math/big"</span></span><br><span class="line">    <span class="string">"strconv"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    product := big.NewInt(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt; <span class="number">101</span>; i++ &#123;</span><br><span class="line">        product.Mul(product, big.NewInt(<span class="keyword">int64</span>(i)))</span><br><span class="line">    &#125;</span><br><span class="line">    sum := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> idx := <span class="keyword">range</span> product.String() &#123;</span><br><span class="line">        tmp, _ := strconv.Atoi(product.String()[idx : idx+<span class="number">1</span>])</span><br><span class="line">        sum += tmp</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(sum)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>I’m the 100089th person to have solved this problem.</p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-a-ride-to-lugou-bridge" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/a-ride-to-lugou-bridge/"><strong>骑行卢沟桥</strong></a>
      <small class="article-date-index">&nbsp; 2014-04-13</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/a-ride-to-lugou-bridge/" class="article-date">
  <time datetime="2014-04-13T11:55:00.000Z" itemprop="datePublished">2014-04-13</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/行见/">行见</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/a-ride-to-lugou-bridge/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>更始元年三月癸丑，孤亲提铁骑南下卢沟，为甲午一百二十年祭。</p>
<p>以前一直以为很远，后来发现单程只有三十多公里，而且基本都是平地，自从去年推上妙峰山后，一般难度就不怕不怕啦。</p>
<p>先交作业：</p>
<p>不知道为什么，记录到了北安河就结束了，最后十公里木有了。</p>
<img src="http://pic.yupoo.com/leninlee/DGaYw0Qi/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/DGaZP1XR/medish.jpg">
<img src="http://pic.yupoo.com/leninlee/DGbqdTkZ/medish.jpg">
<p>在网上见有人说从桥西进去不查门票，遂先过永定河，从西边进去，路上捡了个迷路的小盆友，说刚刚用手机导航直接上了高速！聊 后得知是北科大的学生，曾国藩的老乡，骑了辆不知道什么牌子的旧车，怯生生的，不禁遥想老夫当年，去矽谷吃顿七块钱的土豆牛肉饭都美得不行不行的。</p>
<p>骑到桥西入口，一个大妈模样的头从售票处小窗口里伸出来：“二十！”，要不说我没有大妈缘呢，走到哪都被拦，去年苦逼哈哈地推到七王坟，大妈说封山防火，片板不得入山。老老实实地买了票，才见著真神，爱个国容易么。桥是金章宗的时候建的，乾隆五十多年重修。桥下就是永定河，左宗棠任直隶总督时在此治水，旧称无定河，不过不是“可怜无定河边骨，犹是春闺梦里人”里的那条。</p>
<img src="http://pic.yupoo.com/leninlee/DGbmWZvZ/medish.jpg">
<p>请小盆友拍了张孤王的戎装照：</p>
<img src="http://pic.yupoo.com/leninlee/DGbmX91K/medish.jpg">
<p>果然每个狮子都不一样，小学课本不余欺也：</p>
<img src="http://pic.yupoo.com/leninlee/DGbmYClu/medish.jpg">
<p>卢沟晓月，所谓的燕京八景之一，我一般不尿这种虚无缥缈、滥竽充数的东西，鲁迅在《再论雷峰塔的倒掉》里说：</p>
<blockquote>
<p>我们中国的许多人，——我在此特别正重声明：并不包括四万万同胞全部！——大抵患有一种“十景病”，至少是“八景病”，沉重起来的时候大概在清朝。凡看一部县志，这一县往往有十景或八景，如“远村明月”、“萧寺清钟”、“古池好水”之类。</p>
</blockquote>
<p>我虽然不喜欢鲁迅，因为此人文风过于惼狭和左倾，虽然老先生一再声明不针对所有国人，但还是随处可见断章取义、不懂装懂的人扯大旗作虎皮，动辄就中国人的劣根性怎么怎么样。但在这一点上我跟老先生意见一致，就某些小县城都有所谓“七台八景”，台好歹还有个土堆，景就开始胡扯了。</p>
<img src="http://pic.yupoo.com/leninlee/DGbmY2fr/medish.jpg">
<p>摆一堆仿明清的大炮干什么，跟七七世变不搭调，更容易联想到两甲子前的那场战争，此日漫挥天下泪，有公足庄海军威。</p>
<img src="http://pic.yupoo.com/leninlee/DGcan9YW/medish.jpg">
<p>小盆友的高中历史是体育老师教的，居然不知道宛平城。这座长宽只有几百米的小城是崇祯为抵御闯贼建的桥头堡。不要门票。</p>
<img src="http://pic.yupoo.com/leninlee/DGbmXnSE/medish.jpg">
<p>这么小的一座城居然还有瓮城：</p>
<img src="http://pic.yupoo.com/leninlee/DGbmZQTg/medish.jpg">
<p>城里有个抗日纪念馆，免费参观，因为没处存车，没有进去，不过受党国栽培多年，用脚趾头也能想到里面都是什么，不去也罢。城里没啥可吃的，小盆友说要回校再吃饭，我心说您是直接奔学院路了，我还有几十公里路要绕，不补充热量怎么行，请小盆友吃了顿热干面。这兄弟明显没有方向感，好容易才让他找著北，在手机上找好回学院路的路线，最后送出东门，然后告诉他怎么走之后，老夫才起驾回宫。</p>
<p>之后的路基本比较轻松，大体沿永定河一直走，河边的永定楼气势恢宏，懒得拍照了，再上G109，从军庄路一路放坡下来，很爽。</p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-project-euler-19" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/project-euler-19/"><strong>Project Euler Problem 19 Solved</strong></a>
      <small class="article-date-index">&nbsp; 2014-04-12</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/project-euler-19/" class="article-date">
  <time datetime="2014-04-12T13:21:00.000Z" itemprop="datePublished">2014-04-12</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/计算机/">计算机</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/project-euler-19/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Counting-Sundays"><a href="#Counting-Sundays" class="headerlink" title="Counting Sundays"></a>Counting Sundays</h2><p>You are given the following information, but you may prefer to do some research for yourself.</p>
<ul>
<li>1 Jan 1900 was a Monday.</li>
<li>Thirty days has September,<br>April, June and November.<br>All the rest have thirty-one,<br>Saving February alone,<br>Which has twenty-eight, rain or shine.<br>And on leap years, twenty-nine.  </li>
<li>A leap year occurs on any year evenly divisible by 4, but not on a century unless it is divisible by 400.</li>
</ul>
<p>How many Sundays fell on the first of the month during the twentieth century (1 Jan 1901 to 31 Dec 2000)?</p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><figure class="highlight python"><figcaption><span>p19.py</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_leap</span><span class="params">(year)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> year % <span class="number">400</span> == <span class="number">0</span> <span class="keyword">or</span> year % <span class="number">100</span> != <span class="number">0</span> <span class="keyword">and</span> year % <span class="number">4</span> == <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">count_days</span><span class="params">(year, month, day)</span>:</span></span><br><span class="line">    days = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> y <span class="keyword">in</span> range(<span class="number">1900</span>, year):</span><br><span class="line">        days += is_leap(y) <span class="keyword">and</span> <span class="number">366</span> <span class="keyword">or</span> <span class="number">365</span></span><br><span class="line">    thirties = [<span class="number">4</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">11</span>]</span><br><span class="line">    <span class="keyword">for</span> m <span class="keyword">in</span> range(<span class="number">1</span>, month):</span><br><span class="line">        <span class="keyword">if</span> m == <span class="number">2</span>:</span><br><span class="line">            days += is_leap(year) <span class="keyword">and</span> <span class="number">29</span> <span class="keyword">or</span> <span class="number">28</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            days += m <span class="keyword">in</span> thirties <span class="keyword">and</span> <span class="number">30</span> <span class="keyword">or</span> <span class="number">31</span></span><br><span class="line">    <span class="keyword">return</span> days + day</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> year <span class="keyword">in</span> range(<span class="number">1901</span>, <span class="number">2001</span>):</span><br><span class="line">        <span class="keyword">for</span> month <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">13</span>):</span><br><span class="line">            <span class="keyword">if</span> count_days(year, month, <span class="number">1</span>) % <span class="number">7</span> == <span class="number">0</span>:</span><br><span class="line">                count += <span class="number">1</span></span><br><span class="line">    <span class="keyword">print</span> count</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<figure class="highlight go"><figcaption><span>p19.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"math"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">is_leap</span><span class="params">(year <span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> math.Mod(<span class="keyword">float64</span>(year), <span class="number">400</span>) == <span class="number">0</span> || math.Mod(<span class="keyword">float64</span>(year), <span class="number">100</span>) != <span class="number">0</span> &amp;&amp; math.Mod(<span class="keyword">float64</span>(year), <span class="number">4</span>) == <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">count_days</span><span class="params">(year, month, day <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    days := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> y := <span class="number">1900</span>; y &lt; year; y++ &#123;</span><br><span class="line">        <span class="keyword">if</span> is_leap(y) &#123;</span><br><span class="line">            days += <span class="number">366</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            days += <span class="number">365</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> m := <span class="number">1</span>; m &lt; month; m++ &#123;</span><br><span class="line">        <span class="keyword">if</span> m == <span class="number">2</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> is_leap(year) &#123;</span><br><span class="line">                days += <span class="number">29</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                days += <span class="number">28</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> m == <span class="number">4</span> || m == <span class="number">6</span> || m == <span class="number">9</span> || m == <span class="number">11</span> &#123;</span><br><span class="line">                days += <span class="number">30</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                days += <span class="number">31</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> days + day</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    count := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> year := <span class="number">1901</span>; year &lt; <span class="number">2001</span>; year++ &#123;</span><br><span class="line">        <span class="keyword">for</span> month := <span class="number">1</span>; month &lt; <span class="number">13</span>; month++ &#123;</span><br><span class="line">            <span class="keyword">if</span> math.Mod(<span class="keyword">float64</span>(count_days(year, month, <span class="number">1</span>)), <span class="number">7</span>) == <span class="number">0</span> &#123;</span><br><span class="line">                count++</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(count)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>I’m the 65183rd person to have solved this problem.</p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-project-euler-18-and-67" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/project-euler-18-and-67/"><strong>Project Euler Problem 18&amp;67 Solved</strong></a>
      <small class="article-date-index">&nbsp; 2014-04-10</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/project-euler-18-and-67/" class="article-date">
  <time datetime="2014-04-10T13:28:00.000Z" itemprop="datePublished">2014-04-10</time>
</a>-->
      <!--
  <div class="article-category-index">
    <a class="article-category-index-link" href="/categories/计算机/">计算机</a>
  </div>

-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/project-euler-18-and-67/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Maximum-path-sum-I"><a href="#Maximum-path-sum-I" class="headerlink" title="Maximum path sum I"></a>Maximum path sum I</h2><p>By starting at the top of the triangle below and moving to adjacent numbers on the row below, the maximum total from top to bottom is 23.</p>
<p>3<br>7 4<br>2 4 6<br>8 5 9 3</p>
<p>That is, 3 + 7 + 4 + 9 = 23.</p>
<p>Find the maximum total from top to bottom of the triangle below:</p>
<p>75<br>95 64<br>17 47 82<br>18 35 87 10<br>20 04 82 47 65<br>19 01 23 75 03 34<br>88 02 77 73 07 63 67<br>99 65 04 28 06 16 70 92<br>41 41 26 56 83 40 80 70 33<br>41 48 72 33 47 32 37 16 94 29<br>53 71 44 65 25 43 91 52 97 51 14<br>70 11 33 28 77 73 17 78 39 68 17 57<br>91 71 52 38 17 14 91 43 58 50 27 29 48<br>63 66 04 68 89 53 67 30 73 16 69 87 40 31<br>04 62 98 27 23 09 70 98 73 93 38 53 60 04 23</p>
<p><strong>NOTE</strong>: As there are only 16384 routes, it is possible to solve this problem by trying every route. However, Problem 67, is the same challenge with a triangle containing one-hundred rows; it cannot be solved by brute force, and requires a clever method! ;o)</p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><figure class="highlight python"><figcaption><span>p18.py</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    matrix = []</span><br><span class="line">    file = open(<span class="string">'data_p18.txt'</span>)</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> file.readlines():</span><br><span class="line">        matrix.append(map(int, line.replace(<span class="string">'\n'</span>, <span class="string">''</span>).split(<span class="string">' '</span>)))</span><br><span class="line"></span><br><span class="line">    (x, y) = (<span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">for</span> y <span class="keyword">in</span> range(len(matrix)):</span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> range(len(matrix[y])):</span><br><span class="line">            <span class="keyword">if</span> y &gt; <span class="number">0</span>:</span><br><span class="line">                greaterParentPathValue = <span class="number">0</span></span><br><span class="line">                <span class="keyword">if</span> x &gt; <span class="number">0</span>:</span><br><span class="line">                    greaterParentPathValue = matrix[y - <span class="number">1</span>][x - <span class="number">1</span>]</span><br><span class="line">                <span class="keyword">if</span> x &lt; len(matrix[y - <span class="number">1</span>]) <span class="keyword">and</span> matrix[y - <span class="number">1</span>][x] \</span><br><span class="line">                    &gt; greaterParentPathValue:</span><br><span class="line">                    greaterParentPathValue = matrix[y - <span class="number">1</span>][x]</span><br><span class="line">                matrix[y][x] += greaterParentPathValue</span><br><span class="line"></span><br><span class="line">    <span class="keyword">print</span> max(matrix[<span class="number">-1</span>])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<p>I’m the 70471st person to have solved this problem.</p>
<h2 id="Maximum-path-sum-II"><a href="#Maximum-path-sum-II" class="headerlink" title="Maximum path sum II"></a>Maximum path sum II</h2><p>By starting at the top of the triangle below and moving to adjacent numbers on the row below, the maximum total from top to bottom is 23.</p>
<p><strong>3</strong><br><strong>7</strong> 4<br>2 <strong>4</strong> 6<br>8 5 <strong>9</strong> 3</p>
<p>That is, 3 + 7 + 4 + 9 = 23.</p>
<p>Find the maximum total from top to bottom in <a href="http://projecteuler.net/project/triangle.txt" target="_blank" rel="noopener">triangle.txt</a> (right click and ‘Save Link/Target As…’), a 15K text file containing a triangle with one-hundred rows.</p>
<p><strong>NOTE</strong>: This is a much more difficult version of Problem 18. It is not possible to try every route to solve this problem, as there are 2^99 altogether! If you could check one trillion (10^12) routes every second it would take over twenty billion years to check them all. There is an efficient algorithm to solve it. ;o)</p>
<h2 id="Solution-1"><a href="#Solution-1" class="headerlink" title="Solution"></a>Solution</h2><figure class="highlight go"><figcaption><span>p67.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"bufio"</span></span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"io"</span></span><br><span class="line">    <span class="string">"os"</span></span><br><span class="line">    <span class="string">"sort"</span></span><br><span class="line">    <span class="string">"strconv"</span></span><br><span class="line">    <span class="string">"strings"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    f, err := os.Open(<span class="string">"data_p67.txt"</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="literal">nil</span> != err &#123;</span><br><span class="line">        fmt.Println(err)</span><br><span class="line">        os.Exit(<span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">defer</span> f.Close()</span><br><span class="line"></span><br><span class="line">    matrix := <span class="built_in">make</span>([][]<span class="keyword">int</span>, <span class="number">0</span>)</span><br><span class="line">    reader := bufio.NewReader(f)</span><br><span class="line">    <span class="keyword">for</span> &#123;</span><br><span class="line">        line, err := reader.ReadString(<span class="string">'\n'</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="literal">nil</span> != err || io.EOF == err &#123;</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">        row := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">0</span>)</span><br><span class="line">        numbers := strings.Split(strings.Replace(line, <span class="string">"\n"</span>, <span class="string">""</span>, <span class="number">-1</span>), <span class="string">" "</span>)</span><br><span class="line">        <span class="keyword">for</span> i := <span class="keyword">range</span> numbers &#123;</span><br><span class="line">            number, _ := strconv.Atoi(numbers[i])</span><br><span class="line">            row = <span class="built_in">append</span>(row, number)</span><br><span class="line">        &#125;</span><br><span class="line">        matrix = <span class="built_in">append</span>(matrix, row)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> y := <span class="number">0</span>; y &lt; <span class="built_in">len</span>(matrix); y++ &#123;</span><br><span class="line">        <span class="keyword">for</span> x := <span class="number">0</span>; x &lt; <span class="built_in">len</span>(matrix[y]); x++ &#123;</span><br><span class="line">            <span class="keyword">if</span> y &gt; <span class="number">0</span> &#123;</span><br><span class="line">                greaterParentPathValue := <span class="number">0</span></span><br><span class="line">                <span class="keyword">if</span> x &gt; <span class="number">0</span> &#123;</span><br><span class="line">                    greaterParentPathValue = matrix[y<span class="number">-1</span>][x<span class="number">-1</span>]</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> x &lt; <span class="built_in">len</span>(matrix[y<span class="number">-1</span>]) &amp;&amp; matrix[y<span class="number">-1</span>][x] &gt; greaterParentPathValue &#123;</span><br><span class="line">                    greaterParentPathValue = matrix[y<span class="number">-1</span>][x]</span><br><span class="line">                &#125;</span><br><span class="line">                matrix[y][x] += greaterParentPathValue</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    sort.Sort(sort.Reverse(sort.IntSlice(matrix[<span class="built_in">len</span>(matrix)<span class="number">-1</span>])))</span><br><span class="line">    fmt.Println(matrix[<span class="built_in">len</span>(matrix)<span class="number">-1</span>][<span class="number">0</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>I’m the 50650th person to have solved this problem.</p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <nav id="page-nav">
        <a class="extend prev" rel="prev" href="/page/21/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/20/">20</a><a class="page-number" href="/page/21/">21</a><span class="page-number current">22</span><a class="page-number" href="/page/23/">23</a><a class="page-number" href="/page/24/">24</a><span class="space">&hellip;</span><a class="page-number" href="/page/41/">41</a><a class="extend next" rel="next" href="/page/23/">Next &raquo;</a>
      </nav>
    

</section>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 晴耕雨讀&nbsp;
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, theme by <a href="http://github.com/52binge/hexo-theme-blairos">blairos</a>
    </div>
  </div>
</footer>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

    
<script type="text/javascript"> <!-- add by blair 0724 type=text/javascript -->
  var disqus_shortname = '0x3f';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="/js/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>
