<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>晴耕雨讀</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="晴耕雨讀">
<meta property="og:url" content="http://0x3f.org/page/30/index.html">
<meta property="og:site_name" content="晴耕雨讀">
<meta property="og:locale" content="zh-TW">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="晴耕雨讀">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="/webfonts/ptserif/main.css" rel="stylesheet" type="text/css">
  <link href="/webfonts/source-code-pro/main.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-93233020-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>
</html>
<body>
  <div id="container">
    <!-- blair add baidu tongji start... @2017.10.03 -->
<!-- blair add baidu tongji end ! @2017.10.03 -->

<header id="header">
  <div id="header-outer" class="outer">
    <div id="header-inner" class="inner">
      <a id="main-nav-toggle" class="nav-icon" href="javascript:;"></a>
      <a id="logo" class="logo" href="/"></a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/archives">目录</a>
        
          <a class="main-nav-link" href="/categories">分类</a>
        
          <a class="main-nav-link" href="/tags">标签</a>
        
          <a class="main-nav-link" href="https://t.me/s/blingings">不灵</a>
        
          <a class="main-nav-link" href="/about">关于</a>
        
      </nav>
      <nav id="sub-nav">
        <div id="search-form-wrap">
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://0x3f.org"></form>
        </div>
      </nav>
    </div>
  </div>
</header>

    <br>
    <section id="main" class="outer">
      <article id="post-how-to-hide-dialog-in-installshield" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/how-to-hide-dialog-in-installshield/"><strong>隐藏InstallShield对话框控件的方法</strong></a>
      <small class="article-date-index">&nbsp; 2011-06-22</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/how-to-hide-dialog-in-installshield/" class="article-date">
  <time datetime="2011-06-21T16:00:00.000Z" itemprop="datePublished">2011-06-22</time>
</a>-->
      <!--
-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/how-to-hide-dialog-in-installshield/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>SQLServerSelectLogin对话框中如果选择Windows身份验证，在附加数据库时会因权限不够而失败，所以应该隐藏这个选项，从而要求用户只执行SQL身份验证。</p>

<p>但是如果在定制对话框布局时直接删除两个单选框，会导致用户输入的用户名和密码不能被安装程序获取，并且InstallShield也没有提供隐藏这些控件的属性。解决方法是修改控件的定位属性，将其定位到对话框的大小范围之外：</p>

<p>要达到的目标：</p>

<p><a href="https://picasaweb.google.com/lh/photo/pDxRP_-E5wL7hAoCGYhHXQ?feat=embedwebsite" target="_blank" rel="noopener"><img src="https://lh5.googleusercontent.com/-069F7ZsOWOo/TgHdXDlb7iI/AAAAAAAABv0/zd6y0KAlYWM/s400/SQLServerSelectLogin_Customization_01.png" height="299" width="400"></a></p>

<p>修改Top属性，将指定的控件定位在对话框之外：</p>

<p><a href="https://picasaweb.google.com/lh/photo/5NUaJ2Re61aWiUcJwDOHZg?feat=embedwebsite" target="_blank" rel="noopener"><img src="https://lh6.googleusercontent.com/-9xthNFn9b2U/TgHdXnU-TmI/AAAAAAAABv4/-pQdJWF3nM8/s400/SQLServerSelectLogin_Customization_02.png" height="302" width="400"></a></p>

<p>最终效果：</p>

<p><a href="https://picasaweb.google.com/lh/photo/PImOz5YLlQKHAS2KUfggyw?feat=embedwebsite" target="_blank" rel="noopener"><img src="https://lh5.googleusercontent.com/-o2S0V7IzHKg/TgHdWxwEWMI/AAAAAAAABvw/2q4M26A_O2s/s400/SQLServerSelectLogin_Customization_03.png" height="299" width="400"></a></p>

<p>Posted via <a href="http://0x3f.org/?p=1894">UltraBlog.vim</a>.</p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-after-reading-extjs-in-action" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/after-reading-extjs-in-action/"><strong>读完『Ext JS IN Action』</strong></a>
      <small class="article-date-index">&nbsp; 2011-06-21</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/after-reading-extjs-in-action/" class="article-date">
  <time datetime="2011-06-20T16:00:00.000Z" itemprop="datePublished">2011-06-21</time>
</a>-->
      <!--
-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/after-reading-extjs-in-action/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>这是本需要仔细读的书，对ExtJS的主要控件有比较详细的解说，有一定的原理性解释，并且对扩展ExtJS和ExtJS项目开发的模式有一些介绍。但不涉及底层特性，例如DOM、AJAX等。</p>

<p><a href="https://picasaweb.google.com/lh/photo/-SKr3JvnYwcLN0fb6sxCpw?feat=embedwebsite" target="_blank" rel="noopener"><img src="https://lh5.googleusercontent.com/-buAuqjZT0o4/Tf9kmGOt4vI/AAAAAAAABvQ/LezmUW7CJ74/s400/ExtJS_In_Action.jpg" height="400" width="319"></a></p>

<p>Posted via <a href="http://0x3f.org/?p=1894">UltraBlog.vim</a>.</p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-ultrablog-v230-released" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/ultrablog-v230-released/"><strong>UltraBlog.vim v2.3.0 Released With Templates</strong></a>
      <small class="article-date-index">&nbsp; 2011-06-13</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/ultrablog-v230-released/" class="article-date">
  <time datetime="2011-06-12T16:00:00.000Z" itemprop="datePublished">2011-06-13</time>
</a>-->
      <!--
-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/ultrablog-v230-released/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>I released the new version 2.3.0 of <a href="http://0x3f.org/?p=1894">UltraBlog.vim</a> last week. The main improvement in this version is that templates are introduced in.</p>

<p>Templates are simply HTML strings, they are used to preview posts/pages in the browser locally. This feature is a reparation for the remote previewing, due to the limit of the API, users cannot send a post to Wordpress as draft and preview it without affecting the post status if the post has been published. With templates, they do not have to send drafts to blogs to preview the final effect, but preview drafts directly in the browser in a pre-defined style. Templates can be created as many as users like and their looks can be customized with CSS, HTML and Javascript.</p>

<p>The following illustrations show the content and final effect of the default template:</p>

<p>
<div style="display:table;">
    <span style="display:table-cell;"><a href="https://picasaweb.google.com/lh/photo/bixn15q6ujUIQmamJDm7lQ?feat=embedwebsite" target="_blank" rel="noopener"><img src="https://lh4.googleusercontent.com/-RCCNuSJbvsc/TfX_QuWobsI/AAAAAAAABuY/2eeov12lzX0/s288/ultrablog_default_template.png" title="The Content of The Default Template" height="180" width="288"></a></span>
    <span style="display:table-cell;width:10px;"></span>
    <span style="display:table-cell;"><a href="https://picasaweb.google.com/lh/photo/B0fBmAnyW2IAYDFcWb2e7Q?feat=embedwebsite" target="_blank" rel="noopener"><img src="https://lh6.googleusercontent.com/-d0B7UEfZEYs/TfYEEJobpfI/AAAAAAAABug/OVYAB-imXlE/s288/ultrablog_template_effect.png" title="The Final Effect of The Default Template" height="180" width="288"></a></span>
</div>
</p>

<p>Templates should be formatted as valid Python template strings, that is, use the following avaliable placeholders and escape any literal '%' with another '%':</p>

<blockquote>
  <p>%(title)s <br>
     The title of the current post/page.</p>
  
  <p>%(content)s <br>
     The content of the current post/page.</p>
  
  <p>%% <br>
     A literal '%'.</p>
</blockquote>

<p>Users can take the default template whose name is 'default' as an example for writing their own templates. The default template can be changed to another one by setting the name of that template to the option <strong>ub_default_template</strong>.</p>

<p>Posted via <a href="http://0x3f.org/?p=1894">UltraBlog.vim</a>.</p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-how-to-define-auto-completion-for-vim-commands" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/how-to-define-auto-completion-for-vim-commands/"><strong>Vim自定义命令的参数自动补全</strong></a>
      <small class="article-date-index">&nbsp; 2011-06-11</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/how-to-define-auto-completion-for-vim-commands/" class="article-date">
  <time datetime="2011-06-10T16:00:00.000Z" itemprop="datePublished">2011-06-11</time>
</a>-->
      <!--
-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/how-to-define-auto-completion-for-vim-commands/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://0x3f.org/?p=1894">UltraBlog.vim</a>起初的几个版本采用增加命令个数的方式减少每个命令的参数个数，目的是降低命令格式记忆的难度。从2.3.0版本起，开始采用Vim自定义命令的一些高级特性，精简命令个数，虽然参数个数增加了，但由于实现了参数补全，反而更加直观。</p>

<p>Vim对自定义命令提供了多种补全参数的方式，详见<code>:h command-complete</code>。其中，最常用的当属<strong>custom</strong>：</p>

<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command! -nargs=? -<span class="built_in">complete</span>=custom,StatusCmpl UBSend exec(<span class="string">'py ub_send_item(&lt;f-args&gt;)'</span>)</span><br></pre></td></tr></table></figure>

<p>以上代码定义了一个自定义命令<strong>UBSend</strong>，它可以获得一个或零个参数（<em>-nargs=?</em>），如果指定参数，则补全方式采用<strong>custom</strong>，该方式调用一个名为<strong>StatusCmpl</strong>的函数并以其返回值作为补全的值域：</p>

<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>! <span class="title">StatusCmpl</span><span class="params">(ArgLead, CmdLine, CursorPos)</span></span></span><br><span class="line">  <span class="keyword">return</span> <span class="string">"draft\npublish\nprivate\npending\n"</span></span><br><span class="line"><span class="keyword">endfunction</span></span><br></pre></td></tr></table></figure>

<p>从以上代码可以看出，该函数需要接受三个参数，返回值应该是一个用换行符“\n”分割的字符串，在执行补全时，Vim自动使用正则表达式匹配备选项。对于只有一个参数的情况，这种实现方式简单高效。</p>

<p>对于参数较多的情况，<strong>customlist</strong>补全方式最为适用：</p>

<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command! -nargs=* -<span class="built_in">complete</span>=customlist,UBNewCmpl UBNew exec(<span class="string">'py ub_new_item(&lt;f-args&gt;)'</span>)</span><br></pre></td></tr></table></figure>

<p>以上代码定义了命令<strong>UBNew</strong>，<strong>customlist</strong>补全方式调用函数<strong>UBNewCmpl</strong>获取补全的值域：</p>

<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>! <span class="title">UBNewCmpl</span><span class="params">(ArgLead, CmdLine, CursorPos)</span></span></span><br><span class="line">    <span class="keyword">let</span> lst = <span class="keyword">split</span>(<span class="variable">a:CmdLine</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(<span class="variable">a:ArgLead</span>)&gt;<span class="number">0</span></span><br><span class="line">        <span class="keyword">let</span> lst = lst[<span class="number">0</span>:-<span class="number">2</span>]</span><br><span class="line">    <span class="keyword">endif</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> results = []</span><br><span class="line">    <span class="comment">" For the first argument, complete the object type</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(lst)==<span class="number">1</span></span><br><span class="line">        <span class="keyword">let</span> objects = [<span class="string">'post'</span>,<span class="string">'page'</span>,<span class="string">'tmpl'</span>]</span><br><span class="line">        <span class="keyword">for</span> obj in objects</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">stridx</span>(obj,<span class="variable">a:ArgLead</span>)==<span class="number">0</span></span><br><span class="line">                <span class="keyword">call</span> <span class="built_in">add</span>(results,obj)</span><br><span class="line">            <span class="keyword">endif</span></span><br><span class="line">        <span class="keyword">endfor</span></span><br><span class="line">    <span class="comment">" For the second argument, complete the syntax for :UBNew post or :UBNew</span></span><br><span class="line">    <span class="comment">" page</span></span><br><span class="line">    <span class="keyword">elseif</span> <span class="built_in">len</span>(lst)==<span class="number">2</span> &amp;&amp; <span class="built_in">count</span>([<span class="string">'post'</span>, <span class="string">'page'</span>], lst[<span class="number">1</span>])==<span class="number">1</span></span><br><span class="line">        <span class="keyword">let</span> syntaxes = [<span class="string">'markdown'</span>,<span class="string">'html'</span>,<span class="string">'rst'</span>,<span class="string">'textile'</span>,<span class="string">'latex'</span>]</span><br><span class="line">        <span class="keyword">for</span> synx in syntaxes</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">stridx</span>(synx,<span class="variable">a:ArgLead</span>)==<span class="number">0</span></span><br><span class="line">                <span class="keyword">call</span> <span class="built_in">add</span>(results,synx)</span><br><span class="line">            <span class="keyword">endif</span></span><br><span class="line">        <span class="keyword">endfor</span></span><br><span class="line">    <span class="keyword">endif</span></span><br><span class="line">    <span class="keyword">return</span> results</span><br><span class="line"><span class="keyword">endfunction</span></span><br></pre></td></tr></table></figure>

<p>这时侯，前面提到的三个参数就派上用场了。<strong>ArgLead</strong>是进行补全时，已输入的参数部分，例如输入<code>:UBNew p</code>，然后按Tab键，则ArgLead的值就是“p”；<strong>CmdLine</strong>是已经输入的命令的全部，按上例，这个参数的值就是“UBNew p”；<strong>CursorPost</strong>是当前光标距离命令行开头的字符数。利用这三个参数，就可以判断正在补全命令的第几个参数，进而利用ArgLead筛选该参数的值域。</p>

<p>与<strong>custom</strong>调用的函数不同，<strong>customlist</strong>调用的函数的返回值应该是一个<strong>list</strong>类型的值。</p>

<p>Posted via <a href="http://0x3f.org/?p=1894">UltraBlog.vim</a>.</p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-burn-personal-info-into-one-feed-using-yahoo-pipes" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/burn-personal-info-into-one-feed-using-yahoo-pipes/"><strong>聚合个人资讯</strong></a>
      <small class="article-date-index">&nbsp; 2011-06-08</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/burn-personal-info-into-one-feed-using-yahoo-pipes/" class="article-date">
  <time datetime="2011-06-07T16:00:00.000Z" itemprop="datePublished">2011-06-08</time>
</a>-->
      <!--
-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/burn-personal-info-into-one-feed-using-yahoo-pipes/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>前段时间我把Twitter整合进博客之后，忽然觉得，既然微博已经很重要了，就应该加强它的地位，使其与博客分庭抗礼。于是开始用<a href="http://www.blueprintcss.org/" target="_blank" rel="noopener">blueprint</a>做CSS框架，对两三年没变过的<a href="http://0x3f.org/?p=198">iterse</a>做一些调整。</p>

<p>我对前端不太熟悉，这时候CSS框架的优越性就充分体现出来了，它让页面的布局变得相当容易，尤其是对前端设计最烦人的对多浏览器的兼容问题。现在的主题采用流行的950px宽度，比以前800px要宽裕了不少。其中，三分之一的宽度分给侧边栏，剩余部分留给博客文章列表，仍然采用两栏结构。</p>

<p>我在页面顶部加了顶栏，将原来侧边栏中的分类、归档、页面、搜索框、RSS订阅全部扔到里面。同时提升Twitter和最新评论列表的位置，增加它们显示条目的数量，以加强这两个时效性和互动性比较强的栏目。</p>

<p>然后我觉得资讯订阅中的内容也不应该再仅仅局限于博客文章了，应该把我在用的Twitter、豆瓣、Google Reader分享、PicasaWeb等服务中我的资讯也聚合进来。<del>开始的时候打算用<a href="http://pipes.yahoo.com/" target="_blank" rel="noopener">Yahoo! Pipes</a>，后来突然发现<a href="http://friendfeed.com" target="_blank" rel="noopener">FriendFeed</a>就可以做这个事，而且更好用，于是将原来烧录的<a href="http://feeds.feedburner.com/leninlee" target="_blank" rel="noopener">http://feeds.feedburner.com/leninlee</a>指向FriendFeed。</del></p>

<p>所以对于订阅原来的FeedBurner烧录的feed的读者，如果希望仍然只订阅博客文章，可以订阅<a href="http://feeds.feedburner.com/sinolog" target="_blank" rel="noopener">http://feeds.feedburner.com/sinolog</a>。这两个feed都放到了顶栏中，请以各种姿态翻墙订阅。</p>

<p><strong>2011-06-08 更新</strong></p>

<p>时隔一天，我认识到一个错误，FriendFeed毕竟还是一个微博，用它聚合个人资讯是不合适的，比如不能全文输出博客文章。最终还是使用Yahoo! Pipes，这货很强大、很好用。</p>

<p><a href="https://picasaweb.google.com/lh/photo/A47YaQXgVCk4TjIny4MSZQ?feat=embedwebsite" target="_blank" rel="noopener"><img src="https://lh6.googleusercontent.com/-XeC4asNS_rU/Te-jeQU1jbI/AAAAAAAABs4/qMPXWNyciuA/s400/2011-06-09.00%25253A33%25253A19.%2525E6%252593%2525B7%2525E5%25258F%252596%2525E9%252581%2525B8%2525E5%25258F%252596%2525E5%25258D%252580%2525E5%25259F%25259F.01.png" height="239" width="400"></a></p>

<p>另外，<a href="http://twitter2rss.com/" target="_blank" rel="noopener">twitter2rss</a>是支持OAuth的Twitter烧录服务，非常好用。</p>

<p>Posted via <a href="http://0x3f.org/?p=1894">UltraBlog.vim</a>.</p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-humanize-preview-window-in-vim" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/humanize-preview-window-in-vim/"><strong>人性化Vim的预览窗口</strong></a>
      <small class="article-date-index">&nbsp; 2011-05-29</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/humanize-preview-window-in-vim/" class="article-date">
  <time datetime="2011-05-28T16:00:00.000Z" itemprop="datePublished">2011-05-29</time>
</a>-->
      <!--
-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/humanize-preview-window-in-vim/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>Vim的预览窗口由<code>:ptag</code>等命令触发，可用于预览函数定义。但在缺省情况下，预览窗口的高度是固定的，对于注释信息较多的函数，往往不能完全显示注释，而对于注释较少的函数，又会有多余的行浪费屏幕空间。</p>

<p>下面的函数用于解决这个问题：</p>

<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">" 调用:ptag命令预览光标所在&lt;word&gt;的定义</span></span><br><span class="line"><span class="comment">" 对类C语言风格的函数/方法定义和注释有效，对其余情况仍沿用:ptag的原有效果</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>! <span class="title">PTagIt</span><span class="params">()</span></span></span><br><span class="line">    exec <span class="string">"ptag "</span>.<span class="built_in">expand</span>(<span class="string">"&lt;cword&gt;"</span>)</span><br><span class="line">    <span class="keyword">let</span> cwin = <span class="built_in">winnr</span>()</span><br><span class="line">    silent! <span class="keyword">wincmd</span> <span class="keyword">P</span></span><br><span class="line">    <span class="keyword">let</span> lnr = <span class="built_in">line</span>(<span class="string">'.'</span>)</span><br><span class="line">    <span class="keyword">if</span> lnr &lt; <span class="number">3</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">endif</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">foldlevel</span>(<span class="string">'.'</span>)&gt;<span class="number">0</span></span><br><span class="line">        <span class="keyword">normal</span> zo</span><br><span class="line">    <span class="keyword">endif</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> chead = <span class="number">0</span></span><br><span class="line">    <span class="keyword">let</span> linestr = <span class="built_in">getline</span>(lnr-<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">if</span> linestr =~ <span class="string">'^\s*\*/'</span></span><br><span class="line">        <span class="keyword">let</span> <span class="keyword">ptr</span> = lnr-<span class="number">2</span></span><br><span class="line">        <span class="keyword">while</span> <span class="keyword">ptr</span>&gt;<span class="number">0</span></span><br><span class="line">            <span class="keyword">let</span> linestr = <span class="built_in">getline</span>(<span class="keyword">ptr</span>)</span><br><span class="line">            <span class="keyword">if</span> linestr =~ <span class="string">'^\s*/\*'</span></span><br><span class="line">                <span class="keyword">let</span> chead = <span class="keyword">ptr</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">endif</span></span><br><span class="line">            <span class="keyword">let</span> <span class="keyword">ptr</span> = <span class="keyword">ptr</span>-<span class="number">1</span></span><br><span class="line">        <span class="keyword">endwhile</span></span><br><span class="line">    <span class="keyword">endif</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> chead&gt;<span class="number">0</span></span><br><span class="line">        exec <span class="string">'resize '</span>.(lnr-chead+<span class="number">1</span>)</span><br><span class="line">        exec <span class="string">'normal '</span>.chead.<span class="string">"z\&lt;CR&gt;"</span></span><br><span class="line">        exec <span class="string">'normal '</span>.lnr.<span class="string">'G'</span></span><br><span class="line">    <span class="keyword">endif</span></span><br><span class="line"></span><br><span class="line">    exec cwin.<span class="string">'wincmd w'</span>  </span><br><span class="line"><span class="keyword">endfunction</span></span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;leader&gt;</span><span class="keyword">pp</span> :<span class="keyword">call</span> PTagIt()<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;leader&gt;</span><span class="keyword">pc</span> :<span class="keyword">pclose</span><span class="symbol">&lt;CR&gt;</span></span><br></pre></td></tr></table></figure>

<p>例如对于如下的函数定义：</p>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 我是一个测试函数</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> int 我是整型形参</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> string 我是字符串形参</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> array 我是返回值</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span><span class="params">($bar1, $bar2)</span> </span>&#123;...&#125;</span><br></pre></td></tr></table></figure>

<p>实际效果为打开的预览窗口将完全显示并只显示以上内容。</p>

<p>Posted via <a href="http://0x3f.org/?p=1894">UltraBlog.vim</a>.</p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-use-ack-as-an-alternative-to-grep" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/use-ack-as-an-alternative-to-grep/"><strong>ack: grep的同类替代品</strong></a>
      <small class="article-date-index">&nbsp; 2011-05-09</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/use-ack-as-an-alternative-to-grep/" class="article-date">
  <time datetime="2011-05-08T16:00:00.000Z" itemprop="datePublished">2011-05-09</time>
</a>-->
      <!--
-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/use-ack-as-an-alternative-to-grep/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://betterthangrep.com" target="_blank" rel="noopener">ack</a>是一个perl脚本，是grep的一个可选替换。</p>

<p>有以下优势：</p>

<ul>
<li>为程序员设计，使用方便，输入较少
<ul>
<li>默认递归搜索</li>
<li>缺省提供多种文件类型供选，文件类型对应的后缀名可修改</li>
</ul></li>
<li>使用perl的正则表达式，而grep只支持其一个子集</li>
<li>搜索结果高亮输出</li>
</ul>

<p>很多人以讹传讹，使人容易对ack的搜索速度产生误解。ack的官方宣传中说比grep快，其前提是ack可方便地针对部分后缀的文件进行搜索，而grep默认对所有文件搜索。ack的官方文档中明确指出，在对大量文件进行搜索时，grep的速度还是最快的。</p>

<h2>~/.ackrc</h2>

<p>使用此配置文件存储ack的常用选项。</p>

<blockquote>
  <p>-i
  --type-add
  php=.lib</p>
</blockquote>

<p>如上所示，该文件中每一行应该是ack命令行参数中用空格分隔的一个部分。</p>

<h2>例子</h2>

<p>如果搜索的关键词是正则表达式，在Linux下必须将其用双引号包围起来。</p>

<p>如：</p>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ack <span class="string">"gbldb\s*="</span></span><br></pre></td></tr></table></figure>

<h2>Windows下的安装</h2>

<ul>
<li>安装<a href="http://strawberryperl.com" target="_blank" rel="noopener">strawberryperl</a></li>
<li>保存<a href="http://betterthangrep.com/ack-standalone" target="_blank" rel="noopener">ack.pl</a>到<em>C:\bin</em></li>
<li>创建批处理文件<em>C:\bin\ack.bat</em>：<figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line">perl.exe c:/bin/ack.pl %*</span><br></pre></td></tr></table></figure></li>
<li>将<em>C:\bin</em>加入环境变量<strong>%PATH%</strong></li>
</ul>

<h2>资源</h2>

<ul>
<li><a href="http://www.vim.org/scripts/script.php?script_id=2572" target="_blank" rel="noopener">ack.vim</a>: Vim使用ack的辅助扩展</li>
</ul>

<p>Posted via <a href="http://0x3f.org/?p=1894">UltraBlog.vim</a>.</p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-after-reading-nginx-http-server" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/after-reading-nginx-http-server/"><strong>读完《Nginx HTTP Server》</strong></a>
      <small class="article-date-index">&nbsp; 2011-04-29</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/after-reading-nginx-http-server/" class="article-date">
  <time datetime="2011-04-28T16:00:00.000Z" itemprop="datePublished">2011-04-29</time>
</a>-->
      <!--
-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/after-reading-nginx-http-server/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>昨天晚上在杭州飞北京的飞机上读完了这本书，用Kindle DXG。</p>

<p>作者是江苏科技大学的一位外籍老师，所以这本书也很有教科书的风格，先用一章的篇幅介绍Linux的相关概念和日常操作，而后通过和Apache的对比讲述了Nginx的主要特性，并使用Wordpress、MediaWiki等作了实例讲解。面面俱到，简单易懂，但并不深入。</p>

<p>目前介绍Nginx的书还不多，这本算得上是其中很好的一本。但是前六十页都是介绍Linux的基本概念，和后面的内容关系不大，显得很突兀，且很不KISS，对于一本只有三百多页的小书来说，这个篇幅很令人遐想。抛开这一点，这本书当属眼下入门Nginx的优秀指南。</p>

<p><a href="https://picasaweb.google.com/lh/photo/1wfTXx_Zpcr1BVlrh5KD_A?feat=embedwebsite" target="_blank" rel="noopener"><img src="https://lh5.googleusercontent.com/_ceUJ_lBTHzc/TbrPHzzLMJI/AAAAAAAABqY/2cOJEsushfU/s400/1.png" height="400" width="309"></a></p>

<p>Posted via <a href="http://0x3f.org/?p=1894">UltraBlog.vim</a>.</p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-comparison-of-serialization-methods-of-php" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/comparison-of-serialization-methods-of-php/"><strong>PHP序列化方案效率比较</strong></a>
      <small class="article-date-index">&nbsp; 2011-04-17</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/comparison-of-serialization-methods-of-php/" class="article-date">
  <time datetime="2011-04-16T16:00:00.000Z" itemprop="datePublished">2011-04-17</time>
</a>-->
      <!--
-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/comparison-of-serialization-methods-of-php/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>同时对以下几种PHP的序列化方案进行了测试：</p>

<ul>
<li>serialize() and unserialize()</li>
<li>json_encode() and json_decode()</li>
<li>msgpack_serialize() and msgpack_unserialize()</li>
<li>igbinary_serialize() and igbinary_unserialize()</li>
</ul>

<p>测试环境：</p>

<ul>
<li>OS:        Archlinux 32-bit</li>
<li>CPU:       CORE 2 DUO T9400, 2.53GHz</li>
<li>Mem:       DDR3, 3G</li>
<li>Server:    nginx v1.0.0</li>
<li>PHP:       php v5.3.6 + php-fpm</li>
<li>Profiler:  xhprof v0.9.2</li>
</ul>

<p>测试代码块：</p>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;value = str_repeat(<span class="string">'a'</span>, <span class="number">1000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">produce</span><span class="params">($num)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $arr = <span class="keyword">array</span>();</span><br><span class="line">    <span class="keyword">for</span> ($i = <span class="number">0</span>; $i &lt; $num; $i++) &#123;</span><br><span class="line">        $arr[] = <span class="keyword">new</span> Test();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    $data = serialize($arr);</span><br><span class="line"></span><br><span class="line">    $arr = unserialize($data);</span><br><span class="line"></span><br><span class="line">    $data = json_encode($arr);</span><br><span class="line"></span><br><span class="line">    $arr = json_decode($data);</span><br><span class="line"></span><br><span class="line">    $data = msgpack_serialize($arr);</span><br><span class="line"></span><br><span class="line">    $arr = msgpack_unserialize($data);</span><br><span class="line"></span><br><span class="line">    $data = igbinary_serialize($arr);</span><br><span class="line"></span><br><span class="line">    $arr = igbinary_unserialize($data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">produce(<span class="number">10000</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>测试结果：</p>

<p><a href="https://picasaweb.google.com/lh/photo/TAyUpJxyW3RVj18DU4B9gg?feat=embedwebsite" target="_blank" rel="noopener"><img src="https://lh6.googleusercontent.com/-2iBCMB4kyOg/Taq-aeruqEI/AAAAAAAABp4/wyqG-Qt5s0c/s400/php_serialization.png" height="124" width="400"></a></p>

<ul>
<li>序列化性能：serialize() <strong><em>24.611ms</em></strong> &gt; msgpack_serialize() <strong><em>32.687ms</em></strong> &gt; igbinary_serialize() <strong><em>36.012ms</em></strong> &gt; json_encode() <strong><em>132.142ms</em></strong></li>
<li>反序列化性能：igbinary_unserialize() <strong><em>12.141ms</em></strong> &gt; msgpack_unserialize() <strong><em>17.185ms</em></strong> &gt; unserialize() <strong><em>28.723ms</em></strong> &gt; json_decode() <strong><em>183.141ms</em></strong></li>
<li>综合性能：igbinary <strong><em>48.153ms</em></strong> &gt; msgpack <strong><em>49.872ms</em></strong> &gt; serialize <strong><em>53.334ms</em></strong> &gt; json <strong><em>315.283ms</em></strong></li>
</ul>

<p>测试结果并没有像传说中的那样，官方的序列化和反序列化函数性能与msgpack和igbinary两个第三方的扩展相差不大，而JSON性能非常差。</p>

<p>Posted via <a href="http://0x3f.org/?p=1894">UltraBlog.vim</a>.</p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <article id="post-ultrablog-development-note" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <myh11 itemprop="name">
      <a class="article-title-index" href="/post/ultrablog-development-note/"><strong>UltraBlog.vim开发手记</strong></a>
      <small class="article-date-index">&nbsp; 2011-04-11</small>
      <!--<a>
      <div = post.date  </div>
      </a>-->
      <br>
      <br> <!-- blair add -->
    </myh11>
  


      </header>
    
    <div class="article-meta">
      <!--<a href="/post/ultrablog-development-note/" class="article-date">
  <time datetime="2011-04-10T16:00:00.000Z" itemprop="datePublished">2011-04-11</time>
</a>-->
      <!--
-->
      <!--
      
        <div class="article-comment-link-wrap">
          <a href="http://0x3f.org/post/ultrablog-development-note/#disqus_thread" class="article-comment-link">Comments</a>
        </div>
      
      -->
    </div>
	
    <div class="article-entry" itemprop="articleBody">
      
        <p>对于<a href="http://blog.sina.com.cn/s/blog_694377f90100rmko.html" target="_blank" rel="noopener">博客已死</a>的说法，我一点都不感到奇怪。早在几年前博客还比较火的时候我就表达过对博客泡沫的<a href="http://0x3f.org/?p=209">看法</a>。</p>

<p>经历了短暂的<a href="http://0x3f.org/?p=354">tumblog</a>的风头，微博成为现在最火的媒介。说博客已死，无非就是说微博将成为个人信息传播的主流。好吧，现在我知道那时候我所说的不懂什么是博客的人都去干什么了。</p>

<p>但是博客还是会继续发展，微博的兴起只会减少滥竽充数。因为微博突出的是时效性，最缺乏的是系统性和可重复更新的能力。微博的短处，正是博客的长处。这让我对博客有了一个新的、迟到了很久的认识──一个好的博客，它的文章不应该是写掉就忘的，而应该是不断地更新著的。</p>

<p><a href="http://0x3f.org/?p=1894">UltraBlog.vim</a>就是出于这个需要而写的。</p>

<p>我对博客客户端的使用大概可以追溯到四五年前，那时候博客正火，在比较了几个<a href="http://en.wikipedia.org/wiki/Blog_service_provider" target="_blank" rel="noopener">BSP</a>后选择了<a href="http://www.blogcn.com/" target="_blank" rel="noopener">中国博客网</a>，就是因为他们提供桌面客户端。后来独博之后也试用过几个通用的客户端，但都没坚持多久，最根本的原因是它们几乎无一例外地都是<a href="http://zh.wikipedia.org/wiki/%E6%89%80%E8%A6%8B%E5%8D%B3%E6%89%80%E5%BE%97" target="_blank" rel="noopener">WYSIWYG</a>。而WYSIWYG的编辑器生成的HTML源码几乎都使用inline的样式，这就导致文章的排版布局很难控制，我对WYSIWYG其实是很抵触的，至今都不怎么用Office这类东西。</p>

<p>后来我意识到，我所需要的是样式与内容分离，于是准备自己写一个<a href="http://0x3f.org/?p=331">客户端</a>，后来由于工作的原因不了了之。与此同时，我自定义了一套文章格式并用Java写了一个转换文章到HTML的<a href="http://0x3f.org/?p=342">工具</a>，直到后来发现<a href="http://0x3f.org/?p=383">Markdown</a>，我才知道我其实是需要一个轻量标记语言。</p>

<p>使用Markdown之后，写博客开始变得轻松愉快。我一度用过一段时间<a href="http://www.scintilla.org/SciTE.html" target="_blank" rel="noopener">SciTE</a>，还用<a href="http://zh.wikipedia.org/wiki/Lua" target="_blank" rel="noopener">Lua</a>写了个<a href="http://0x3f.org/?p=499">辅助脚本</a>。但是我需要一个完整的客户端来管理文章，而这是一个编辑器所不能胜任的，所以就著手实现一个支持Markdown的<a href="http://0x3f.org/?p=812">客户端</a>。这一次走得比较远，<a href="http://0x3f.org/?p=812">ForeverFantasy</a>最终达到了可用的程度，我一度用它写过一段时间的博客。但是作为一个Vim重症患者，wxPython的编辑器部件是远远达不到我需要的水平的。虽然后来还<a href="http://0x3f.org/?p=1409">实现</a>了调用外部程序处理文章内容（<em>当然也可以调用Vim</em>），但总归觉得不舒服，至今已经一年没更新了。</p>

<p>直到前段时间试用了一下<a href="http://0x3f.org/?p=1861">VimRepress</a>，在修改这个插件的时候突然受到启发，我这几年的需求原来是可以这么简单地解决的。</p>

<p>其实在几年前<a href="http://www.vim.org/scripts/script.php?script_id=1953" target="_blank" rel="noopener">vimpress</a>刚刚发布的时候我就了解过这个东西，包括此后接连发布的几个Vim写博客的插件，它们和我原来写的SciTE的那个辅助脚本没有本质的区别，都是博客编辑器。与完整的客户端相比，编辑器缺少对本地文章源码的管理，而且它们不记录文章源码和发布的文章的关联关系，简单地说是无状态的。这不符合博客文章持续更新的观点。</p>

<p>UltraBlog.vim使用<a href="http://www.sqlalchemy.org/" target="_blank" rel="noopener">SQLAlchemy</a>做数据库抽象层，将所有文章的源码及其状态保存在本地的一个SQLite数据库中，并且以此为基础，通过<a href="http://en.wikipedia.org/wiki/XML-RPC" target="_blank" rel="noopener">XMLRPC</a>接口实现对博客文章、页面的<a href="http://en.wikipedia.org/wiki/Create,_read,_update_and_delete" target="_blank" rel="noopener">CRUD</a>操作。同时利用Vim分模式的特点实现了可分页的文章列表和文章编辑视图。</p>

<p>UltraBlog.vim目前支持Markdown和HTML两种格式的文章，它最大的特点是在Markdown格式的源码和发布到博客中的文章之间建立联系，你可以随时修改本地数据库中的Markdown源码并更新博客中对应的文章。</p>

<p>新的功能还会不断地加入。</p>

<p>Posted via <a href="http://0x3f.org/?p=1894">UltraBlog.vim</a>.</p>

      
    </div>
	
    <!--
	
    -->
    <!--
    
      <footer class="article-footer">
      </footer>
    
    -->
  </div>
  
</article>



    
      <nav id="page-nav">
        <a class="extend prev" rel="prev" href="/page/29/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/28/">28</a><a class="page-number" href="/page/29/">29</a><span class="page-number current">30</span><a class="page-number" href="/page/31/">31</a><a class="page-number" href="/page/32/">32</a><span class="space">&hellip;</span><a class="page-number" href="/page/41/">41</a><a class="extend next" rel="next" href="/page/31/">Next &raquo;</a>
      </nav>
    

</section>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 晴耕雨讀&nbsp;
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, theme by <a href="http://github.com/52binge/hexo-theme-blairos">blairos</a>
    </div>
  </div>
</footer>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX"],
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      displayMath: [ ['$$','$$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://myserver.com/MathJax/config/local/local.js">
</script>

    
<script type="text/javascript"> <!-- add by blair 0724 type=text/javascript -->
  var disqus_shortname = '0x3f';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="/js/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>
