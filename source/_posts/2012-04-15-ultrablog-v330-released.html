---
layout: post
title: UltraBlog.vim v3.3.0：I18N、超時時間和其它
tags:
- Plugin
- Python
- UltraBlog.vim
- Vim
- 博客
- 編程
status: publish
type: post
published: true
comments: true
meta:
  aktt_notify_twitter: 'no'
  posturl_add_url: 'yes'
  views: '53'
---
<p>UB一歲了，這算是個週年紀念版吧。</p>

<p>在這一年裡，因為各種原因，博客寫得沒有以前多了，但每篇都是用這個插件寫的，我覺得很好用。斷斷續續地做了一些修改，因為一切都是一個人在做，所以大的變化不多。這次這個版本裡有些改動還是要感謝<a href="http://ihacklog.com/">荒野無燈</a>童鞋，他的<a href="https://github.com/xbot/UltraBlog.vim/issues/3">建議</a>很大程度上催生了這個新版本：比如加入保存命令的熱鍵映射選項，這樣可以使用保存普通文件的熱鍵保存UB中的內容，我自己以前也經常習慣性地用錯熱鍵；還有socket超時時間的選項，最近我這裡也經常性地在UB操作博客時報超時的異常，荒童鞋關於自定義socket超時時間的建議一語驚醒了夢中人。</p>

<p>此外，似乎與近期Vim的一次升級<a href="http://comments.gmane.org/gmane.editors.vim.devel/34092">有關</a>，在Vim中調用Python接口打印任何內容到標準IO都會導致Vim崩潰，所以這次把所有的輸出都改成了調用Vim的輸出命令來做。</p>

<p>本次修改的內容中，還有一項比較重要的內容就是實現了國際化，目前只提供英文和簡體中文兩種語言，由於Vimball不能處理二進制文件，所以從此以後UB改用zip格式壓縮包打包。</p>

<p>以下是本次更新的詳細內容：</p>

<ul>
<li>Feature: Add i18n support !</li>
<li>Feature: Add a new option <strong>ub_hotkey_save_current_item</strong>, users can define their own hotkey for <strong>:UBSave</strong>.</li>
<li>Feature: Add a new option <strong>ub_socket_timeout</strong>, users can customize the timeout period in seconds, useful for slow networks.</li>
<li>Bugfix:  Exception raised when one event is processed by more than one event handlers.</li>
<li>Change:  Echoing messages now uses the command :echoerr instead of python's sys.stderr, because Vim crashes on this due to an upgrade recently.</li>
<li>Change:  Change commands <strong>:UBSave</strong>, <strong>:UBSend</strong>, <strong>:UBUpload</strong>, <strong>:UBConv</strong>, <strong>:UBPreview</strong> to be available only in their effective views.</li>
<li>Change:  Lists are set nowrapped.</li>
<li>Bugfix:  Stop complaining '<strong>_pop from empty list_</strong>' while doing almost everything.</li>
</ul>

<p>關於UB的詳細信息在<a href="http://0x3f.org/?p=1894">這裡</a>。</p>

<p>Posted via <a href="http://0x3f.org/?p=1894">UltraBlog.vim</a>.</p>
