---
layout: post
title: Dokan SSHFS：Windows下通過SSH挂載Linux主機為本地分區
tags:
- kvm
- Linux
- SSH
- Windows
- 計算機
- 軟體
- 配置
status: publish
type: post
published: true
comments: true
meta:
  _edit_last: '1'
  views: '1738'
  _wp_old_slug: ''
---
<p>Linux一般使用Samba向Windows共享資源。另一個辦法就是使用SSH。</p>

<p><a href="http://dokan-dev.net/en/">Dokan</a>是一個為Windows提供實現新文件系統的開發庫，而<a href="http://dokan-dev.net/en/download/#sshfs">Dokan SSHFS</a>是在此基礎上實現的挂載SSH通道為本地分區的文件系統。必須先安裝Dokan，然後再安裝Dokan SSHFS。</p>

<p><a href="http://picasaweb.google.com/lh/photo/d6J9vTU8cvK2KEplEo0ZaQ?feat=embedwebsite"><img src="http://lh4.ggpht.com/_ceUJ_lBTHzc/TThWJn7FrzI/AAAAAAAABic/Et7kroeInF8/s400/sshfs.png" height="338" width="400" /></a></p>

<p>如果從安裝SSH服務做起，步驟是：</p>

<ol>
<li>在Linux主機上安裝openssh</li>
<li>修改Linux主機的<strong>/etc/hosts.allow</strong>，加入<code>sshd: ALL</code>，以允許外部訪問</li>
<li>啟動sshd守護進程</li>
<li>在Windows主機上安裝Dokan和Dokan SSHFS</li>
<li>通過SSHFS的圖形配置工具挂載SSH通道</li>
</ol>

<p>這種方式的好處是簡單，但是存在安全隱患，不管怎樣，公布SSH連接絕非好事，這意味著接入用戶可以遠程控制Linux主機，尤其是當SSH賬戶的權限較高時。因此，這種方式只適用于虛擬機或家庭網絡，例如對Host-Guests共享支持不佳的KVM虛擬機來說就是個好的選擇。即便如此，也要注意相應的Windows主機的安全防範，否則，入侵者可以通過Windows主機做跳板來進入Linux主機。</p>
