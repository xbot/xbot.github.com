<!doctype html>
<html lang="en">
    <head>
		
        <meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="description" content="">
        <link rel="shortcut icon" href="/asset/logo.jpg"/>
        <link rel="canonical" href="http://guolinn.com/">
        <link rel="alternate" type="application/rss+xml" title="晴耕雨讀" href="/atom.xml">
        <title>Project Euler Problem 18&amp;67 Solved | 晴耕雨讀</title>
        <meta name="description" content="{{meta_description}}">

        <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="/styles/crisp.css">
        <meta name="HandheldFriendly" content="True" />
        <meta name="MobileOptimized" content="320" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

    </head>
    
		<body class="post-template">
	

        <header id="header">
            <a id="logo" href="/"><img src="/asset/logo.jpg" alt="晴耕雨讀" /></a>
            <h1><a href="/">晴耕雨讀</a></h1>
            <p>程序員，最佳實踐和閱讀愛好者，Vim、Archlinux、Mac、iOS擁躉，帝都低端人口。</p>
            <div id="follow-icons">
          <a href="http://github.com/xbot"><i class="fa fa-github-square fa-2x"></i></a>
          <a href="http://twitter.com/leninlee"><i class="fa fa-twitter-square fa-2x"></i></a>
          <a href="/atom.xml"><i class="fa fa-rss-square fa-2x"></i></a>
  </div>
<h6><a href="/archives">歸檔</a></h6>
<h6><a href="/about">關於</a></h6>
<form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input"><input type="hidden" name="sitesearch" value="http://0x3f.org"></form>

        </header>

        <main id="content">
        

<article class="post">
  四月 10, 2014
  
    <span class="taglist">  &middot; 
    
    
      <a href='/tags/歐拉工程/'>歐拉工程</a> 
    
      <a href='/tags/編程/'>編程</a> 
    
      <a href='/tags/golang/'>golang</a> 
    
      <a href='/tags/python/'>python</a> 
    
    </span>
  

  <h1 class="post-title">Project Euler Problem 18&67 Solved</h1>
  <section class="post-content article-entry">
    <h2 id="Maximum-path-sum-I"><a href="#Maximum-path-sum-I" class="headerlink" title="Maximum path sum I"></a>Maximum path sum I</h2><p>By starting at the top of the triangle below and moving to adjacent numbers on the row below, the maximum total from top to bottom is 23.</p>
<p>3<br>7 4<br>2 4 6<br>8 5 9 3</p>
<p>That is, 3 + 7 + 4 + 9 = 23.</p>
<p>Find the maximum total from top to bottom of the triangle below:</p>
<p>75<br>95 64<br>17 47 82<br>18 35 87 10<br>20 04 82 47 65<br>19 01 23 75 03 34<br>88 02 77 73 07 63 67<br>99 65 04 28 06 16 70 92<br>41 41 26 56 83 40 80 70 33<br>41 48 72 33 47 32 37 16 94 29<br>53 71 44 65 25 43 91 52 97 51 14<br>70 11 33 28 77 73 17 78 39 68 17 57<br>91 71 52 38 17 14 91 43 58 50 27 29 48<br>63 66 04 68 89 53 67 30 73 16 69 87 40 31<br>04 62 98 27 23 09 70 98 73 93 38 53 60 04 23</p>
<p><strong>NOTE</strong>: As there are only 16384 routes, it is possible to solve this problem by trying every route. However, Problem 67, is the same challenge with a triangle containing one-hundred rows; it cannot be solved by brute force, and requires a clever method! ;o)</p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><figure class="highlight python"><figcaption><span>p18.py</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></div><div class="line">    matrix = []</div><div class="line">    file = open(<span class="string">'data_p18.txt'</span>)</div><div class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> file.readlines():</div><div class="line">        matrix.append(map(int, line.replace(<span class="string">'\n'</span>, <span class="string">''</span>).split(<span class="string">' '</span>)))</div><div class="line"></div><div class="line">    (x, y) = (<span class="number">0</span>, <span class="number">0</span>)</div><div class="line">    <span class="keyword">for</span> y <span class="keyword">in</span> range(len(matrix)):</div><div class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> range(len(matrix[y])):</div><div class="line">            <span class="keyword">if</span> y &gt; <span class="number">0</span>:</div><div class="line">                greaterParentPathValue = <span class="number">0</span></div><div class="line">                <span class="keyword">if</span> x &gt; <span class="number">0</span>:</div><div class="line">                    greaterParentPathValue = matrix[y - <span class="number">1</span>][x - <span class="number">1</span>]</div><div class="line">                <span class="keyword">if</span> x &lt; len(matrix[y - <span class="number">1</span>]) <span class="keyword">and</span> matrix[y - <span class="number">1</span>][x] \</div><div class="line">                    &gt; greaterParentPathValue:</div><div class="line">                    greaterParentPathValue = matrix[y - <span class="number">1</span>][x]</div><div class="line">                matrix[y][x] += greaterParentPathValue</div><div class="line"></div><div class="line">    <span class="keyword">print</span> max(matrix[<span class="number">-1</span>])</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    main()</div></pre></td></tr></table></figure>
<p>I’m the 70471st person to have solved this problem.</p>
<h2 id="Maximum-path-sum-II"><a href="#Maximum-path-sum-II" class="headerlink" title="Maximum path sum II"></a>Maximum path sum II</h2><p>By starting at the top of the triangle below and moving to adjacent numbers on the row below, the maximum total from top to bottom is 23.</p>
<p><strong>3</strong><br><strong>7</strong> 4<br>2 <strong>4</strong> 6<br>8 5 <strong>9</strong> 3</p>
<p>That is, 3 + 7 + 4 + 9 = 23.</p>
<p>Find the maximum total from top to bottom in <a href="http://projecteuler.net/project/triangle.txt" target="_blank" rel="external">triangle.txt</a> (right click and ‘Save Link/Target As…’), a 15K text file containing a triangle with one-hundred rows.</p>
<p><strong>NOTE</strong>: This is a much more difficult version of Problem 18. It is not possible to try every route to solve this problem, as there are 2^99 altogether! If you could check one trillion (10^12) routes every second it would take over twenty billion years to check them all. There is an efficient algorithm to solve it. ;o)</p>
<h2 id="Solution-1"><a href="#Solution-1" class="headerlink" title="Solution"></a>Solution</h2><figure class="highlight go"><figcaption><span>p67.go</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> main</div><div class="line"></div><div class="line"><span class="keyword">import</span> (</div><div class="line">    <span class="string">"bufio"</span></div><div class="line">    <span class="string">"fmt"</span></div><div class="line">    <span class="string">"io"</span></div><div class="line">    <span class="string">"os"</span></div><div class="line">    <span class="string">"sort"</span></div><div class="line">    <span class="string">"strconv"</span></div><div class="line">    <span class="string">"strings"</span></div><div class="line">)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">    f, err := os.Open(<span class="string">"data_p67.txt"</span>)</div><div class="line">    <span class="keyword">if</span> <span class="literal">nil</span> != err &#123;</div><div class="line">        fmt.Println(err)</div><div class="line">        os.Exit(<span class="number">1</span>)</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">defer</span> f.Close()</div><div class="line"></div><div class="line">    matrix := <span class="built_in">make</span>([][]<span class="keyword">int</span>, <span class="number">0</span>)</div><div class="line">    reader := bufio.NewReader(f)</div><div class="line">    <span class="keyword">for</span> &#123;</div><div class="line">        line, err := reader.ReadString(<span class="string">'\n'</span>)</div><div class="line">        <span class="keyword">if</span> <span class="literal">nil</span> != err || io.EOF == err &#123;</div><div class="line">            <span class="keyword">break</span></div><div class="line">        &#125;</div><div class="line">        row := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">0</span>)</div><div class="line">        numbers := strings.Split(strings.Replace(line, <span class="string">"\n"</span>, <span class="string">""</span>, <span class="number">-1</span>), <span class="string">" "</span>)</div><div class="line">        <span class="keyword">for</span> i := <span class="keyword">range</span> numbers &#123;</div><div class="line">            number, _ := strconv.Atoi(numbers[i])</div><div class="line">            row = <span class="built_in">append</span>(row, number)</div><div class="line">        &#125;</div><div class="line">        matrix = <span class="built_in">append</span>(matrix, row)</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">for</span> y := <span class="number">0</span>; y &lt; <span class="built_in">len</span>(matrix); y++ &#123;</div><div class="line">        <span class="keyword">for</span> x := <span class="number">0</span>; x &lt; <span class="built_in">len</span>(matrix[y]); x++ &#123;</div><div class="line">            <span class="keyword">if</span> y &gt; <span class="number">0</span> &#123;</div><div class="line">                greaterParentPathValue := <span class="number">0</span></div><div class="line">                <span class="keyword">if</span> x &gt; <span class="number">0</span> &#123;</div><div class="line">                    greaterParentPathValue = matrix[y<span class="number">-1</span>][x<span class="number">-1</span>]</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span> x &lt; <span class="built_in">len</span>(matrix[y<span class="number">-1</span>]) &amp;&amp; matrix[y<span class="number">-1</span>][x] &gt; greaterParentPathValue &#123;</div><div class="line">                    greaterParentPathValue = matrix[y<span class="number">-1</span>][x]</div><div class="line">                &#125;</div><div class="line">                matrix[y][x] += greaterParentPathValue</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    sort.Sort(sort.Reverse(sort.IntSlice(matrix[<span class="built_in">len</span>(matrix)<span class="number">-1</span>])))</div><div class="line">    fmt.Println(matrix[<span class="built_in">len</span>(matrix)<span class="number">-1</span>][<span class="number">0</span>])</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>I’m the 50650th person to have solved this problem.</p>

  </section>
  <footer class="post-footer">
    <!--
    <section class="author">
      <h4>晴耕雨讀</h4>
      <p></p>
    </section>
    -->
  </footer>
</article>

<nav class="pagination" role="pagination">
    
    <a class="newer-posts" href="/post/project-euler-19/">
        ← 新 <!--Project Euler Problem 19 Solved-->
    </a>
    
    <span class="page-number">•</span>
    
    <a class="older-posts" href="/post/project-euler-17/">
        <!--Project Euler Problem 17 Solved--> 舊 →
    </a>
    
</nav>
<div id="comments">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
      var disqus_shortname = '0x3f';
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">Comments powered by <span class="logo-disqus">Disqus</span></a>
</div>


        </main>
        <footer id="footer">
            <section id="footer-message">&copy; 2006 - 2019 晴耕雨讀. All rights reserved.</section>
        </footer>
        <script type="text/javascript" src="http://tajs.qq.com/stats?sId=61071954" charset="UTF-8"></script>
    </body>
</html>


