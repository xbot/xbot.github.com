<!doctype html>
<html lang="en">
    <head>
		
        <meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="description" content="">
        <link rel="shortcut icon" href="/asset/logo.jpg"/>
        <link rel="canonical" href="http://guolinn.com/">
        <link rel="alternate" type="application/rss+xml" title="丘山" href="/atom.xml">
        <title>Project Euler Problem 22 Solved | 晴耕雨讀</title>
        <meta name="description" content="{{meta_description}}">

        <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="/styles/crisp.css">
        <meta name="HandheldFriendly" content="True" />
        <meta name="MobileOptimized" content="320" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

    </head>
    
		<body class="post-template">
	

        <header id="header">
            <a id="logo" href="/"><img src="/asset/logo.jpg" alt="晴耕雨讀" /></a>
            <h1><a href="/">丘山</a></h1>
            <p>程序員，最佳實踐和閱讀愛好者，Vim和Archlinux擁躉，果粉。性本愛丘山，但現居北京。</p>
            <div id="follow-icons">
          <a href="http://github.com/xbot"><i class="fa fa-github-square fa-2x"></i></a>
          <a href="http://twitter.com/leninlee"><i class="fa fa-twitter-square fa-2x"></i></a>
          <a href="/atom.xml"><i class="fa fa-rss-square fa-2x"></i></a>
  </div>
<h6><a href="/archives">歸檔</a></h6>
<h6><a href="/about">關於</a></h6>
<form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input"><input type="hidden" name="sitesearch" value="http://0x3f.org"></form>

        </header>

        <main id="content">
        

<article class="post">
  四月 20, 2014
  
    <span class="taglist">  &middot; 
    
    
      <a href='/tags/歐拉工程/'>歐拉工程</a> 
    
      <a href='/tags/編程/'>編程</a> 
    
      <a href='/tags/golang/'>golang</a> 
    
      <a href='/tags/python/'>python</a> 
    
      <a href='/tags/php/'>php</a> 
    
    </span>
  

  <h1 class="post-title">Project Euler Problem 22 Solved</h1>
  <section class="post-content article-entry">
    <h2 id="Names-scores"><a href="#Names-scores" class="headerlink" title="Names scores"></a>Names scores</h2><p>Using <a href="http://projecteuler.net/project/names.txt" target="_blank" rel="external">names.txt</a> (right click and ‘Save Link/Target As…’), a 46K text file containing over five-thousand first names, begin by sorting it into alphabetical order. Then working out the alphabetical value for each name, multiply this value by its alphabetical position in the list to obtain a name score.</p>
<p>For example, when the list is sorted into alphabetical order, COLIN, which is worth 3 + 15 + 12 + 9 + 14 = 53, is the 938th name in the list. So, COLIN would obtain a score of 938 × 53 = 49714.</p>
<p>What is the total of all the name scores in the file?</p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>Pretty code snippets are easily to be implemented in Python as always:</p>
<figure class="highlight python"><figcaption><span>p22.py</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    f = open(<span class="string">'names.txt'</span>)</div><div class="line">    names = sorted(f.readline().replace(<span class="string">'"'</span>, <span class="string">''</span>).split(<span class="string">','</span>))</div><div class="line">    f.close()</div><div class="line"></div><div class="line">    <span class="keyword">print</span> sum(map(<span class="keyword">lambda</span> name: sum([ord(c) - <span class="number">64</span> <span class="keyword">for</span> c <span class="keyword">in</span> name]) \</div><div class="line">              * (names.index(name) + <span class="number">1</span>), names))</div></pre></td></tr></table></figure>
<p>Easy as Python, ugly as shit, here is the PHP implementation:</p>
<figure class="highlight php"><figcaption><span>p22.php</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">$names = explode(<span class="string">','</span>, str_replace(<span class="string">'"'</span>, <span class="string">''</span>, file_get_contents(<span class="string">'names.txt'</span>)));</div><div class="line">sort($names, SORT_STRING);</div><div class="line">$cal_alpha_value = <span class="function"><span class="keyword">function</span><span class="params">($name, $i)</span> </span>&#123;</div><div class="line">    $cal_alpha_index = <span class="function"><span class="keyword">function</span><span class="params">($char)</span></span>&#123;<span class="keyword">return</span> ord($char) - <span class="number">64</span>;&#125;;</div><div class="line">    <span class="keyword">return</span> array_sum(array_map($cal_alpha_index, str_split($name, <span class="number">1</span>))) * $i;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">echo</span> array_sum(array_map($cal_alpha_value, $names, range(<span class="number">1</span>, count($names))));</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight go"><figcaption><span>p22.go</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> main</div><div class="line"></div><div class="line"><span class="keyword">import</span> (</div><div class="line">	<span class="string">"bufio"</span></div><div class="line">	<span class="string">"fmt"</span></div><div class="line">	<span class="string">"os"</span></div><div class="line">	<span class="string">"sort"</span></div><div class="line">	<span class="string">"strings"</span></div><div class="line">)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	f, err := os.Open(<span class="string">"names.txt"</span>)</div><div class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</div><div class="line">		fmt.Println(err)</div><div class="line">		os.Exit(<span class="number">1</span>)</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">defer</span> f.Close()</div><div class="line"></div><div class="line">	reader := bufio.NewReader(f)</div><div class="line">	line, _ := reader.ReadString(<span class="string">'\n'</span>)</div><div class="line">	names := strings.Split(strings.Replace(line, <span class="string">"\""</span>, <span class="string">""</span>, <span class="number">-1</span>), <span class="string">","</span>)</div><div class="line">	sort.Sort(sort.StringSlice(names))</div><div class="line"></div><div class="line">	val := <span class="number">0</span></div><div class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(names); i++ &#123;</div><div class="line">		tmp := <span class="number">0</span></div><div class="line">		<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="built_in">len</span>(names[i]); j++ &#123;</div><div class="line">			tmp += <span class="keyword">int</span>(names[i][j]) - <span class="number">64</span></div><div class="line">		&#125;</div><div class="line">		val += tmp * (i + <span class="number">1</span>)</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	fmt.Println(val)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>I’m the 65646th person to have solved this problem.</p>

  </section>
  <footer class="post-footer">
    <!--
    <section class="author">
      <h4>丘山</h4>
      <p></p>
    </section>
    -->
  </footer>
</article>

<nav class="pagination" role="pagination">
    
    <a class="newer-posts" href="/post/ultrablog-v361-released/">
        ← prev <!--UltraBlog.vim v3.6.1: 文章分類自動補全-->
    </a>
    
    <span class="page-number">•</span>
    
    <a class="older-posts" href="/post/cycling-in-the-known-and-unknown/">
        <!--騎行的已知和未知--> next →
    </a>
    
</nav>
<div id="comments">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
      var disqus_shortname = '0x3f';
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">Comments powered by <span class="logo-disqus">Disqus</span></a>
</div>


        </main>
        <footer id="footer">
            <section id="footer-message">&copy; 2006 - 2017 丘山. All rights reserved.</section>
        </footer>
        <script type="text/javascript" src="http://tajs.qq.com/stats?sId=61071954" charset="UTF-8"></script>
    </body>
</html>


