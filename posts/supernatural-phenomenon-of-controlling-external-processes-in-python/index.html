<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:url" content="http://0x3f.org/posts/supernatural-phenomenon-of-controlling-external-processes-in-python/"><meta property="og:site_name" content="æ™´è€•é›¨è®€"><meta property="og:title" content="Pythonæ§åˆ¶å¤–éƒ¨è¿›ç¨‹çš„çµå¼‚äº‹ä»¶"><meta property="og:description" content="æ˜¥èŠ‚å‰çš„ä¸€æ®µæ—¶é—´ï¼Œé‡æ–°æ‹¾èµ·è¿‘ä¸€å¹´æ²¡åŠ¨è¿‡çš„ForeverFantasyã€‚
è™½ç„¶ä¸€å¹´å†…æ²¡ä»€ä¹ˆæ›´æ–°ï¼Œä½†æ˜¯æˆ‘å´ä¸€ç›´éƒ½åœ¨ç”¨ï¼ŒåŸºæœ¬ä¸Šåªé™äºå°†ç”¨Vimå†™å¥½çš„Markdownæ ¼å¼çš„æ–‡æ¡£è½¬æ¢æˆHTMLã€‚
é‡å†™äº†ç›¸å½“ä¸€éƒ¨åˆ†ä»£ç ï¼Œè¾ƒå¤§ç¨‹åº¦åœ°æ”¹å˜äº†ç•Œé¢å¸ƒå±€ï¼Œçªç„¶å‘ç°ç»è¿‡ä¸€å¹´çš„æ²‰æ·€ï¼Œå¯¹wxPythonçš„ç†è§£å¢è¿›äº†ä¸å°‘ï¼Œå¼€å‘èµ·æ¥æ¯”èµ·å»å¹´è¿™ä¸ªæ—¶å€™æ¸…æ¥šäº†å¾ˆå¤šã€‚
è¿™äº›å¤©æ¥ä¸€ç›´åšæŒç€æ¯å¤©æˆ–å¤šæˆ–å°‘çš„åšä¸€äº›ï¼Œå¦‚æœè¯´æœ‰ä»€ä¹ˆä¸»è¦çš„è¿›å±•çš„è¯ï¼Œé‚£å°±æ˜¯ç•Œé¢çš„é‡æ„ï¼Œä»¥åŠæ˜¨å¤©å®ç°äº†è°ƒç”¨Vimç¼–è¾‘æ–‡æ¡£å¹¶å›æ”¶æ–‡æ¡£å†…å®¹çš„åŠŸèƒ½ã€‚
ForeverFantasyå’ŒVimååŒçš„ä¸€ä¸ªæœ€å¤§çš„é—®é¢˜å°±æ˜¯å¦‚ä½•åˆ¤æ–­Vimå·²ç»é€€å‡ºã€‚Pythonè°ƒç”¨å¤–éƒ¨ç¨‹åºçš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚ä¼ ç»Ÿçš„commandsæ¨¡å—ã€os.system()ç­‰ï¼Œsubprocessæ˜¯è‡´åŠ›äºæ›¿ä»£è¿™äº›æ—§æœ‰çš„æ–¹å¼çš„ä¸€ä¸ªæ¨¡å—ï¼Œå®ƒçš„ä¸€ä¸ªç‰¹ç‚¹æ˜¯å¯ä»¥åœ¨å¯åŠ¨ä¸€ä¸ªå¤–éƒ¨ç¨‹åºä½œä¸ºå­è¿›ç¨‹åè¿˜èƒ½ç›‘æ§è¿™ä¸ªè¿›ç¨‹çš„è¿è¡ŒçŠ¶æ€ã€‚è¿™ä¸ºForeverFantasyåœ¨Vimé€€å‡ºåå›æ”¶æ–‡æ¡£å†…å®¹æä¾›äº†æ›´ç®€æ·çš„é€”å¾„ã€‚
ä¸‹é¢çš„ä»£ç å¯ä»¥è¯´æ˜å¦‚ä½•ä½¿ç”¨subprocessè¿è¡Œå¤–éƒ¨ç¨‹åºå¹¶ç›‘æ§è¿è¡ŒçŠ¶æ€ï¼š
```python import subprocess process = subprocess.Popen('gvim', shell=True) status = process.poll() if 0 == status: print 'The external program exited.' if status is None: print 'The external program is still running.' ``` ç†è®ºä¸Šï¼Œå¯ä»¥æ‹¿å®ä¾‹processçš„poll()æ–¹æ³•ç›‘è§†è¿›ç¨‹çš„è¿è¡ŒçŠ¶æ€ï¼Œè€Œä¸”è¿™ä¸€ç‚¹åœ¨Windowsä¸Šä¹Ÿç¡®å®å¯ä»¥åšåˆ°ï¼Œä½†æ˜¯åˆ°äº†Linuxä¸‹ï¼Œè¯¡å¼‚çš„äº‹å‡ºç°äº†ï¼Œå³ä½¿åˆšåˆšæ‰“å¼€gvimï¼Œpoll()æ–¹æ³•ä¹Ÿä¼šé©¬ä¸Šè¿”å›ä¸€ä¸ª0ï¼ŒåŒæ—¶process.pidçš„å€¼æ€»æ˜¯å’Œå®é™…åœ¨è¿è¡Œçš„é‚£ä¸ªgvimè¿›ç¨‹çš„pidçš„å€¼å·®3ï¼Œè€Œä¸”åœ¨è™šæ‹Ÿç»ˆç«¯ä¸­è¾“å…¥gvimå‘½ä»¤ä¹Ÿä¸ä¼šé˜»å¡ç»ˆç«¯ï¼Œå°±åƒåˆ«çš„å‘½ä»¤åŠ ä¸Šâ€œ&â€ç¬¦å·çš„æ•ˆæœä¸€æ ·ã€‚å°è¯•ç”¨straceè·Ÿè¸ªgvimçš„è¿è¡Œï¼Œè¯•å›¾æ‰¾åˆ°é—®é¢˜åŸå› ï¼Œæ— æœã€‚æˆ‘çŒœæƒ³å¯èƒ½/usr/bin/gvimæ˜¯ä¸€ä¸ªè·³æ¿ï¼Œå®ƒå¯åŠ¨åä¼šå¯åŠ¨ä¸€ä¸ªæ–°çš„gvimè¿›ç¨‹ã€‚æ€»ä¹‹ï¼Œè¿™ä¸ªæ–¹æ³•åœ¨Linuxä¸‹æ˜¯è¡Œä¸é€šçš„ã€‚
å› æ­¤æˆ‘è§‰å¾—åªèƒ½å¦å¯»å‡ºè·¯äº†ï¼Œæ—¢ç„¶ä¸èƒ½ç›‘æ§gvimè¿›ç¨‹ï¼Œé‚£å°±ç›‘æ§gvimè¿›ç¨‹æ‰€ç¼–è¾‘çš„æ–‡ä»¶ï¼Œåªè¦è¿™ä¸ªæ–‡ä»¶ä¸è¢«ä»»ä½•è¿›ç¨‹å ç”¨ï¼Œå°±å¯ä»¥åˆ¤å®šgvimå·²é€€å‡ºã€‚è¿™ä¸€ç‚¹ï¼Œåœ¨Linuxä¸‹æ˜“å¦‚åæŒï¼Œä¸ç”¨è¯´ï¼Œlsofå½“ä»ä¸è®©ã€‚
ç”¨commands.getstatusoutput('lsof file.txt')æµ‹è¯•å‘ç°ï¼Œå¦‚æœæ–‡ä»¶file.txtè¢«æŸè¿›ç¨‹å ç”¨ï¼Œåˆ™è¿”å›çš„çŠ¶æ€å€¼ä¸º0ï¼Œåä¹‹ï¼Œè¿”å›256ã€‚
æœ€ç»ˆï¼Œæˆ‘åœ¨ç¨‹åºä¸­ä½¿ç”¨äº†ä¸¤ç§åˆ¤æ–­æ–¹å¼ï¼Œåœ¨Windowså¹³å°ä½¿ç”¨subprocessè·Ÿè¸ªgvim.exeè¿›ç¨‹ï¼Œè€Œåœ¨LinuxåŠUnixå¹³å°ä½¿ç”¨lsofæ£€æŸ¥æ–‡æ¡£å ç”¨æƒ…å†µã€‚
å‰©ä¸‹çš„å°±æ˜¯è¿›è¡Œè¿™ä¸ªåˆ¤æ–­çš„æ—¶é—´é—®é¢˜äº†ã€‚
å¾ˆæ˜¾ç„¶ï¼Œå¦‚æœåœ¨å­è¿›ç¨‹è¢«å¯åŠ¨åé©¬ä¸Šä½¿ç”¨whileå¾ªç¯ä¸åœçš„æ£€æŸ¥ï¼Œä¸€æ¥å¿…é¡»ä½¿ç”¨å¤šçº¿ç¨‹ï¼ŒäºŒæ¥ç³»ç»Ÿèµ„æºå ç”¨ä¹Ÿä¼šå¾ˆé«˜ã€‚è¿™æ—¶å°±éœ€è¦åˆ©ç”¨wxPythonçš„äº‹ä»¶æœºåˆ¶äº†ï¼Œå½“ForeverFantasyå¯åŠ¨Gvimæ—¶ï¼Œä¸»çª—å£å¤±å»ç„¦ç‚¹ï¼Œè€Œå½“Gvimé€€å‡ºæ—¶ï¼ŒForeverFantasyåˆä¼šè·å¾—ç„¦ç‚¹ï¼Œåªè¦èƒ½åœ¨ForeverFantasyçª—å£è·å¾—ç„¦ç‚¹æ—¶åšä¸€æ¬¡æ£€æŸ¥å³å¯ã€‚ä¸è¿‡ï¼Œåœ¨é€‰æ‹©æœ€åˆé€‚çš„äº‹ä»¶çš„é—®é¢˜ä¸Šï¼Œåˆæ˜¯ä¸€æ³¢ä¸‰æŠ˜ã€‚
åœ¨wxPythonçš„APIæ–‡æ¡£ä¸­æ²¡æœ‰æ‰¾åˆ°äº‹ä»¶åˆ—è¡¨ï¼Œå€’æ˜¯åœ¨Wikiä¸­æ‰¾åˆ°äº†ã€‚é¡¾åæ€ä¹‰ï¼Œè§‰å¾—wx.EVT_SET_FOCUSæ¯”è¾ƒé è°±ï¼Œä½†è¯•ç”¨å¤±è´¥ï¼Œçœ‹APIä¸­å…³äºFocusEventçš„è¯´æ˜ï¼Œè¿™ä¸ªäº‹ä»¶é€‚ç”¨äºçª—å£æ§ä»¶ï¼›ç„¶ååˆè¯•äº†wx.EVT_CHILD_FOCUSï¼Œåªæœ‰åœ¨çª—å£åŒ…å«çš„æ§ä»¶ä¸­æœ‰è·å¾—ç„¦ç‚¹çš„æƒ…å†µæ‰ä¼šè§¦å‘ï¼›æœ€åæ‰å‘ç°wx.EVT_ACTIVATEï¼Œè¿™ä¸ªäº‹ä»¶ä¼šåœ¨çª—å£å¤±å»ç„¦ç‚¹å’Œè·å¾—ç„¦ç‚¹æ—¶å„è§¦å‘ä¸€æ¬¡ï¼Œä½¿ç”¨GetActive()æ–¹æ³•å¯ä»¥åˆ¤æ–­æ˜¯è·å¾—ç„¦ç‚¹è¿˜æ˜¯å¤±å»ç„¦ç‚¹ã€‚
å®Œæˆä¸Vimçš„ååŒä½¿ForeverFantasyåœ¨æˆ‘æ‰‹ä¸Šç”±åŸæ¥å•çº¯çš„æ ¼å¼è½¬æ¢å·¥å…·è¿›åŒ–ä¸ºåŸºæœ¬å¯ç”¨çš„æ–‡æ¡£ç¼–è¾‘å™¨ï¼Œå°±ç®—æ˜¯Milestone 2å§ã€‚
æ­¤å¤–ï¼Œè¿˜æœ‰ä¸€äº›å°çš„ç»éªŒï¼š
1. è°ƒç”¨éç¯å¢ƒå˜é‡ä¸‹çš„ç¨‹åºï¼Œå³å‘½ä»¤ä¸­å¿…é¡»å¸¦ç¨‹åºæ‰€åœ¨çš„è·¯å¾„æ—¶ï¼Œåº”å½“å°†ç¨‹åºæ‰€åœ¨ç›®å½•çš„å®Œæ•´è·¯å¾„ä»¥è‡ªç„¶å­—ç¬¦ä¸²çš„å½¢å¼ä¼ é€’ç»™subprocess.Popenç±»çš„æ„é€ æ–¹æ³•çš„cwdå‚æ•°ï¼Œå³å¦‚ä¸‹æ‰€ç¤ºï¼š
```python process = subprocess.Popen('gvim.exe', cwd=r'C:\program files\vim\vim72', shell=True) ``` è¿™æ ·å¯ä»¥æœ‰æ•ˆé¿å…è·¯å¾„ä¸­çš„ç©ºæ ¼å’Œç‰¹æ®Šå­—ç¬¦å¯¹å‘½ä»¤æ‰§è¡Œçš„å½±å“ã€‚
2. Vimç¼–è¾‘ä¸€ä¸ªæ–‡æ¡£æ—¶ï¼Œå®é™…æ“ä½œçš„æ˜¯ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œè€Œä¸æ˜¯åŸæ–‡ä»¶ï¼Œè¿™ä¸ªä¸´æ—¶æ–‡ä»¶ä¸åŸæ–‡ä»¶åŒè·¯å¾„ï¼Œåç§°ä¸ºåœ¨åŸæ–‡ä»¶åçš„åŸºç¡€ä¸Šï¼Œå‰é¢åŠ ä¸€ä¸ªå¥ç‚¹ï¼Œåé¢åŠ åç¼€â€œ.swpâ€ã€‚åº”è¯¥ç”¨lsofç›‘æ§è¿™ä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œæ‰å¯ä»¥åˆ¤æ–­å‡ºç¼–è¾‘è¯¥æ–‡æ¡£çš„Vimè¿›ç¨‹çš„è¿è¡ŒçŠ¶æ€ã€‚ç”±äºå¯¹äºä¸å­˜åœ¨çš„æ–‡ä»¶ä½¿ç”¨lsofå‘½ä»¤çš„è¿”å›å€¼ä¹Ÿæ˜¯256ï¼Œæ•…å¯ä»¥åŒæ—¶åˆ¤æ–­ä¸´æ—¶æ–‡ä»¶å’ŒåŸæ–‡ä»¶çš„å ç”¨æƒ…å†µï¼Œè¿™æ ·å°±ä¸ºå¯¹å…¶å®ƒç¼–è¾‘å™¨çš„æ”¯æŒå¥ å®šäº†åŸºç¡€ã€‚
2010-03-10 Wednesday 22:52:13 æ›´æ–°
æ„Ÿè°¢KLç«¥é‹å’Œä¾äº‘ç«¥é‹æŒ‡æ•™ï¼Œæœç„¶åŠ ä¸Š-få‚æ•°å°±å¯ä»¥äº†ã€‚"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2010-03-08T00:00:00+00:00"><meta property="article:modified_time" content="2010-03-08T00:00:00+00:00"><meta property="article:tag" content="ForeverFantasy"><meta property="article:tag" content="Markdown"><meta property="article:tag" content="Python"><meta property="article:tag" content="Vim"><meta property="article:tag" content="WxPython"><meta property="article:tag" content="åšå®¢"><meta name=twitter:card content="summary"><meta name=twitter:title content="Pythonæ§åˆ¶å¤–éƒ¨è¿›ç¨‹çš„çµå¼‚äº‹ä»¶"><meta name=twitter:description content="æ˜¥èŠ‚å‰çš„ä¸€æ®µæ—¶é—´ï¼Œé‡æ–°æ‹¾èµ·è¿‘ä¸€å¹´æ²¡åŠ¨è¿‡çš„ForeverFantasyã€‚
è™½ç„¶ä¸€å¹´å†…æ²¡ä»€ä¹ˆæ›´æ–°ï¼Œä½†æ˜¯æˆ‘å´ä¸€ç›´éƒ½åœ¨ç”¨ï¼ŒåŸºæœ¬ä¸Šåªé™äºå°†ç”¨Vimå†™å¥½çš„Markdownæ ¼å¼çš„æ–‡æ¡£è½¬æ¢æˆHTMLã€‚
é‡å†™äº†ç›¸å½“ä¸€éƒ¨åˆ†ä»£ç ï¼Œè¾ƒå¤§ç¨‹åº¦åœ°æ”¹å˜äº†ç•Œé¢å¸ƒå±€ï¼Œçªç„¶å‘ç°ç»è¿‡ä¸€å¹´çš„æ²‰æ·€ï¼Œå¯¹wxPythonçš„ç†è§£å¢è¿›äº†ä¸å°‘ï¼Œå¼€å‘èµ·æ¥æ¯”èµ·å»å¹´è¿™ä¸ªæ—¶å€™æ¸…æ¥šäº†å¾ˆå¤šã€‚
è¿™äº›å¤©æ¥ä¸€ç›´åšæŒç€æ¯å¤©æˆ–å¤šæˆ–å°‘çš„åšä¸€äº›ï¼Œå¦‚æœè¯´æœ‰ä»€ä¹ˆä¸»è¦çš„è¿›å±•çš„è¯ï¼Œé‚£å°±æ˜¯ç•Œé¢çš„é‡æ„ï¼Œä»¥åŠæ˜¨å¤©å®ç°äº†è°ƒç”¨Vimç¼–è¾‘æ–‡æ¡£å¹¶å›æ”¶æ–‡æ¡£å†…å®¹çš„åŠŸèƒ½ã€‚
ForeverFantasyå’ŒVimååŒçš„ä¸€ä¸ªæœ€å¤§çš„é—®é¢˜å°±æ˜¯å¦‚ä½•åˆ¤æ–­Vimå·²ç»é€€å‡ºã€‚Pythonè°ƒç”¨å¤–éƒ¨ç¨‹åºçš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚ä¼ ç»Ÿçš„commandsæ¨¡å—ã€os.system()ç­‰ï¼Œsubprocessæ˜¯è‡´åŠ›äºæ›¿ä»£è¿™äº›æ—§æœ‰çš„æ–¹å¼çš„ä¸€ä¸ªæ¨¡å—ï¼Œå®ƒçš„ä¸€ä¸ªç‰¹ç‚¹æ˜¯å¯ä»¥åœ¨å¯åŠ¨ä¸€ä¸ªå¤–éƒ¨ç¨‹åºä½œä¸ºå­è¿›ç¨‹åè¿˜èƒ½ç›‘æ§è¿™ä¸ªè¿›ç¨‹çš„è¿è¡ŒçŠ¶æ€ã€‚è¿™ä¸ºForeverFantasyåœ¨Vimé€€å‡ºåå›æ”¶æ–‡æ¡£å†…å®¹æä¾›äº†æ›´ç®€æ·çš„é€”å¾„ã€‚
ä¸‹é¢çš„ä»£ç å¯ä»¥è¯´æ˜å¦‚ä½•ä½¿ç”¨subprocessè¿è¡Œå¤–éƒ¨ç¨‹åºå¹¶ç›‘æ§è¿è¡ŒçŠ¶æ€ï¼š
```python import subprocess process = subprocess.Popen('gvim', shell=True) status = process.poll() if 0 == status: print 'The external program exited.' if status is None: print 'The external program is still running.' ``` ç†è®ºä¸Šï¼Œå¯ä»¥æ‹¿å®ä¾‹processçš„poll()æ–¹æ³•ç›‘è§†è¿›ç¨‹çš„è¿è¡ŒçŠ¶æ€ï¼Œè€Œä¸”è¿™ä¸€ç‚¹åœ¨Windowsä¸Šä¹Ÿç¡®å®å¯ä»¥åšåˆ°ï¼Œä½†æ˜¯åˆ°äº†Linuxä¸‹ï¼Œè¯¡å¼‚çš„äº‹å‡ºç°äº†ï¼Œå³ä½¿åˆšåˆšæ‰“å¼€gvimï¼Œpoll()æ–¹æ³•ä¹Ÿä¼šé©¬ä¸Šè¿”å›ä¸€ä¸ª0ï¼ŒåŒæ—¶process.pidçš„å€¼æ€»æ˜¯å’Œå®é™…åœ¨è¿è¡Œçš„é‚£ä¸ªgvimè¿›ç¨‹çš„pidçš„å€¼å·®3ï¼Œè€Œä¸”åœ¨è™šæ‹Ÿç»ˆç«¯ä¸­è¾“å…¥gvimå‘½ä»¤ä¹Ÿä¸ä¼šé˜»å¡ç»ˆç«¯ï¼Œå°±åƒåˆ«çš„å‘½ä»¤åŠ ä¸Šâ€œ&â€ç¬¦å·çš„æ•ˆæœä¸€æ ·ã€‚å°è¯•ç”¨straceè·Ÿè¸ªgvimçš„è¿è¡Œï¼Œè¯•å›¾æ‰¾åˆ°é—®é¢˜åŸå› ï¼Œæ— æœã€‚æˆ‘çŒœæƒ³å¯èƒ½/usr/bin/gvimæ˜¯ä¸€ä¸ªè·³æ¿ï¼Œå®ƒå¯åŠ¨åä¼šå¯åŠ¨ä¸€ä¸ªæ–°çš„gvimè¿›ç¨‹ã€‚æ€»ä¹‹ï¼Œè¿™ä¸ªæ–¹æ³•åœ¨Linuxä¸‹æ˜¯è¡Œä¸é€šçš„ã€‚
å› æ­¤æˆ‘è§‰å¾—åªèƒ½å¦å¯»å‡ºè·¯äº†ï¼Œæ—¢ç„¶ä¸èƒ½ç›‘æ§gvimè¿›ç¨‹ï¼Œé‚£å°±ç›‘æ§gvimè¿›ç¨‹æ‰€ç¼–è¾‘çš„æ–‡ä»¶ï¼Œåªè¦è¿™ä¸ªæ–‡ä»¶ä¸è¢«ä»»ä½•è¿›ç¨‹å ç”¨ï¼Œå°±å¯ä»¥åˆ¤å®šgvimå·²é€€å‡ºã€‚è¿™ä¸€ç‚¹ï¼Œåœ¨Linuxä¸‹æ˜“å¦‚åæŒï¼Œä¸ç”¨è¯´ï¼Œlsofå½“ä»ä¸è®©ã€‚
ç”¨commands.getstatusoutput('lsof file.txt')æµ‹è¯•å‘ç°ï¼Œå¦‚æœæ–‡ä»¶file.txtè¢«æŸè¿›ç¨‹å ç”¨ï¼Œåˆ™è¿”å›çš„çŠ¶æ€å€¼ä¸º0ï¼Œåä¹‹ï¼Œè¿”å›256ã€‚
æœ€ç»ˆï¼Œæˆ‘åœ¨ç¨‹åºä¸­ä½¿ç”¨äº†ä¸¤ç§åˆ¤æ–­æ–¹å¼ï¼Œåœ¨Windowså¹³å°ä½¿ç”¨subprocessè·Ÿè¸ªgvim.exeè¿›ç¨‹ï¼Œè€Œåœ¨LinuxåŠUnixå¹³å°ä½¿ç”¨lsofæ£€æŸ¥æ–‡æ¡£å ç”¨æƒ…å†µã€‚
å‰©ä¸‹çš„å°±æ˜¯è¿›è¡Œè¿™ä¸ªåˆ¤æ–­çš„æ—¶é—´é—®é¢˜äº†ã€‚
å¾ˆæ˜¾ç„¶ï¼Œå¦‚æœåœ¨å­è¿›ç¨‹è¢«å¯åŠ¨åé©¬ä¸Šä½¿ç”¨whileå¾ªç¯ä¸åœçš„æ£€æŸ¥ï¼Œä¸€æ¥å¿…é¡»ä½¿ç”¨å¤šçº¿ç¨‹ï¼ŒäºŒæ¥ç³»ç»Ÿèµ„æºå ç”¨ä¹Ÿä¼šå¾ˆé«˜ã€‚è¿™æ—¶å°±éœ€è¦åˆ©ç”¨wxPythonçš„äº‹ä»¶æœºåˆ¶äº†ï¼Œå½“ForeverFantasyå¯åŠ¨Gvimæ—¶ï¼Œä¸»çª—å£å¤±å»ç„¦ç‚¹ï¼Œè€Œå½“Gvimé€€å‡ºæ—¶ï¼ŒForeverFantasyåˆä¼šè·å¾—ç„¦ç‚¹ï¼Œåªè¦èƒ½åœ¨ForeverFantasyçª—å£è·å¾—ç„¦ç‚¹æ—¶åšä¸€æ¬¡æ£€æŸ¥å³å¯ã€‚ä¸è¿‡ï¼Œåœ¨é€‰æ‹©æœ€åˆé€‚çš„äº‹ä»¶çš„é—®é¢˜ä¸Šï¼Œåˆæ˜¯ä¸€æ³¢ä¸‰æŠ˜ã€‚
åœ¨wxPythonçš„APIæ–‡æ¡£ä¸­æ²¡æœ‰æ‰¾åˆ°äº‹ä»¶åˆ—è¡¨ï¼Œå€’æ˜¯åœ¨Wikiä¸­æ‰¾åˆ°äº†ã€‚é¡¾åæ€ä¹‰ï¼Œè§‰å¾—wx.EVT_SET_FOCUSæ¯”è¾ƒé è°±ï¼Œä½†è¯•ç”¨å¤±è´¥ï¼Œçœ‹APIä¸­å…³äºFocusEventçš„è¯´æ˜ï¼Œè¿™ä¸ªäº‹ä»¶é€‚ç”¨äºçª—å£æ§ä»¶ï¼›ç„¶ååˆè¯•äº†wx.EVT_CHILD_FOCUSï¼Œåªæœ‰åœ¨çª—å£åŒ…å«çš„æ§ä»¶ä¸­æœ‰è·å¾—ç„¦ç‚¹çš„æƒ…å†µæ‰ä¼šè§¦å‘ï¼›æœ€åæ‰å‘ç°wx.EVT_ACTIVATEï¼Œè¿™ä¸ªäº‹ä»¶ä¼šåœ¨çª—å£å¤±å»ç„¦ç‚¹å’Œè·å¾—ç„¦ç‚¹æ—¶å„è§¦å‘ä¸€æ¬¡ï¼Œä½¿ç”¨GetActive()æ–¹æ³•å¯ä»¥åˆ¤æ–­æ˜¯è·å¾—ç„¦ç‚¹è¿˜æ˜¯å¤±å»ç„¦ç‚¹ã€‚
å®Œæˆä¸Vimçš„ååŒä½¿ForeverFantasyåœ¨æˆ‘æ‰‹ä¸Šç”±åŸæ¥å•çº¯çš„æ ¼å¼è½¬æ¢å·¥å…·è¿›åŒ–ä¸ºåŸºæœ¬å¯ç”¨çš„æ–‡æ¡£ç¼–è¾‘å™¨ï¼Œå°±ç®—æ˜¯Milestone 2å§ã€‚
æ­¤å¤–ï¼Œè¿˜æœ‰ä¸€äº›å°çš„ç»éªŒï¼š
1. è°ƒç”¨éç¯å¢ƒå˜é‡ä¸‹çš„ç¨‹åºï¼Œå³å‘½ä»¤ä¸­å¿…é¡»å¸¦ç¨‹åºæ‰€åœ¨çš„è·¯å¾„æ—¶ï¼Œåº”å½“å°†ç¨‹åºæ‰€åœ¨ç›®å½•çš„å®Œæ•´è·¯å¾„ä»¥è‡ªç„¶å­—ç¬¦ä¸²çš„å½¢å¼ä¼ é€’ç»™subprocess.Popenç±»çš„æ„é€ æ–¹æ³•çš„cwdå‚æ•°ï¼Œå³å¦‚ä¸‹æ‰€ç¤ºï¼š
```python process = subprocess.Popen('gvim.exe', cwd=r'C:\program files\vim\vim72', shell=True) ``` è¿™æ ·å¯ä»¥æœ‰æ•ˆé¿å…è·¯å¾„ä¸­çš„ç©ºæ ¼å’Œç‰¹æ®Šå­—ç¬¦å¯¹å‘½ä»¤æ‰§è¡Œçš„å½±å“ã€‚
2. Vimç¼–è¾‘ä¸€ä¸ªæ–‡æ¡£æ—¶ï¼Œå®é™…æ“ä½œçš„æ˜¯ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œè€Œä¸æ˜¯åŸæ–‡ä»¶ï¼Œè¿™ä¸ªä¸´æ—¶æ–‡ä»¶ä¸åŸæ–‡ä»¶åŒè·¯å¾„ï¼Œåç§°ä¸ºåœ¨åŸæ–‡ä»¶åçš„åŸºç¡€ä¸Šï¼Œå‰é¢åŠ ä¸€ä¸ªå¥ç‚¹ï¼Œåé¢åŠ åç¼€â€œ.swpâ€ã€‚åº”è¯¥ç”¨lsofç›‘æ§è¿™ä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œæ‰å¯ä»¥åˆ¤æ–­å‡ºç¼–è¾‘è¯¥æ–‡æ¡£çš„Vimè¿›ç¨‹çš„è¿è¡ŒçŠ¶æ€ã€‚ç”±äºå¯¹äºä¸å­˜åœ¨çš„æ–‡ä»¶ä½¿ç”¨lsofå‘½ä»¤çš„è¿”å›å€¼ä¹Ÿæ˜¯256ï¼Œæ•…å¯ä»¥åŒæ—¶åˆ¤æ–­ä¸´æ—¶æ–‡ä»¶å’ŒåŸæ–‡ä»¶çš„å ç”¨æƒ…å†µï¼Œè¿™æ ·å°±ä¸ºå¯¹å…¶å®ƒç¼–è¾‘å™¨çš„æ”¯æŒå¥ å®šäº†åŸºç¡€ã€‚
2010-03-10 Wednesday 22:52:13 æ›´æ–°
æ„Ÿè°¢KLç«¥é‹å’Œä¾äº‘ç«¥é‹æŒ‡æ•™ï¼Œæœç„¶åŠ ä¸Š-få‚æ•°å°±å¯ä»¥äº†ã€‚"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#181818"><title>æ™´è€•é›¨è®€ - Pythonæ§åˆ¶å¤–éƒ¨è¿›ç¨‹çš„çµå¼‚äº‹ä»¶
</title><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=stylesheet href=/minima.91848781a7679600f0ad1ad577e7da4fbb28b9f3fdc9a82126197659405bb483.css integrity="sha256-kYSHgadnlgDwrRrVd+faT7soufP9yaghJhl2WUBbtIM="><script defer type=text/javascript src=/minima.5f772103e807a34ef8ab63c3c53905fbf70689fa70d121085c7d0e84087effea.js integrity="sha256-X3chA+gHo074q2PDxTkF+/cGifpw0SEIXH0OhAh+/+o="></script></head><script>const theme_config="system",theme_light=theme_config==="system"?"light":theme_config;let theme=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":theme_light;console.debug(theme);try{localStorage.setItem("theme",theme),window.minima_theme=theme,document.querySelector("html").classList.add(theme)}catch(e){console.error(e)}</script><body><header class="mt-3 mb-8"><div class="container mx-auto"><nav class="flex justify-between items-center"><div class="flex items-center"><div id=theme-switch class="text-2xl cursor-pointer">ğŸŒ</div></div><ul class="flex items-center text-base font-semibold
whitespace-nowrap overflow-x-auto overflow-y-hidden"><li class="ml-2 mr-2"><a href=/>é¦–é¡µ</a></li><li class="ml-2 mr-2"><a href=/posts>æ–‡ç« </a></li><li class="ml-2 mr-2"><a href=/tags>æ ‡ç­¾</a></li><li class="ml-2 mr-2"><a href=/about>å…³äº</a></li><li class="ml-2 mr-2"><a href=/search>ğŸ”</a></li></ul></nav></div></header><main class="container mx-auto"><h1 class="text-4xl font-extrabold mt-6">æœç´¢</h1><p class="text-sm mb-6">Powered by <a href=https://fusejs.io target=_blank>fuse.js</a>.</p><div class=search><input class=mb-4 autofocus autocomplete=off id=search-input type=search placeholder="è¾“å…¥å…³é”®è¯ â†µ"><ul id=search-result></ul></div></main><footer class="mt-8 mb-8"><div class="container mx-auto"><div class="mt-8 flex flex-col-reverse sm:flex-row sm:justify-between items-center"><div class="text-center sm:text-left"><p class="mt-0 text-sm">Â© 2007-2024 é¬¼é©¬å¦–åˆ€</p><p class="mt-0 text-xs">Built with <a href=https://gohugo.io target=_blank rel="noopener noreferrer">Hugo</a> v0.146.3
and <a href=https://github.com/mivinci/hugo-theme-minima target=_blank rel="noopener noreferrer">Minima</a></p></div><p class="flex items-center mt-0"><a class="icon ml-1 mr-1" href=mailto:donie.leigh@gmail.com title=email><svg width="18" height="18" viewBox="0 0 24 21" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><path d="M22 6l-10 7L2 6"/></svg>
</a><a class="icon ml-1 mr-1" href=https://github.com/xbot title=github><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg>
</a><a class="icon ml-1 mr-1" href=/index.xml title=rss><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 019 9M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></p></div></div></footer></body></html>