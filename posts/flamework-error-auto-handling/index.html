<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:url" content="http://0x3f.org/posts/flamework-error-auto-handling/"><meta property="og:site_name" content="æ™´è€•é›¨è®€"><meta property="og:title" content="PHPæ¡†æ¶å®æˆ˜ï¼ˆäºŒï¼‰ï¼šé”™è¯¯å’Œå¼‚å¸¸çš„è‡ªåŠ¨å¤„ç†"><meta property="og:description" content="ç›®æ ‡ å®ç°é”™è¯¯å’Œå¼‚å¸¸çš„è‡ªåŠ¨æ•è·å’Œå¤„ç†ã€‚
è·å–ä»£ç  1 git checkout v0.2 è®¾è®¡ä¸å®ç° ä½¿ç”¨set_error_handler()å’Œset_exception_handler()ä¸¤ä¸ªå‡½æ•°æ³¨å†Œé”™è¯¯å’Œå¼‚å¸¸çš„å¤„ç†æ–¹æ³•ï¼Œå¹¶åœ¨ä¸¤ä¸ªå¤„ç†æ–¹æ³•ä¸­å…ˆè°ƒç”¨ç”¨æˆ·è‡ªå®šä¹‰çš„é”™è¯¯å’Œå¼‚å¸¸å¤„ç†é€»è¾‘ï¼Œå¦‚æœè‡ªå®šä¹‰é€»è¾‘ä¸å­˜åœ¨æˆ–è€…è¿”å›falseï¼Œç»§ç»­è°ƒç”¨æ¡†æ¶ç¼ºçœçš„å¤„ç†é€»è¾‘ï¼Œè¾“å‡ºé”™è¯¯ä¿¡æ¯åˆ°é¡µé¢ã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 <?php class WebApplication { // ... /** * @var boolean Whether to enable error auto-handling, default to true * @since 1.0 */ public $enableErrorHandling = true; /** * @var boolean Whether to enable exception auto-handling, default to true * @since 1.0 */ public $enableExceptionHandling = true; /** * @var callable Error handler * @since 1.0 */ public $errorHandler; /** * @var callable Exception handler * @since 1.0 */ public $exceptionHandler; /** * @var boolean Whether to enable debug mode, default to false * @since 1.0 */ public $debug = false; /** * @param string $config */ public function __construct($config) { // ... $this->initErrorHandlers(); } /** * Initialize auto-handling for errors and exceptions * @return void * @since 1.0 */ public function initErrorHandlers() { if ($this->enableErrorHandling == true) set_error_handler(array($this, 'handleError'), error_reporting()); if ($this->enableExceptionHandling == true) set_exception_handler(array($this, 'handleException')); } /** * Handle errors * @param int $code * @param string $message * @param string $file * @param int $line * @return void * @since 1.0 */ public function handleError($code, $message, $file, $line) { // prevent recursive errors restore_error_handler(); restore_exception_handler(); $msg = &#34;Error $code: $message ($file:$line)&#34;; Flame::error($msg); // let errorHandler() return true to prevent displayError() if (is_callable($this->errorHandler) && call_user_func($this->errorHandler, $code, $message, $file, $line) !== true) $this->displayError($code, $message, $file, $line); exit(1); } /** * Handle exceptions * @param Exception $exception * @return void * @since 1.0 */ public function handleException($exception) { // prevent recursive errors restore_error_handler(); restore_exception_handler(); $msg = get_class($exception).': '.$exception->getMessage().' ('.$exception->getFile().':'.$exception->getLine().&#34;\n&#34;.$exception->getTraceAsString(); Flame::error($msg); // let exceptionHandler() return true to prevent displayException() if (is_callable($this->exceptionHandler) && call_user_func($this->exceptionHandler, $exception) !== true) $this->displayException($exception); exit(1); } /** * Display error information * @param int $code * @param string $message * @param string $file * @param int $line * @return void * @since 1.0 */ public function displayError($code, $message, $file, $line) { if ($this->debug == true) { echo &#34;<h1>Error $code</h1>&#34;; echo &#34;<p>$message in ($file:$line)</p>&#34;; echo '<pre>'; debug_print_backtrace(); echo '</pre>'; } else { echo &#34;<h1>Error $code</h1>&#34;; echo &#34;<p>$message</p>&#34;; } } /** * Display exception information * @param Exception $exception * @return void * @since 1.0 */ public function displayException($exception) { if ($this->debug == true) { echo '<h1>'.get_class($exception).'</h1>'; echo '<p>'.$exception->getMessage().' ('.$exception->getFile().':'.$exception->getLine().')</p>'; echo '<pre>'.$exception->getTraceAsString().'</pre>'; } else { echo '<h1>'.get_class($exception).'</h1>'; echo '<p>'.$exception->getMessage().'</p>'; } } // ... } ?> â€œhandleError()â€å’Œâ€œhandleException()â€ä¸­å…ˆè°ƒç”¨äº†â€œrestore_error_handler()â€å’Œâ€œrestore_exception_handler()â€ï¼Œç”¨äºé˜²æ­¢é€’å½’å¤„ç†ã€‚"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2013-12-28T13:40:00+00:00"><meta property="article:modified_time" content="2013-12-28T13:40:00+00:00"><meta property="article:tag" content="PHP"><meta property="article:tag" content="Flamework"><meta property="article:tag" content="æ¡†æ¶"><meta property="article:tag" content="ç¼–ç¨‹"><meta property="article:tag" content="è®¡ç®—æœº"><meta name=twitter:card content="summary"><meta name=twitter:title content="PHPæ¡†æ¶å®æˆ˜ï¼ˆäºŒï¼‰ï¼šé”™è¯¯å’Œå¼‚å¸¸çš„è‡ªåŠ¨å¤„ç†"><meta name=twitter:description content="ç›®æ ‡ å®ç°é”™è¯¯å’Œå¼‚å¸¸çš„è‡ªåŠ¨æ•è·å’Œå¤„ç†ã€‚
è·å–ä»£ç  1 git checkout v0.2 è®¾è®¡ä¸å®ç° ä½¿ç”¨set_error_handler()å’Œset_exception_handler()ä¸¤ä¸ªå‡½æ•°æ³¨å†Œé”™è¯¯å’Œå¼‚å¸¸çš„å¤„ç†æ–¹æ³•ï¼Œå¹¶åœ¨ä¸¤ä¸ªå¤„ç†æ–¹æ³•ä¸­å…ˆè°ƒç”¨ç”¨æˆ·è‡ªå®šä¹‰çš„é”™è¯¯å’Œå¼‚å¸¸å¤„ç†é€»è¾‘ï¼Œå¦‚æœè‡ªå®šä¹‰é€»è¾‘ä¸å­˜åœ¨æˆ–è€…è¿”å›falseï¼Œç»§ç»­è°ƒç”¨æ¡†æ¶ç¼ºçœçš„å¤„ç†é€»è¾‘ï¼Œè¾“å‡ºé”™è¯¯ä¿¡æ¯åˆ°é¡µé¢ã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 <?php class WebApplication { // ... /** * @var boolean Whether to enable error auto-handling, default to true * @since 1.0 */ public $enableErrorHandling = true; /** * @var boolean Whether to enable exception auto-handling, default to true * @since 1.0 */ public $enableExceptionHandling = true; /** * @var callable Error handler * @since 1.0 */ public $errorHandler; /** * @var callable Exception handler * @since 1.0 */ public $exceptionHandler; /** * @var boolean Whether to enable debug mode, default to false * @since 1.0 */ public $debug = false; /** * @param string $config */ public function __construct($config) { // ... $this->initErrorHandlers(); } /** * Initialize auto-handling for errors and exceptions * @return void * @since 1.0 */ public function initErrorHandlers() { if ($this->enableErrorHandling == true) set_error_handler(array($this, 'handleError'), error_reporting()); if ($this->enableExceptionHandling == true) set_exception_handler(array($this, 'handleException')); } /** * Handle errors * @param int $code * @param string $message * @param string $file * @param int $line * @return void * @since 1.0 */ public function handleError($code, $message, $file, $line) { // prevent recursive errors restore_error_handler(); restore_exception_handler(); $msg = &#34;Error $code: $message ($file:$line)&#34;; Flame::error($msg); // let errorHandler() return true to prevent displayError() if (is_callable($this->errorHandler) && call_user_func($this->errorHandler, $code, $message, $file, $line) !== true) $this->displayError($code, $message, $file, $line); exit(1); } /** * Handle exceptions * @param Exception $exception * @return void * @since 1.0 */ public function handleException($exception) { // prevent recursive errors restore_error_handler(); restore_exception_handler(); $msg = get_class($exception).': '.$exception->getMessage().' ('.$exception->getFile().':'.$exception->getLine().&#34;\n&#34;.$exception->getTraceAsString(); Flame::error($msg); // let exceptionHandler() return true to prevent displayException() if (is_callable($this->exceptionHandler) && call_user_func($this->exceptionHandler, $exception) !== true) $this->displayException($exception); exit(1); } /** * Display error information * @param int $code * @param string $message * @param string $file * @param int $line * @return void * @since 1.0 */ public function displayError($code, $message, $file, $line) { if ($this->debug == true) { echo &#34;<h1>Error $code</h1>&#34;; echo &#34;<p>$message in ($file:$line)</p>&#34;; echo '<pre>'; debug_print_backtrace(); echo '</pre>'; } else { echo &#34;<h1>Error $code</h1>&#34;; echo &#34;<p>$message</p>&#34;; } } /** * Display exception information * @param Exception $exception * @return void * @since 1.0 */ public function displayException($exception) { if ($this->debug == true) { echo '<h1>'.get_class($exception).'</h1>'; echo '<p>'.$exception->getMessage().' ('.$exception->getFile().':'.$exception->getLine().')</p>'; echo '<pre>'.$exception->getTraceAsString().'</pre>'; } else { echo '<h1>'.get_class($exception).'</h1>'; echo '<p>'.$exception->getMessage().'</p>'; } } // ... } ?> â€œhandleError()â€å’Œâ€œhandleException()â€ä¸­å…ˆè°ƒç”¨äº†â€œrestore_error_handler()â€å’Œâ€œrestore_exception_handler()â€ï¼Œç”¨äºé˜²æ­¢é€’å½’å¤„ç†ã€‚"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#181818"><title>æ™´è€•é›¨è®€ - PHPæ¡†æ¶å®æˆ˜ï¼ˆäºŒï¼‰ï¼šé”™è¯¯å’Œå¼‚å¸¸çš„è‡ªåŠ¨å¤„ç†
</title><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=stylesheet href=/minima.91848781a7679600f0ad1ad577e7da4fbb28b9f3fdc9a82126197659405bb483.css integrity="sha256-kYSHgadnlgDwrRrVd+faT7soufP9yaghJhl2WUBbtIM="><script defer type=text/javascript src=/minima.5f772103e807a34ef8ab63c3c53905fbf70689fa70d121085c7d0e84087effea.js integrity="sha256-X3chA+gHo074q2PDxTkF+/cGifpw0SEIXH0OhAh+/+o="></script></head><script>const theme_config="system",theme_light=theme_config==="system"?"light":theme_config;let theme=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":theme_light;console.debug(theme);try{localStorage.setItem("theme",theme),window.minima_theme=theme,document.querySelector("html").classList.add(theme)}catch(e){console.error(e)}</script><body><header class="mt-3 mb-8"><div class="container mx-auto"><nav class="flex justify-between items-center"><div class="flex items-center"><div id=theme-switch class="text-2xl cursor-pointer">ğŸŒ</div></div><ul class="flex items-center text-base font-semibold
whitespace-nowrap overflow-x-auto overflow-y-hidden"><li class="ml-2 mr-2"><a href=/>é¦–é¡µ</a></li><li class="ml-2 mr-2"><a href=/posts>æ–‡ç« </a></li><li class="ml-2 mr-2"><a href=/tags>æ ‡ç­¾</a></li><li class="ml-2 mr-2"><a href=/about>å…³äº</a></li><li class="ml-2 mr-2"><a href=/search>ğŸ”</a></li></ul></nav></div></header><div class="container mx-auto"><h1 class="text-4xl font-extrabold mt-6 mb-6">PHPæ¡†æ¶å®æˆ˜ï¼ˆäºŒï¼‰ï¼šé”™è¯¯å’Œå¼‚å¸¸çš„è‡ªåŠ¨å¤„ç†</h1><div class="mb-3 text-sm flex justify-between"><div>å‘å¸ƒäº &mdash; 2013 å¹´ 12 æœˆ 28 æ—¥</div><div><a class=ml-1 href=/tags/PHP>#PHP</a>
<a class=ml-1 href=/tags/Flamework>#Flamework</a>
<a class=ml-1 href=/tags/%e6%a1%86%e6%9e%b6>#æ¡†æ¶</a>
<a class=ml-1 href=/tags/%e7%bc%96%e7%a8%8b>#ç¼–ç¨‹</a>
<a class=ml-1 href=/tags/%e8%ae%a1%e7%ae%97%e6%9c%ba>#è®¡ç®—æœº</a></div></div><main class=mb-8><p></p><article class=md><h2 id=ç›®æ ‡>ç›®æ ‡</h2><p>å®ç°é”™è¯¯å’Œå¼‚å¸¸çš„è‡ªåŠ¨æ•è·å’Œå¤„ç†ã€‚</p><h2 id=è·å–ä»£ç >è·å–ä»£ç </h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git checkout v0.2
</span></span></code></pre></td></tr></table></div></div><h2 id=è®¾è®¡ä¸å®ç°>è®¾è®¡ä¸å®ç°</h2><p>ä½¿ç”¨set_error_handler()å’Œset_exception_handler()ä¸¤ä¸ªå‡½æ•°æ³¨å†Œé”™è¯¯å’Œå¼‚å¸¸çš„å¤„ç†æ–¹æ³•ï¼Œå¹¶åœ¨ä¸¤ä¸ªå¤„ç†æ–¹æ³•ä¸­å…ˆè°ƒç”¨ç”¨æˆ·è‡ªå®šä¹‰çš„é”™è¯¯å’Œå¼‚å¸¸å¤„ç†é€»è¾‘ï¼Œå¦‚æœè‡ªå®šä¹‰é€»è¾‘ä¸å­˜åœ¨æˆ–è€…è¿”å›falseï¼Œç»§ç»­è°ƒç”¨æ¡†æ¶ç¼ºçœçš„å¤„ç†é€»è¾‘ï¼Œè¾“å‡ºé”™è¯¯ä¿¡æ¯åˆ°é¡µé¢ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=o>&lt;?</span><span class=nx>php</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>WebApplication</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @var boolean Whether to enable error auto-handling, default to true 
</span></span></span><span class=line><span class=cl><span class=sd>     * @since 1.0
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=nv>$enableErrorHandling</span> <span class=o>=</span> <span class=k>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @var boolean Whether to enable exception auto-handling, default to true 
</span></span></span><span class=line><span class=cl><span class=sd>     * @since 1.0
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=nv>$enableExceptionHandling</span> <span class=o>=</span> <span class=k>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @var callable Error handler 
</span></span></span><span class=line><span class=cl><span class=sd>     * @since 1.0
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=nv>$errorHandler</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @var callable Exception handler 
</span></span></span><span class=line><span class=cl><span class=sd>     * @since 1.0
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=nv>$exceptionHandler</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @var boolean Whether to enable debug mode, default to false 
</span></span></span><span class=line><span class=cl><span class=sd>     * @since 1.0
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=nv>$debug</span> <span class=o>=</span> <span class=k>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $config
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=fm>__construct</span><span class=p>(</span><span class=nv>$config</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>initErrorHandlers</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * Initialize auto-handling for errors and exceptions
</span></span></span><span class=line><span class=cl><span class=sd>     * @return void
</span></span></span><span class=line><span class=cl><span class=sd>     * @since 1.0
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>initErrorHandlers</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>enableErrorHandling</span> <span class=o>==</span> <span class=k>true</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=nx>set_error_handler</span><span class=p>(</span><span class=k>array</span><span class=p>(</span><span class=nv>$this</span><span class=p>,</span> <span class=s1>&#39;handleError&#39;</span><span class=p>),</span> <span class=nx>error_reporting</span><span class=p>());</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>enableExceptionHandling</span> <span class=o>==</span> <span class=k>true</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=nx>set_exception_handler</span><span class=p>(</span><span class=k>array</span><span class=p>(</span><span class=nv>$this</span><span class=p>,</span> <span class=s1>&#39;handleException&#39;</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * Handle errors
</span></span></span><span class=line><span class=cl><span class=sd>     * @param int $code
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $message
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $file
</span></span></span><span class=line><span class=cl><span class=sd>     * @param int $line
</span></span></span><span class=line><span class=cl><span class=sd>     * @return void
</span></span></span><span class=line><span class=cl><span class=sd>     * @since 1.0
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>handleError</span><span class=p>(</span><span class=nv>$code</span><span class=p>,</span> <span class=nv>$message</span><span class=p>,</span> <span class=nv>$file</span><span class=p>,</span> <span class=nv>$line</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// prevent recursive errors
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>restore_error_handler</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=nx>restore_exception_handler</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nv>$msg</span> <span class=o>=</span> <span class=s2>&#34;Error </span><span class=si>$code</span><span class=s2>: </span><span class=si>$message</span><span class=s2> (</span><span class=si>$file</span><span class=s2>:</span><span class=si>$line</span><span class=s2>)&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nx>Flame</span><span class=o>::</span><span class=na>error</span><span class=p>(</span><span class=nv>$msg</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// let errorHandler() return true to prevent displayError()
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span> <span class=p>(</span><span class=nx>is_callable</span><span class=p>(</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>errorHandler</span><span class=p>)</span> <span class=o>&amp;&amp;</span> <span class=nx>call_user_func</span><span class=p>(</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>errorHandler</span><span class=p>,</span> <span class=nv>$code</span><span class=p>,</span> <span class=nv>$message</span><span class=p>,</span> <span class=nv>$file</span><span class=p>,</span> <span class=nv>$line</span><span class=p>)</span> <span class=o>!==</span> <span class=k>true</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>displayError</span><span class=p>(</span><span class=nv>$code</span><span class=p>,</span> <span class=nv>$message</span><span class=p>,</span> <span class=nv>$file</span><span class=p>,</span> <span class=nv>$line</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>exit</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * Handle exceptions
</span></span></span><span class=line><span class=cl><span class=sd>     * @param Exception $exception
</span></span></span><span class=line><span class=cl><span class=sd>     * @return void
</span></span></span><span class=line><span class=cl><span class=sd>     * @since 1.0
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>handleException</span><span class=p>(</span><span class=nv>$exception</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// prevent recursive errors
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>restore_error_handler</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=nx>restore_exception_handler</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nv>$msg</span> <span class=o>=</span> <span class=nx>get_class</span><span class=p>(</span><span class=nv>$exception</span><span class=p>)</span><span class=o>.</span><span class=s1>&#39;: &#39;</span><span class=o>.</span><span class=nv>$exception</span><span class=o>-&gt;</span><span class=na>getMessage</span><span class=p>()</span><span class=o>.</span><span class=s1>&#39; (&#39;</span><span class=o>.</span><span class=nv>$exception</span><span class=o>-&gt;</span><span class=na>getFile</span><span class=p>()</span><span class=o>.</span><span class=s1>&#39;:&#39;</span><span class=o>.</span><span class=nv>$exception</span><span class=o>-&gt;</span><span class=na>getLine</span><span class=p>()</span><span class=o>.</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=o>.</span><span class=nv>$exception</span><span class=o>-&gt;</span><span class=na>getTraceAsString</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=nx>Flame</span><span class=o>::</span><span class=na>error</span><span class=p>(</span><span class=nv>$msg</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// let exceptionHandler() return true to prevent displayException()
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span> <span class=p>(</span><span class=nx>is_callable</span><span class=p>(</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>exceptionHandler</span><span class=p>)</span> <span class=o>&amp;&amp;</span> <span class=nx>call_user_func</span><span class=p>(</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>exceptionHandler</span><span class=p>,</span> <span class=nv>$exception</span><span class=p>)</span> <span class=o>!==</span> <span class=k>true</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>displayException</span><span class=p>(</span><span class=nv>$exception</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>exit</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * Display error information
</span></span></span><span class=line><span class=cl><span class=sd>     * @param int $code
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $message
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $file
</span></span></span><span class=line><span class=cl><span class=sd>     * @param int $line
</span></span></span><span class=line><span class=cl><span class=sd>     * @return void
</span></span></span><span class=line><span class=cl><span class=sd>     * @since 1.0
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>displayError</span><span class=p>(</span><span class=nv>$code</span><span class=p>,</span> <span class=nv>$message</span><span class=p>,</span> <span class=nv>$file</span><span class=p>,</span> <span class=nv>$line</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>debug</span> <span class=o>==</span> <span class=k>true</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>echo</span> <span class=s2>&#34;&lt;h1&gt;Error </span><span class=si>$code</span><span class=s2>&lt;/h1&gt;&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>echo</span> <span class=s2>&#34;&lt;p&gt;</span><span class=si>$message</span><span class=s2> in (</span><span class=si>$file</span><span class=s2>:</span><span class=si>$line</span><span class=s2>)&lt;/p&gt;&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>echo</span> <span class=s1>&#39;&lt;pre&gt;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=nx>debug_print_backtrace</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=k>echo</span> <span class=s1>&#39;&lt;/pre&gt;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>echo</span> <span class=s2>&#34;&lt;h1&gt;Error </span><span class=si>$code</span><span class=s2>&lt;/h1&gt;&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>echo</span> <span class=s2>&#34;&lt;p&gt;</span><span class=si>$message</span><span class=s2>&lt;/p&gt;&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * Display exception information
</span></span></span><span class=line><span class=cl><span class=sd>     * @param Exception $exception
</span></span></span><span class=line><span class=cl><span class=sd>     * @return void
</span></span></span><span class=line><span class=cl><span class=sd>     * @since 1.0
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>displayException</span><span class=p>(</span><span class=nv>$exception</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>debug</span> <span class=o>==</span> <span class=k>true</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>echo</span> <span class=s1>&#39;&lt;h1&gt;&#39;</span><span class=o>.</span><span class=nx>get_class</span><span class=p>(</span><span class=nv>$exception</span><span class=p>)</span><span class=o>.</span><span class=s1>&#39;&lt;/h1&gt;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>echo</span> <span class=s1>&#39;&lt;p&gt;&#39;</span><span class=o>.</span><span class=nv>$exception</span><span class=o>-&gt;</span><span class=na>getMessage</span><span class=p>()</span><span class=o>.</span><span class=s1>&#39; (&#39;</span><span class=o>.</span><span class=nv>$exception</span><span class=o>-&gt;</span><span class=na>getFile</span><span class=p>()</span><span class=o>.</span><span class=s1>&#39;:&#39;</span><span class=o>.</span><span class=nv>$exception</span><span class=o>-&gt;</span><span class=na>getLine</span><span class=p>()</span><span class=o>.</span><span class=s1>&#39;)&lt;/p&gt;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>echo</span> <span class=s1>&#39;&lt;pre&gt;&#39;</span><span class=o>.</span><span class=nv>$exception</span><span class=o>-&gt;</span><span class=na>getTraceAsString</span><span class=p>()</span><span class=o>.</span><span class=s1>&#39;&lt;/pre&gt;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>echo</span> <span class=s1>&#39;&lt;h1&gt;&#39;</span><span class=o>.</span><span class=nx>get_class</span><span class=p>(</span><span class=nv>$exception</span><span class=p>)</span><span class=o>.</span><span class=s1>&#39;&lt;/h1&gt;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>echo</span> <span class=s1>&#39;&lt;p&gt;&#39;</span><span class=o>.</span><span class=nv>$exception</span><span class=o>-&gt;</span><span class=na>getMessage</span><span class=p>()</span><span class=o>.</span><span class=s1>&#39;&lt;/p&gt;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=cp>?&gt;</span><span class=err>
</span></span></span></code></pre></td></tr></table></div></div><p>â€œhandleError()â€å’Œâ€œhandleException()â€ä¸­å…ˆè°ƒç”¨äº†â€œrestore_error_handler()â€å’Œâ€œrestore_exception_handler()â€ï¼Œç”¨äºé˜²æ­¢é€’å½’å¤„ç†ã€‚</p><p>å¼€å‘è€…å¯ä»¥åœ¨é…ç½®æ•°ç»„ä¸­æŒ‡å®šè‡ªå®šä¹‰çš„é”™è¯¯å’Œå¼‚å¸¸å¤„ç†é€»è¾‘ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=o>&lt;?</span><span class=nx>php</span>
</span></span><span class=line><span class=cl><span class=k>return</span> <span class=k>array</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=s1>&#39;exceptionHandler&#39;</span> <span class=o>=&gt;</span> <span class=k>function</span><span class=p>(</span><span class=nv>$exception</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>var_dump</span><span class=p>(</span><span class=nv>$exception</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;errorHandler&#39;</span> <span class=o>=&gt;</span> <span class=k>array</span><span class=p>(</span><span class=s1>&#39;MyClass&#39;</span><span class=p>,</span> <span class=s1>&#39;handleError&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=cp>?&gt;</span><span class=err>
</span></span></span></code></pre></td></tr></table></div></div><p>â€œerrorHandlerâ€å’Œâ€œexceptionHandlerâ€çš„å€¼å¿…é¡»æ˜¯ä¸€ä¸ªcallableç±»å‹ï¼Œåœ¨è¿™ä¸ªcallableç»“æŸæ—¶ï¼Œå¦‚æœä¸å¸Œæœ›åç»­é€»è¾‘ï¼ˆ<em>ä¾‹å¦‚æ¡†æ¶è‡ªå·±çš„é”™è¯¯ã€å¼‚å¸¸å¤„ç†é€»è¾‘</em>ï¼‰ç»§ç»­å¤„ç†ï¼Œå°±è¿”å›trueï¼Œæ­¤æ—¶ç¨‹åºå°†ä¼šç»ˆæ­¢æ‰§è¡Œå¹¶é€€å‡ºã€‚</p><h2 id=demoéªŒè¯>DemoéªŒè¯</h2><p>åœ¨WebApplication::run()ä¸­æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸æˆ–ä½¿ç”¨trigger_error()è§¦å‘ä¸€ä¸ªé”™è¯¯ï¼Œå¯ä»¥çœ‹åˆ°å‡è¢«æ‹¦æˆªå’Œå¤„ç†ã€‚</p><h2 id=æ€»ç»“>æ€»ç»“</h2><p>å¼•å…¥é”™è¯¯å’Œå¼‚å¸¸çš„è‡ªåŠ¨å¤„ç†å¯ä»¥æå¤§åœ°ç®€åŒ–ä»£ç ã€‚æˆ‘ä»¬ç»å¸¸éœ€è¦åœ¨AJAXè¯·æ±‚å‡ºé”™æ—¶è¿”å›ä¸€ä¸ªJSONå­—ç¬¦ä¸²ï¼Œå¹¶ç”±å®¢æˆ·ç«¯å†³å®šå¦‚ä½•å¤„ç†ï¼Œè¿™æ—¶å°±å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„å¤„ç†é€»è¾‘å¤„ç†é”™è¯¯å’Œå¼‚å¸¸ï¼Œè€ŒControlleré‡Œåªå®ç°æ­£å¸¸çš„é€»è¾‘å³å¯ï¼Œæ— éœ€å†æœ‰å¤§é‡éš¾çœ‹çš„try&mldr;catchå—ã€‚</p></article></main><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css integrity=sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.js integrity=sha384-YNHdsYkH6gMx9y3mRkmcJ2mFUjTd0qNQQvY9VYZgQd7DcN7env35GzlmFaZ23JGp crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/contrib/auto-render.min.js integrity=sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})})</script><script src=https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js crossorigin=anonymous></script><script>mermaid.init(void 0,"code.language-mermaid")</script><div id=comment></div><script>const s=document.createElement("script");s.src="https://utteranc.es/client.js",s.crossOrigin="anonymous",s.async=!0,s.setAttribute("repo","xbot/blog-comments"),s.setAttribute("issue-term","pathname"),s.setAttribute("label","comment"),s.setAttribute("theme","github-"+window.minima_theme),document.getElementById("comment").appendChild(s)</script></div><footer class="mt-8 mb-8"><div class="container mx-auto"><div class="mt-8 flex flex-col-reverse sm:flex-row sm:justify-between items-center"><div class="text-center sm:text-left"><p class="mt-0 text-sm">Â© 2007-2024 é¬¼é©¬å¦–åˆ€</p><p class="mt-0 text-xs">Built with <a href=https://gohugo.io target=_blank rel="noopener noreferrer">Hugo</a> v0.147.1
and <a href=https://github.com/mivinci/hugo-theme-minima target=_blank rel="noopener noreferrer">Minima</a></p></div><p class="flex items-center mt-0"><a class="icon ml-1 mr-1" href=mailto:donie.leigh@gmail.com title=email><svg width="18" height="18" viewBox="0 0 24 21" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><path d="M22 6l-10 7L2 6"/></svg>
</a><a class="icon ml-1 mr-1" href=https://github.com/xbot title=github><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg>
</a><a class="icon ml-1 mr-1" href=/index.xml title=rss><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 019 9M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></p></div></div></footer></body></html>