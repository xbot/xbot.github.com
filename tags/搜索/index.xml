<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>搜索 on 晴耕雨讀</title><link>http://0x3f.org/tags/%E6%90%9C%E7%B4%A2/</link><description>Recent content in 搜索 on 晴耕雨讀</description><generator>Hugo</generator><language>zh-cn</language><copyright>© 2007-2024 鬼马妖刀</copyright><lastBuildDate>Mon, 09 May 2011 00:00:00 +0000</lastBuildDate><atom:link href="http://0x3f.org/tags/%E6%90%9C%E7%B4%A2/index.xml" rel="self" type="application/rss+xml"/><item><title>ack: grep的同类替代品</title><link>http://0x3f.org/posts/use-ack-as-an-alternative-to-grep/</link><pubDate>Mon, 09 May 2011 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/use-ack-as-an-alternative-to-grep/</guid><description>&lt;p&gt;&lt;a href="http://betterthangrep.com"&gt;ack&lt;/a&gt;是一个perl脚本，是grep的一个可选替换。&lt;/p&gt;

&lt;p&gt;有以下优势：&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;为程序员设计，使用方便，输入较少
&lt;ul&gt;
&lt;li&gt;默认递归搜索&lt;/li&gt;
&lt;li&gt;缺省提供多种文件类型供选，文件类型对应的后缀名可修改&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;使用perl的正则表达式，而grep只支持其一个子集&lt;/li&gt;
&lt;li&gt;搜索结果高亮输出&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;很多人以讹传讹，使人容易对ack的搜索速度产生误解。ack的官方宣传中说比grep快，其前提是ack可方便地针对部分后缀的文件进行搜索，而grep默认对所有文件搜索。ack的官方文档中明确指出，在对大量文件进行搜索时，grep的速度还是最快的。&lt;/p&gt;

&lt;h2&gt;~/.ackrc&lt;/h2&gt;

&lt;p&gt;使用此配置文件存储ack的常用选项。&lt;/p&gt;

&lt;blockquote&gt;
 &lt;p&gt;-i
 --type-add
 php=.lib&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;如上所示，该文件中每一行应该是ack命令行参数中用空格分隔的一个部分。&lt;/p&gt;

&lt;h2&gt;例子&lt;/h2&gt;

&lt;p&gt;如果搜索的关键词是正则表达式，在Linux下必须将其用双引号包围起来。&lt;/p&gt;

&lt;p&gt;如：&lt;/p&gt;

```bash
ack "gbldb\s*="
```

&lt;h2&gt;Windows下的安装&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;安装&lt;a href="http://strawberryperl.com"&gt;strawberryperl&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;保存&lt;a href="http://betterthangrep.com/ack-standalone"&gt;ack.pl&lt;/a&gt;到&lt;em&gt;C:\bin&lt;/em&gt;&lt;/li&gt;
```dos
@echo off
perl.exe c:/bin/ack.pl %*
```
&lt;li&gt;将&lt;em&gt;C:\bin&lt;/em&gt;加入环境变量&lt;strong&gt;%PATH%&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;资源&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.vim.org/scripts/script.php?script_id=2572"&gt;ack.vim&lt;/a&gt;: Vim使用ack的辅助扩展&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Posted via &lt;a href="http://0x3f.org/posts/ultrablog-as-an-ultimate-vim-blogging-plugin/"&gt;UltraBlog.vim&lt;/a&gt;.&lt;/p&gt;</description></item></channel></rss>