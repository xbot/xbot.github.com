<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>IE - 标签 - 晴耕雨讀</title><link>http://0x3f.org/tags/ie/</link><description>IE - 标签 - 晴耕雨讀</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Sat, 03 Aug 2013 01:03:00 +0000</lastBuildDate><atom:link href="http://0x3f.org/tags/ie/" rel="self" type="application/rss+xml"/><item><title>IE中使用IFrame上传文件报错——TypeError:拒绝访问</title><link>http://0x3f.org/post/typeerror-access-denied/</link><pubDate>Sat, 03 Aug 2013 01:03:00 +0000</pubDate><author>作者</author><guid>http://0x3f.org/post/typeerror-access-denied/</guid><description><![CDATA[<p>场景为：</p>
<p>点击一个图标，打开文件选择对话框，选择好文件后即时上传。</p>
<p>之前的实现方式是在一个隐藏表单中放一个file类型的input元素，通过调用input.click()打开对话框，同时监听input.onchange，最后通过dojo/request/iframe上传文件。</p>
<p>这个实现方式在Chrome和Firefox里都没问题，但是在IE里报错：“<strong>TypeError:拒绝访问</strong>”。原因是IE要求必须通过点击file类型的input的按钮打开选择对话框，否则就报这个错误。</p>
<p>解决办法是修改input元素的样式，或者直接用dojox.form.Uploader替代。</p>
<p><em>因为这个破问题又血战到半夜，只支持IE9+的世界你们好吗，还支持IE7+的屌丝伤不起……不起……起……啊。<strong>IE不死，吾难未已！！！</strong></em></p>
]]></description></item></channel></rss>