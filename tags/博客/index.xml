<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>åšå®¢ - æ ‡ç­¾ - æ™´è€•é›¨è®€</title><link>http://0x3f.org/tags/%E5%8D%9A%E5%AE%A2/</link><description>åšå®¢ - æ ‡ç­¾ - æ™´è€•é›¨è®€</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Fri, 19 Jun 2020 17:41:52 +0800</lastBuildDate><atom:link href="http://0x3f.org/tags/%E5%8D%9A%E5%AE%A2/" rel="self" type="application/rss+xml"/><item><title>ä» Hexo åˆ° Hugo</title><link>http://0x3f.org/post/migrate-from-hexo-to-hugo/</link><pubDate>Fri, 19 Jun 2020 17:41:52 +0800</pubDate><author>ä½œè€…</author><guid>http://0x3f.org/post/migrate-from-hexo-to-hugo/</guid><description><![CDATA[<p>ä¸€åˆ‡æºäºæˆ‘è¿™ä¸ªé¢œå…šçš„å–œæ–°åŒæ—§ã€‚</p>
<p>æ€»æƒ³æ‰¾åˆ°ä¸€ä¸ªæç®€è€Œä¸å¤±ç°ä»£æ„Ÿçš„ä¸»é¢˜ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå‘ç°è¶Šæ¥è¶Šå¤šæ¯”è¾ƒè´´è¿‘æˆ‘å£å‘³çš„ä¸»é¢˜éƒ½æ˜¯é€‚é… Hugo çš„ã€‚è¶æœ€è¿‘æœ‰æ—¶é—´ï¼Œå°±æ¢äº†è¿‡æ¥ã€‚</p>
<hr>
<h2 id="åˆ›å»ºä¸€ä¸ªç©ºç«™ç‚¹">åˆ›å»ºä¸€ä¸ªç©ºç«™ç‚¹</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># å®‰è£… hugo</span>
brew install hugo

<span class="c1"># åˆ›å»ºç©ºç«™ç‚¹</span>
hugo new site Blog

<span class="c1"># å®‰è£… LoveIt ä¸»é¢˜</span>
<span class="nb">cd</span> Blog
git init
git submodule add https://github.com/dillonzq/LoveIt.git themes/LoveIt
cp -f themes/LoveIt/exampleSite/config.toml .

<span class="c1"># é…ç½® config.toml</span>

<span class="c1"># åœ¨æœ¬æœºé¢„è§ˆæ•ˆæœ</span>
hugo server -D
</code></pre></td></tr></table>
</div>
</div><h2 id="å†™ä¸€ç¯‡æ–°æ–‡ç« ">å†™ä¸€ç¯‡æ–°æ–‡ç« </h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">hugo new posts/test.md
</code></pre></td></tr></table>
</div>
</div><p>Hugo éœ€è¦è‡ªå·±æŒ‡å®šæ–‡ç« çš„ç›¸å¯¹è·¯å¾„å’Œæ–‡ä»¶åï¼Œè¿™ä¸€ç‚¹ä¸å¦‚ Hexo è‡ªåŠ¨åŒ–ç¨‹åº¦é«˜ã€‚</p>
<h2 id="è¿ç§»æ–‡ç« ">è¿ç§»æ–‡ç« </h2>
<blockquote>
<p>æ³¨æ„ï¼šä»¥ä¸‹å‘½ä»¤å’Œè„šæœ¬ä»…é€‚ç”¨äºæœ¬åšå®¢ï¼Œä¸åŠ åˆ¤æ–­åœ°ä½¿ç”¨å¯èƒ½ä¼šä¿®æ”¹ä¸éœ€è¦å˜åŠ¨çš„å†…å®¹ã€‚</p>
</blockquote>
<h3 id="ç»Ÿä¸€æ–‡ç« åç¼€">ç»Ÿä¸€æ–‡ç« åç¼€</h3>
<p>å†å²åŸå› ï¼Œç”¨è¿‡çš„æ–‡ä»¶åç¼€ä¸æ­¢ä¸€ç§ï¼Œè¿™æ¬¡æŠŠ<code>.mkd</code>å’Œ<code>.markdown</code>ç»Ÿä¸€æˆ<code>.md</code>ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">rename -s .mkd .md -s .markdown .md *
</code></pre></td></tr></table>
</div>
</div><h3 id="åˆ é™¤ä¸å…¼å®¹çš„-front-matter">åˆ é™¤ä¸å…¼å®¹çš„ Front Matter</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">gsed -i <span class="s1">&#39;/^type:\s*post/d&#39;</span> *
</code></pre></td></tr></table>
</div>
</div><h3 id="ä¿®æ”¹ä¸è§„èŒƒçš„-front-matter">ä¿®æ”¹ä¸è§„èŒƒçš„ Front Matter</h3>
<p>æˆ‘ç”¨å•åˆ†ç±»ã€å¤šæ ‡ç­¾çš„æ–¹å¼ç®¡ç†æ–‡ç« ï¼Œæ‰€ä»¥ä»¥å‰éƒ½æ˜¯æŠŠåˆ†ç±»åç›´æ¥å†™åœ¨<code>categories:</code>åé¢äº†ï¼ŒHugo è¦æ±‚å¿…é¡»ä½¿ç”¨è¿æ¥ç¬¦å‰ç¼€å¦èµ·ä¸€è¡Œã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">perl -pi -e <span class="s1">&#39;s/(?&lt;=^categories:)/\n-/g&#39;</span> *
</code></pre></td></tr></table>
</div>
</div><p>ä¹Ÿæ˜¯å› ä¸ºå†å²çš„åŸå› ï¼Œæœ‰çš„æ–‡ç« æ²¡æœ‰æ—¥æœŸæ—¶é—´ï¼Œæœ‰çš„æ ¼å¼ä¹Ÿä¸ç»Ÿä¸€ã€‚Hugo å¯¹æ—¥æœŸæ—¶é—´çš„æ ¼å¼è¦æ±‚æ¯”è¾ƒä¸¥æ ¼ã€‚è¿™é‡ŒæŠŠæ‰€æœ‰æ²¡æœ‰ç§’çš„æ—¶é—´åè¡¥å…¨ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">perl -pi -e <span class="s1">&#39;s/(?&lt;=^date:\s\d{4}-\d{2}-\d{2}\s\d{2}:\d{2}$)/:00/g&#39;</span> *
</code></pre></td></tr></table>
</div>
</div><h3 id="æ›¿æ¢æ–‡ç« æ‘˜è¦æ ‡ç­¾">æ›¿æ¢æ–‡ç« æ‘˜è¦æ ‡ç­¾</h3>
<p>Hugo ä¸å…è®¸â€œmoreâ€ä¸¤ä¾§æœ‰ç©ºæ ¼ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">gsed -ri <span class="s1">&#39;s/!-- more --/!--more--/g&#39;</span> *
</code></pre></td></tr></table>
</div>
</div><h3 id="è¡¥å……å’Œè½¬æ¢å¤æ‚å†…å®¹">è¡¥å……å’Œè½¬æ¢å¤æ‚å†…å®¹</h3>
<p>æ­¤å¤–è¿˜æœ‰è¯¸å¦‚æ—¥æœŸæ—¶é—´ç¼ºå¤±ã€è½¬æ¢ Octopress æ ‡ç­¾åˆ° Markdown æ ¼å¼ç­‰é—®é¢˜ï¼Œå¦å¤–ä¸ºäº†ä¿æŒ Permalink ä¸å˜ï¼Œå‡†å¤‡æ¯ç¯‡æ–‡ç« éƒ½è¡¥å……ä¸€ä¸ªFront Matter <code>slug</code>ã€‚æ‰€ä»¥å†™äº†ä¸€ä¸ª PHP è„šæœ¬ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span><span class="lnt">82
</span><span class="lnt">83
</span><span class="lnt">84
</span><span class="lnt">85
</span><span class="lnt">86
</span><span class="lnt">87
</span><span class="lnt">88
</span><span class="lnt">89
</span><span class="lnt">90
</span><span class="lnt">91
</span><span class="lnt">92
</span><span class="lnt">93
</span><span class="lnt">94
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-php" data-lang="php">#!/usr/bin/env php
<span class="cp">&lt;?php</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$argc</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">file_put_contents</span><span class="p">(</span><span class="s1">&#39;php://stderr&#39;</span><span class="p">,</span> <span class="s2">&#34;éœ€è¾“å…¥ä¸€ä¸ªåˆæ³•çš„æ–‡ä»¶è·¯å¾„</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">);</span>
    <span class="k">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">for</span> <span class="p">(</span><span class="nv">$i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="nv">$i</span> <span class="o">&lt;</span> <span class="nv">$argc</span><span class="p">;</span> <span class="nv">$i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">handle_file</span><span class="p">(</span><span class="nv">$argv</span><span class="p">[</span><span class="nv">$i</span><span class="p">]);</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nf">handle_file</span><span class="p">(</span><span class="nv">$filePath</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$content</span> <span class="o">=</span> <span class="nx">file_get_contents</span><span class="p">(</span><span class="nv">$filePath</span><span class="p">);</span>
    <span class="nv">$lines</span> <span class="o">=</span> <span class="nx">explode</span><span class="p">(</span><span class="s2">&#34;</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">,</span> <span class="nv">$content</span><span class="p">);</span>

    <span class="nv">$isDateMissing</span> <span class="o">=</span> <span class="k">empty</span><span class="p">(</span><span class="nx">preg_grep</span><span class="p">(</span><span class="s1">&#39;/^date:\s*/&#39;</span><span class="p">,</span> <span class="nv">$lines</span><span class="p">));</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$isDateMissing</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">append_date</span><span class="p">(</span><span class="nv">$filePath</span><span class="p">,</span> <span class="nv">$lines</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nv">$isSlugMissing</span> <span class="o">=</span> <span class="k">empty</span><span class="p">(</span><span class="nx">preg_grep</span><span class="p">(</span><span class="s1">&#39;/^slug:\s/&#39;</span><span class="p">,</span> <span class="nv">$lines</span><span class="p">));</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$isSlugMissing</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">append_slug</span><span class="p">(</span><span class="nv">$filePath</span><span class="p">,</span> <span class="nv">$lines</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nx">convert_hexo_tags</span><span class="p">(</span><span class="nv">$lines</span><span class="p">);</span>

    <span class="nx">file_put_contents</span><span class="p">(</span><span class="nv">$filePath</span><span class="p">,</span> <span class="nx">implode</span><span class="p">(</span><span class="s2">&#34;</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">,</span> <span class="nv">$lines</span><span class="p">));</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nf">append_date</span><span class="p">(</span><span class="nv">$filePath</span><span class="p">,</span> <span class="o">&amp;</span><span class="nv">$lines</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// è·å–æ–‡ä»¶åä¸­çš„æ—¥æœŸ
</span><span class="c1"></span>    <span class="nv">$arr</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="nx">preg_match</span><span class="p">(</span><span class="s1">&#39;/\d{4}-\d{2}-\d{2}/&#39;</span><span class="p">,</span> <span class="nx">basename</span><span class="p">(</span><span class="nv">$filePath</span><span class="p">),</span> <span class="nv">$arr</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">empty</span><span class="p">(</span><span class="nv">$arr</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">file_put_contents</span><span class="p">(</span><span class="s1">&#39;php://stderr&#39;</span><span class="p">,</span> <span class="s2">&#34;æœªèƒ½ä»æ–‡ä»¶åä¸­æ‰¾åˆ°æ—¥æœŸ</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">);</span>
        <span class="k">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$lines</span> <span class="k">as</span> <span class="nv">$idx</span> <span class="o">=&gt;</span> <span class="nv">$line</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">strpos</span><span class="p">(</span><span class="nv">$line</span><span class="p">,</span> <span class="s1">&#39;title:&#39;</span><span class="p">)</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="nv">$lines</span> <span class="o">=</span> <span class="nx">array_merge</span><span class="p">(</span>
                <span class="nx">array_slice</span><span class="p">(</span><span class="nv">$lines</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">$idx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span>
                <span class="p">[</span><span class="s2">&#34;date: </span><span class="si">{</span>$arr[0]<span class="si">}</span><span class="s2"> 00:00:00&#34;</span><span class="p">],</span>
                <span class="nx">array_slice</span><span class="p">(</span><span class="nv">$lines</span><span class="p">,</span> <span class="nv">$idx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nf">append_slug</span><span class="p">(</span><span class="nv">$filePath</span><span class="p">,</span> <span class="o">&amp;</span><span class="nv">$lines</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span> <span class="nx">preg_match</span><span class="p">(</span><span class="s1">&#39;/(?&lt;=\d{4}-\d{2}-\d{2}-).*(?=\.)/&#39;</span><span class="p">,</span> <span class="nx">basename</span><span class="p">(</span><span class="nv">$filePath</span><span class="p">),</span> <span class="nv">$matches</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">file_put_contents</span><span class="p">(</span><span class="s1">&#39;php://stderr&#39;</span><span class="p">,</span> <span class="s2">&#34;æœªèƒ½ä»æ–‡ä»¶åä¸­æ‰¾åˆ°slug</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">);</span>
        <span class="k">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$lines</span> <span class="k">as</span> <span class="nv">$idx</span> <span class="o">=&gt;</span> <span class="nv">$line</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">strpos</span><span class="p">(</span><span class="nv">$line</span><span class="p">,</span> <span class="s1">&#39;title:&#39;</span><span class="p">)</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="nv">$lines</span> <span class="o">=</span> <span class="nx">array_merge</span><span class="p">(</span>
                <span class="nx">array_slice</span><span class="p">(</span><span class="nv">$lines</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">$idx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span>
                <span class="p">[</span><span class="s2">&#34;slug: &#34;</span> <span class="o">.</span> <span class="nx">str_replace</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="nv">$matches</span><span class="p">[</span><span class="mi">0</span><span class="p">])],</span>
                <span class="nx">array_slice</span><span class="p">(</span><span class="nv">$lines</span><span class="p">,</span> <span class="nv">$idx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nf">convert_hexo_tags</span><span class="p">(</span><span class="o">&amp;</span><span class="nv">$lines</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$lines</span> <span class="k">as</span> <span class="nv">$idx</span> <span class="o">=&gt;</span> <span class="nv">$line</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">preg_match</span><span class="p">(</span><span class="s1">&#39;/(?&lt;={%\simg\s).*(?=\s\d+\s%})/&#39;</span><span class="p">,</span> <span class="nv">$line</span><span class="p">,</span> <span class="nv">$matches</span><span class="p">)</span>
            <span class="o">||</span> <span class="nx">preg_match</span><span class="p">(</span><span class="s1">&#39;/(?&lt;={%\simg\s).*(?=\s%})/&#39;</span><span class="p">,</span> <span class="nv">$line</span><span class="p">,</span> <span class="nv">$matches</span><span class="p">)</span>
        <span class="p">)</span> <span class="p">{</span>
            <span class="nv">$lines</span><span class="p">[</span><span class="nv">$idx</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&#34;![](</span><span class="si">{</span>$matches[0]<span class="si">}</span><span class="s2">)&#34;</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">preg_match</span><span class="p">(</span><span class="s1">&#39;/(?&lt;={%\scodeblock\slang:).*(?=\s[a-zA-Z0-9.]+\s%})/&#39;</span><span class="p">,</span> <span class="nv">$line</span><span class="p">,</span> <span class="nv">$matches</span><span class="p">)</span>
            <span class="o">||</span> <span class="nx">preg_match</span><span class="p">(</span><span class="s1">&#39;/(?&lt;={%\scodeblock\slang:).*(?=\s%})/&#39;</span><span class="p">,</span> <span class="nv">$line</span><span class="p">,</span> <span class="nv">$matches</span><span class="p">)</span>
            <span class="o">||</span> <span class="nx">preg_match</span><span class="p">(</span><span class="s1">&#39;/(?&lt;={%\scodeblock).*(?=\s%})/&#39;</span><span class="p">,</span> <span class="nv">$line</span><span class="p">,</span> <span class="nv">$matches</span><span class="p">)</span>
        <span class="p">)</span> <span class="p">{</span>
            <span class="nv">$lines</span><span class="p">[</span><span class="nv">$idx</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&#34;```</span><span class="si">{</span>$matches[0]<span class="si">}</span><span class="s2">&#34;</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">preg_match</span><span class="p">(</span><span class="s1">&#39;/{%\sendcodeblock\s%}/&#39;</span><span class="p">,</span> <span class="nv">$line</span><span class="p">))</span> <span class="p">{</span>
            <span class="nv">$lines</span><span class="p">[</span><span class="nv">$idx</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&#34;```&#34;</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>æ‰§è¡Œï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">ls content/posts <span class="p">|</span> sed <span class="s2">&#34;s:^:`pwd`/content/posts/:&#34;</span> <span class="p">|</span> xargs ./convert.php
</code></pre></td></tr></table>
</div>
</div><h2 id="å®ç°å…¨æ–‡æ£€ç´¢">å®ç°å…¨æ–‡æ£€ç´¢</h2>
<p>é»˜è®¤çš„ Lunr æ–¹å¼å¼€ç®±å³ç”¨ï¼Œä½†é€Ÿåº¦è¾ƒæ…¢ï¼Œè€Œä¸”ä¸­æ–‡åˆ†è¯åšå¾—ä¸å¥½ã€‚æ‰€ä»¥ä½¿ç”¨ <a href="https://www.algolia.com/" target="_blank" rel="noopener noreffer">Algolia</a> å®ç°ã€‚</p>
<p>æ³¨å†Œè´¦å·å¹¶é€‰ç”¨å…è´¹æ–¹æ¡ˆåï¼Œåœ¨â€œAPI Keysâ€é¡µé¢å¤åˆ¶â€œApplication IDâ€ã€â€œSearch-Only API Keyâ€å’Œâ€œAdmin API Keyâ€ã€‚</p>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º <code>.env</code> æ–‡ä»¶ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-ini" data-lang="ini"><span class="na">ALGOLIA_APP_ID</span><span class="o">=</span><span class="s">XXXXXX</span>
<span class="na">ALGOLIA_ADMIN_KEY</span><span class="o">=</span><span class="s">XXXXXX</span>
<span class="na">ALGOLIA_INDEX_NAME</span><span class="o">=</span><span class="s">0x3f.org</span>
<span class="na">ALGOLIA_INDEX_FILE</span><span class="o">=</span><span class="s">public/index.json</span>
</code></pre></td></tr></table>
</div>
</div><p><code>APP_ID</code> å’Œ <code>ADMIN_KEY</code> æ˜¯å‰é¢å¤åˆ¶çš„ä¸‰é¡¹ä¸­çš„å€¼ï¼Œ<code>INDEX_NAME</code> æ˜¯ Algolia ä¸Šçš„ç´¢å¼•åç§°ï¼Œéšä¾¿èµ·ä¸€ä¸ªå°±è¡Œã€‚<code>INDEX_FILE</code> æ˜¯ç”Ÿæˆç«™ç‚¹æ—¶è‡ªåŠ¨ç”Ÿæˆçš„ç´¢å¼•æ–‡ä»¶çš„è·¯å¾„ï¼Œä¸€èˆ¬ä¸éœ€è¦ä¿®æ”¹ã€‚</p>
<p>å®‰è£…è‡ªåŠ¨æäº¤ç´¢å¼•åˆ° Algolia çš„è„šæœ¬ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">npm install atomic-algolia -g
</code></pre></td></tr></table>
</div>
</div><p>æ‰§è¡Œæäº¤ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">atomic-algolia
</code></pre></td></tr></table>
</div>
</div><p>å› ä¸ºæˆ‘æ‰€ç”¨çš„ä¸»é¢˜æ˜¯æ”¯æŒ Algolia çš„ï¼Œæ‰€ä»¥æŠŠ â€œApplication IDâ€ã€â€œSearch-Only Keyâ€å’Œç´¢å¼•åç§°å¡«åˆ°é…ç½®æ–‡ä»¶ä¸­å¯¹åº”çš„é¡¹åå°±å¯ä»¥ä½¿ç”¨æœç´¢äº†ã€‚</p>
<h2 id="æ·»åŠ è¯„è®ºåŠŸèƒ½">æ·»åŠ è¯„è®ºåŠŸèƒ½</h2>
<p>ç”¨äº†å¾ˆå¤šå¹´ Disqus ï¼Œè¿™æ¬¡æ‰“ç®—æ¢ç”¨ Github Issues ï¼Œé€‰æ‹©äº† <a href="https://utteranc.es/" target="_blank" rel="noopener noreffer">Utterances</a> ã€‚</p>
<p>ä¸»é¢˜åŸç”Ÿæ”¯æŒï¼Œæ³¨å†Œè´¦å·åç®€å•é…ç½®å³å¯ã€‚</p>
<h2 id="favicon">Favicon</h2>
<p>åŸæ¥ç®€å•ç²—æš´åœ°ç”¨äº†å”¯ä¸€åœ¨çš„å›¾æ ‡æ–‡ä»¶ï¼Œè¿™æ¬¡æ”¹ç”¨ <a href="https://realfavicongenerator.net/" target="_blank" rel="noopener noreffer">Favicon Generator</a> ç”Ÿæˆä¸€å¥—å¯¹å¤šå¹³å°æµè§ˆå™¨ä¼˜åŒ–çš„å›¾æ ‡ã€‚</p>
<p>æŠŠå…¨å¥—æ–‡ä»¶æ”¾åˆ° <code>static/</code> ç›®å½•ä¸‹å³å¯ã€‚</p>
<h2 id="éƒ¨ç½²åˆ°-github-pages">éƒ¨ç½²åˆ° Github Pages</h2>
<p>Github Pages æ”¯æŒå¤šç§ç«™ç‚¹ç”Ÿæˆæ–¹å¼ï¼Œç”±äº Hexo é»˜è®¤ä½¿ç”¨ master åˆ†æ”¯ç®¡ç†ç”Ÿæˆçš„é™æ€èµ„æºï¼Œè€Œç«™ç‚¹æºç å­˜æ”¾åœ¨ source åˆ†æ”¯ï¼Œæ‰€ä»¥æˆ‘æ‰“ç®—æ²¿ç”¨è¿™ä¸ªæ–¹æ¡ˆï¼Œåœ¨ç»§ç»­ä½¿ç”¨ master åˆ†æ”¯å­˜æ”¾é™æ€èµ„æºçš„åŒæ—¶ï¼Œæ–°å¢ä¸€ä¸ª hugo åˆ†æ”¯ï¼Œç®¡ç†æºç ã€‚</p>
<h3 id="æ‰‹åŠ¨éƒ¨ç½²">æ‰‹åŠ¨éƒ¨ç½²</h3>
<p>Hugo ä¼šå°†ç”Ÿæˆçš„é™æ€èµ„æºå­˜æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„<code>public</code>ç›®å½•ä¸­ï¼Œæ‰€ä»¥éœ€è¦å°† master åˆ†æ”¯æ£€å‡ºåˆ°è¯¥ç›®å½•ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">git worktree add -B master public origin/master
</code></pre></td></tr></table>
</div>
</div><p>ç”Ÿæˆç«™ç‚¹å¹¶éƒ¨ç½²ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">hugo
<span class="nb">cd</span> public <span class="o">&amp;&amp;</span> git add â€”all
git commit
git push -f origin master
</code></pre></td></tr></table>
</div>
</div><p>å¾ˆå¿«å°±èƒ½çœ‹åˆ°æ–°ç½‘ç«™äº†ã€‚</p>
<h3 id="è‡ªåŠ¨éƒ¨ç½²">è‡ªåŠ¨éƒ¨ç½²</h3>
<p>Hugo å¹¶æ²¡æœ‰æä¾› Hexo é‚£æ ·çš„è‡ªåŠ¨éƒ¨ç½²å‘½ä»¤ï¼Œæ‰€ä»¥è¦ä¹ˆæŠŠä¸Šè¿°æ‰‹åŠ¨éƒ¨ç½²çš„å‘½ä»¤å†™æˆè„šæœ¬ï¼Œè¦ä¹ˆä½¿ç”¨è‡ªåŠ¨éƒ¨ç½²å·¥å…·ï¼Œæ°å¥½ Github Actions å¯ä»¥å¾ˆå¥½åœ°å®ç°ã€‚</p>
<p>åˆ›å»º <code>.github/workflows/main.yml</code> æ–‡ä»¶ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="k">name</span><span class="p">:</span><span class="w"> </span>github<span class="w"> </span>pages<span class="w">
</span><span class="w">
</span><span class="w"></span><span class="k">on</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="k">push</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="k">branches</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- hugo<span class="w">
</span><span class="w">
</span><span class="w"></span><span class="k">jobs</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="k">deploy</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="k">runs-on</span><span class="p">:</span><span class="w"> </span>ubuntu<span class="m">-18.04</span><span class="w">
</span><span class="w">    </span><span class="k">steps</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="k">uses</span><span class="p">:</span><span class="w"> </span>actions/checkout@v2<span class="w">
</span><span class="w">        </span><span class="k">with</span><span class="p">:</span><span class="w">
</span><span class="w">          </span><span class="k">submodules</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">  </span><span class="c"># Fetch Hugo themes (true OR recursive)</span><span class="w">
</span><span class="w">          </span><span class="k">fetch-depth</span><span class="p">:</span><span class="w"> </span><span class="m">0</span><span class="w">    </span><span class="c"># Fetch all history for .GitInfo and .Lastmod</span><span class="w">
</span><span class="w">
</span><span class="w">      </span>- <span class="k">name</span><span class="p">:</span><span class="w"> </span>Setup<span class="w"> </span>Hugo<span class="w">
</span><span class="w">        </span><span class="k">uses</span><span class="p">:</span><span class="w"> </span>peaceiris/actions-hugo@v2<span class="w">
</span><span class="w">        </span><span class="k">with</span><span class="p">:</span><span class="w">
</span><span class="w">        </span><span class="c">#   hugo-version: &#39;0.71.1&#39;</span><span class="w">
</span><span class="w">          </span><span class="k">hugo-version</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;latest&#39;</span><span class="w">
</span><span class="w">          </span><span class="c"># extended: true</span><span class="w">
</span><span class="w">
</span><span class="w">      </span>- <span class="k">name</span><span class="p">:</span><span class="w"> </span>Build<span class="w">
</span><span class="w">        </span><span class="k">run</span><span class="p">:</span><span class="w"> </span>hugo<span class="w"> </span>--minify<span class="w">
</span><span class="w">
</span><span class="w">      </span>- <span class="k">name</span><span class="p">:</span><span class="w"> </span>Deploy<span class="w">
</span><span class="w">        </span><span class="k">uses</span><span class="p">:</span><span class="w"> </span>peaceiris/actions-gh-pages@v3<span class="w">
</span><span class="w">        </span><span class="k">with</span><span class="p">:</span><span class="w">
</span><span class="w">          </span><span class="k">github_token</span><span class="p">:</span><span class="w"> </span>${{<span class="w"> </span>secrets.GITHUB_TOKEN<span class="w"> </span>}}<span class="w">
</span><span class="w">          </span><span class="k">publish_dir</span><span class="p">:</span><span class="w"> </span>./public<span class="w">
</span><span class="w">          </span><span class="k">publish_branch</span><span class="p">:</span><span class="w"> </span>master<span class="w">
</span><span class="w">
</span><span class="w">      </span>- <span class="k">name</span><span class="p">:</span><span class="w"> </span>Update<span class="w"> </span>Algolia<span class="w"> </span>Index<span class="w">
</span><span class="w">        </span><span class="k">env</span><span class="p">:</span><span class="w">
</span><span class="w">          </span><span class="k">ALGOLIA_APP_ID</span><span class="p">:</span><span class="w"> </span>XXXXXX<span class="w">
</span><span class="w">          </span><span class="k">ALGOLIA_ADMIN_KEY</span><span class="p">:</span><span class="w"> </span>${{<span class="w"> </span>secrets.ALGOLIA_ADMIN_KEY<span class="w"> </span>}}<span class="w">
</span><span class="w">          </span><span class="k">ALGOLIA_INDEX_NAME</span><span class="p">:</span><span class="w"> </span><span class="m">0x3f</span>.org<span class="w">
</span><span class="w">          </span><span class="k">ALGOLIA_INDEX_FILE</span><span class="p">:</span><span class="w"> </span>public/index.json<span class="w">
</span><span class="w">        </span><span class="k">run</span><span class="p">:</span><span class="w"> </span><span class="sd">|
</span><span class="sd">          sudo apt-get -yqq install npm</span><span class="w">
</span><span class="w">          </span>sudo<span class="w"> </span>npm<span class="w"> </span>install<span class="w"> </span>atomic-algolia<span class="w"> </span>-g<span class="w">
</span><span class="w">          </span>atomic-algolia<span class="w">
</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>æ³¨æ„æ›¿æ¢ <code>ALGOLIA_APP_ID</code> çš„çœŸå®å€¼ï¼Œå¹¶æŠŠ Algolia çš„â€œAdmin API Keyâ€æ·»åŠ åˆ° Github é¡¹ç›®è®¾ç½®ä¸­çš„â€œSecretsâ€é‡Œï¼Œåç§°ä¸ºâ€œALGOLIA_ADMIN_KEYâ€ã€‚</p>
<p>ä»¥åå†åœ¨ hugo åˆ†æ”¯æ¨é€æ–°çš„æäº¤æ—¶ï¼ŒGithub Actions å°±ä¼šè‡ªåŠ¨æ‰§è¡Œéƒ¨ç½²æ“ä½œã€‚</p>
<hr>
<p>ä»06å¹´åœ¨ä¸­å›½åšå®¢ç½‘ä¸Šå¼€å§‹å†™æ–‡ç« ï¼Œåˆ°åæ¥æ¢åˆ°ä¸ªäººæ­å»ºå¹¶å”®å–çš„ Wordpressï¼Œäº”å¹´é¢ æ²›æµç¦»çš„åšå®¢ç”Ÿæ¶¯ç»ˆäºåœ¨12å¹´ç»“æŸå¹¶<a href="/post/migrate-blog-to-octopress/" rel="">å®šå±…åˆ° Github ä¸Š</a>ï¼Œä¹‹å Octopress ä¸€ç”¨å°±åˆæ˜¯äº”å¹´ã€‚17å¹´ï¼Œå› ä¸º Octopress è½¬æ¢é€Ÿåº¦å¤ªæ…¢ï¼Œ<a href="/post/migrate-octopress-to-hexo/" rel="">æ¢æˆäº† Hexo</a>ã€‚</p>
<p>æˆ‘æƒ³ï¼Œè¿™æ¬¡æŠ˜è…¾ä¹‹åï¼Œåº”è¯¥èƒ½å†å®‰åˆ†äº”å¹´å§ã€‚</p>]]></description></item><item><title>ç”¨Githubå½“å›¾åºŠ</title><link>http://0x3f.org/post/take-github-as-image-hosting-service/</link><pubDate>Thu, 06 Feb 2020 22:00:00 +0000</pubDate><author>ä½œè€…</author><guid>http://0x3f.org/post/take-github-as-image-hosting-service/</guid><description><![CDATA[<p>å¾®åšå›¾åºŠçš„åŸŸåä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™æ”¹äº†ï¼ŒGoogleæ‰¾ä¸åˆ°ç›¸å…³ä¿¡æ¯ï¼Œç»è¿‡æ’æŸ¥å‘ç°åŸåŸŸåä¸­çš„â€œwsâ€æ”¹æˆäº†â€œwxâ€ï¼Œæµªè´¹äº†ä¸å°‘æ—¶é—´ã€‚</p>
<p>äºæ˜¯æ‰“ç®—æ¢å›¾åºŠã€‚</p>
<p>Githubè‡ªä»å»å¹´æ‰©å¤§å…è´¹è´¦æˆ·äº«å—çš„æƒåˆ©åï¼Œå•ä¸ªä»“åº“çš„å¤§å°æ²¡æœ‰ç¡¬æ€§é™åˆ¶ï¼Œå¾ˆé€‚åˆåšå›¾åºŠã€‚</p>
<p>uPicæ˜¯ä¸ªå¾ˆå¥½ç”¨çš„å›¾åºŠè¾…åŠ©å·¥å…·ï¼Œæ”¯æŒGithubã€‚</p>
<p></p>
<p>åŒç±»å·¥å…·è¿˜æœ‰PicGoã€‚</p>]]></description></item><item><title>æŠŠåšå®¢å­—ä½“æ”¹æˆäº†æ–¹æ­£åŒ—é­æ¥·ä¹¦</title><link>http://0x3f.org/post/set-blog-webfont-to-fzbeiweikaishu/</link><pubDate>Mon, 14 Aug 2017 16:05:30 +0000</pubDate><author>ä½œè€…</author><guid>http://0x3f.org/post/set-blog-webfont-to-fzbeiweikaishu/</guid><description><![CDATA[<p>æˆ‘æ›¾è¯´è¿‡<a href="/post/best-practices-of-calibre-on-formatting/" rel="">æ–¹æ­£åŒ—é­æ¥·ä¹¦æ˜¯æœ€ä½³çš„é˜…è¯»å­—ä½“</a>ï¼Œä¸è¿‡åæ¥æ„Ÿè§‰é•¿æ—¶é—´é˜…è¯»çš„ä½“éªŒè¿˜æ˜¯æ™®é€šçš„æ¥·ä½“æ›´å¥½ã€‚ä½†è¿™å¹¶ä¸å¦¨ç¢åœ¨Reederã€åšå®¢è¿™ç§çŸ­æ—¶é˜…è¯»åœºåˆçªå‡ºé¡µé¢çš„è®¾è®¡æ„Ÿã€‚</p>
<p>ä»Šå¤©æŠŠåšå®¢ï¼ˆhexoï¼‰çš„webfontæ”¹æˆäº†æ–¹æ­£åŒ—é­æ¥·ä¹¦ï¼Œç”¨font-spiderå‹ç¼©åï¼Œä»13Mç¼©å‡åˆ°1.4Mã€‚æ–¹æ³•æ˜¯è¿™æ ·çš„ï¼š</p>
<p>é¦–å…ˆæŠŠå®Œæ•´çš„å­—ä½“å¤åˆ¶åˆ°ä¸»é¢˜çš„å­—ä½“ç›®å½•ä¸­ï¼ˆthemes/crisp/source/fontsï¼‰ï¼Œæ–‡ä»¶åä¸º<code>FZBeiWeiKaiShu-full.ttf</code>ã€‚</p>
<p>åœ¨CSSä¸­åŠ å…¥webfonté…ç½®ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-css" data-lang="css"><span class="p">@</span><span class="k">font-face</span> <span class="p">{</span>
  	<span class="nt">font-family</span><span class="o">:</span> <span class="s1">&#39;FZBeiWeiKaiShu&#39;</span><span class="o">;</span>
    <span class="nt">src</span><span class="o">:</span> <span class="nt">url</span><span class="o">(</span><span class="s1">&#39;../fonts/FZBeiWeiKaiShu.ttf&#39;</span><span class="o">)</span> <span class="nt">format</span><span class="o">(</span><span class="s1">&#39;truetype&#39;</span><span class="o">),</span>
         <span class="nt">url</span><span class="o">(</span><span class="s1">&#39;../fonts/FZBeiWeiKaiShu-full.ttf&#39;</span><span class="o">)</span> <span class="nt">format</span><span class="o">(</span><span class="s1">&#39;truetype&#39;</span><span class="o">);</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><code>FZBeiWeiKaiShu.ttf</code>æ˜¯å‹ç¼©åçš„å­—ä½“æ–‡ä»¶åï¼Œè¿™æ ·è®¿é—®æ—¶æµè§ˆå™¨ä¼šä¼˜å…ˆä¸‹è½½å‹ç¼©åçš„å­—ä½“ã€‚</p>
<p>ç„¶åæŠŠCSSä¸­ä½¿ç”¨å­—ä½“çš„åœ°æ–¹éƒ½æŒ‡å®šä¸º<code>FZBeiWeiKaiShu</code>ã€‚</p>
<p>åœ¨åšå®¢æ ¹ç›®å½•ä¸‹åˆ›å»ºè„šæœ¬<code>update_fonts.sh</code>ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="cp">#!/bin/sh
</span><span class="cp"></span>
hexo clean
hexo g

find public -name <span class="s2">&#34;*.html&#34;</span> <span class="p">|</span>xargs sed -i <span class="s1">&#39;&#39;</span> <span class="s2">&#34;s#/styles/crisp.css#</span><span class="nv">$HOME</span><span class="s2">/Projects/blog/public/styles/crisp.css#g&#34;</span>
find public -name <span class="s2">&#34;*.html&#34;</span><span class="p">|</span>xargs font-spider

cp -f public/fonts/FZBeiWeiKaiShu.ttf themes/crisp/source/fonts/FZBeiWeiKaiShu.ttf

hexo clean
hexo s -g
</code></pre></td></tr></table>
</div>
</div><p>é™¤éç”¨åˆ°æ–°çš„å­—ç¬¦ï¼Œå¦åˆ™ä¸éœ€è¦ç»å¸¸æ›´æ–°å­—ä½“ã€‚</p>
<p>font-spiderä¼šæç¤ºä¸€å…±ä½¿ç”¨äº†å¤šå°‘ç§å­—ç¬¦ï¼Œæˆ‘è¿™ä¹ˆå¤šå¹´ä¹Ÿåªç”¨åˆ°ä¸‰åƒå¤šç§ï¼ŒçœŸæ˜¯å¤ªæ²¡æ–‡åŒ–äº†ã€‚ğŸ¤¥</p>
]]></description></item><item><title>ä» Octopress è¿ç§»åˆ° Hexo</title><link>http://0x3f.org/post/migrate-octopress-to-hexo/</link><pubDate>Wed, 08 Feb 2017 20:24:16 +0000</pubDate><author>ä½œè€…</author><guid>http://0x3f.org/post/migrate-octopress-to-hexo/</guid><description><![CDATA[<p>å› ä¸ºåŸæ¥çš„ä¸»é¢˜æ²¡æœ‰é’ˆå¯¹ä¸­æ–‡ä¼˜åŒ–ï¼Œæ˜¾ç¤ºæ•ˆæœä¸å¤ªå¥½ï¼Œåœ¨æœç´¢æ–°ä¸»é¢˜çš„æ—¶å€™é¡ºä¾¿äº†è§£äº†ä¸€ä¸‹å…¶å®ƒå‡ ä¸ªé™æ€åšå®¢ç”Ÿæˆå·¥å…·ï¼Œå‘ç°Hexoæ¯”Octopressæœ‰å¾ˆå¤§çš„ä¼˜åŠ¿ï¼Œå°±è¿ç§»äº†è¿‡æ¥ã€‚</p>
<p>Hexoçš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li>é€Ÿåº¦å¿«ï¼šå‡ ç™¾ç¯‡æ–‡ç« åªéœ€è¦å‡ ç§’ï¼Œè€ŒOctopresséœ€è¦å‡ åç§’</li>
<li>æ˜“ç”¨ï¼šé…ç½®ã€éƒ¨ç½²ç®€å•ï¼Œæ–‡ç« è¢«ä¿®æ”¹åä¼šç«‹å³æ›´æ–°æµè§ˆå™¨ä¸­çš„é¢„è§ˆé¡µé¢</li>
<li>è½»é‡ï¼šåŸºäºnode.jsï¼Œç›®å½•ç»“æ„ç®€æ˜</li>
</ul>
<p>è¿ç§»çš„è¿‡ç¨‹ä¸ç®—é¡ºåˆ©ï¼Œå…ˆæ˜¯é‡åˆ°ã€ŒMODULE_NOT_FOUNDã€çš„é—®é¢˜ï¼Œæœåˆ°çš„æ–¹æ³•éƒ½ä¸èµ·ä½œç”¨ï¼ŒåŸå› å¤§æ¦‚æ˜¯å› ä¸ºå¢™çš„é—®é¢˜å¯¼è‡´dtraceæ¨¡å—å®‰è£…å‡ºé”™ï¼Œç†è®ºä¸Šç”¨ä»£ç†å®‰è£…æ˜¯å¯ä»¥è§£å†³çš„ï¼Œç»“æœåœ¨åå¤å®‰è£…çš„è¿‡ç¨‹ä¸­è«åå…¶å¦™åœ°å°±å¥½äº†ã€‚</p>
<p>å†ä¸€ä¸ªé—®é¢˜æ˜¯é€‰ä¸»é¢˜ï¼Œå–œæ¬¢æç®€çš„é£æ ¼ï¼Œä½†æ˜¯æç®€åˆå¤§æ°”çš„ä¸»é¢˜å¾ˆå°‘ï¼Œç›¸å¯¹æœ€å–œæ¬¢çš„æ˜¯<a href="https://github.com/yuche/hexo-theme-kael" target="_blank" rel="noopener noreffer">kael</a>ï¼Œä¸è¿‡ç”Ÿæˆé€Ÿåº¦éå¸¸æ…¢ï¼Œè€Œä¸”ç”Ÿæˆçš„é¡µé¢æœ‰å¤§é‡ä¹±ç ã€‚äºæ˜¯é€€è€Œæ±‚å…¶æ¬¡ï¼Œé€‰æ‹©äº†<a href="https://github.com/guolin/crisp-hexo-theme" target="_blank" rel="noopener noreffer">crisp</a>ã€‚ç„¶è€Œè¿˜æ˜¯æœ‰ä¸æ»¡æ„çš„åœ°æ–¹ï¼Œæ¯”å¦‚è¿‡äºç®€å•ã€æ²¡æœ‰æœç´¢ã€ä¸åŒºåˆ†é¦–é¡µå’Œå½’æ¡£ç­‰ï¼Œè¿˜æœ‰å¾…è‡ªå·±ä¿®æ”¹ã€‚</p>
]]></description></item><item><title>UltraBlog.vim v3.6.1: æ–‡ç« åˆ†ç±»è‡ªåŠ¨è¡¥å…¨</title><link>http://0x3f.org/post/ultrablog-v361-released/</link><pubDate>Sun, 20 Apr 2014 22:50:00 +0000</pubDate><author>ä½œè€…</author><guid>http://0x3f.org/post/ultrablog-v361-released/</guid><description><![CDATA[<p>æ˜¥èŠ‚æœŸé—´æ”¶åˆ°ä¸¤ä¸ªissueï¼Œä¸€ç›´æ‹–åˆ°ä»Šå¤©æ‰æœ‰æ—¶é—´å®Œæˆã€‚</p>
<p>å¢åŠ äº†ä¸€ä¸ªåŠŸèƒ½ï¼Œåœ¨æ–‡ç« ç¼–è¾‘è§†å›¾çš„å…ƒæ•°æ®ä¸­åˆ†ç±»é‚£è¡Œï¼Œä½¿ç”¨çƒ­é”®&lt;C-X&gt;&lt;C-U&gt;è‡ªåŠ¨å®Œæˆæ–‡ç« çš„åˆ†ç±»ã€‚åœ¨é…ç½®æ•°ç»„<strong>ub_blog</strong>ä¸­å¢åŠ é”®å€¼å¯¹â€œcategoriesâ€ï¼Œé»˜è®¤ä½¿ç”¨è¿™ä¸€é¡¹çš„å€¼å®ç°è‡ªåŠ¨å®Œæˆï¼Œå¦‚ä¸‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-vim" data-lang="vim"><span class="k">let</span> <span class="nx">ub_blog</span> <span class="p">=</span> {<span class="s1">&#39;login_name&#39;</span>:<span class="s1">&#39;admin&#39;</span><span class="p">,</span><span class="err">
</span><span class="err"></span>            \<span class="s1">&#39;password&#39;</span>:<span class="s1">&#39;pass2011&#39;</span><span class="p">,</span><span class="err">
</span><span class="err"></span>            \<span class="s1">&#39;url&#39;</span>:<span class="s1">&#39;http://www.sample.com/&#39;</span><span class="p">,</span><span class="err">
</span><span class="err"></span>            \<span class="s1">&#39;xmlrpc_uri&#39;</span>:<span class="s1">&#39;xmlrpc.php&#39;</span><span class="p">,</span><span class="err">
</span><span class="err"></span>            \<span class="s1">&#39;db&#39;</span>:<span class="s1">&#39;$VIM/UltraBlog.db&#39;</span><span class="p">,</span><span class="err">
</span><span class="err"></span>            \<span class="s1">&#39;categories&#39;</span>: <span class="s1">&#39;News|Computer|Image&#39;</span><span class="err">
</span><span class="err"></span>            \}<span class="err">
</span></code></pre></td></tr></table>
</div>
</div><p>å¦‚æœè¿™ä¸€é¡¹ä¸å­˜åœ¨ï¼Œå°†ä»åšå®¢ä¸­æ‹‰å–åˆ†ç±»æ•°æ®ã€‚</p>
<p>è‡ªä»è¿ç§»åˆ°Octopressï¼Œæœ‰ä¸¤å¹´ä¸ç”¨Wordpressäº†ï¼Œæ²¡æƒ³åˆ°å±…ç„¶è¿˜æœ‰äººåœ¨ç”¨<a href="/post/ultrablog-as-an-ultimate-vim-blogging-plugin/" rel="">UltraBlog.vim</a>ã€‚</p>
]]></description></item><item><title>è¿ç§»åˆ° Octopress</title><link>http://0x3f.org/post/migrate-blog-to-octopress/</link><pubDate>Sat, 23 Jun 2012 23:13:00 +0000</pubDate><author>ä½œè€…</author><guid>http://0x3f.org/post/migrate-blog-to-octopress/</guid><description><![CDATA[<h2 id="å…³äºè¿ç§»">å…³äºè¿ç§»</h2>
<p>å‰æ®µæ—¶é—´ï¼Œç”¨äº†äº”å¹´çš„è™šæ‹Ÿä¸»æœºçªç„¶é™åˆ¶äº†PHPå†…å­˜ä¸Šé™ï¼Œå¯¼è‡´Wordpressåªèƒ½å¯ç”¨æœ‰é™çš„å‡ ä¸ªæ’ä»¶ï¼Œæ ¹æœ¬ä¸èƒ½æ»¡è¶³éœ€è¦ã€‚</p>
<p>æ‰€ä»¥æ¯…ç„¶å†³å®šè¿ç§»åˆ°JeckyII+GitHubï¼Œåœ¨æ‘¸ç´¢çš„è¿‡ç¨‹ä¸­å‘ç°octopressæ¯”JeckyIIæ˜“ç”¨ï¼Œäºæ˜¯å¯¼å‡ºæ‰€æœ‰æ–‡ç« ï¼Œå¼€å§‹è¿ç§»ã€‚å› ä¸ºæˆ‘è¿™å‡ å¹´åšå®¢å†™å¾—æ¯”è¾ƒä¹±ï¼Œæ— è®ºæ˜¯å†…å®¹ä¸Šï¼Œè¿˜æ˜¯å‘è¡¨æ–¹å¼ä¸Šï¼Œç»“æœç”¨äº†å‡ ä¸ªå¯¼å‡ºè„šæœ¬ï¼Œæ•ˆæœéƒ½ä¸ç”šç†æƒ³ï¼Œè¿˜æ˜¯æœ‰å¾ˆå¤šåœ°æ–¹éœ€è¦æ‰‹å·¥ä¿®æ”¹ã€‚å…­ç™¾ç¯‡æ–‡ç« ï¼Œæ­£å¥½è¶è¿™ä¸ªæœºä¼šæŒ‘æ‹£ä¸€ä¸‹ï¼Œè¾ƒæ—©çš„æ–‡ç« è´¨é‡ä½çš„æ¯”è¾ƒå¤šã€‚æ–­æ–­ç»­ç»­åœ°è¿ç§»äº†ä¸€äº›ï¼Œå‰©ä¸‹çš„å·¥ä½œé‡è¿˜æ˜¯å¾ˆå¤§çš„ï¼Œç•™è‘—ä»¥åæ…¢æ…¢æ¥å§ã€‚å¦å¤–è¿™æ¬¡æŠŠURLä¹Ÿæ”¹æˆæ°¸ä¹…æ ¼å¼äº†ï¼Œè¿™ä¸€æ¥çœŸçš„ä¼¤ç­‹åŠ¨éª¨äº†ï¼Œè¿æ°¸ä¹…é‡å®šå‘éƒ½æ²¡çš„åšã€‚</p>
<p>è‡³äºFeedè¾“å‡ºï¼Œä»¥å‰è®¢é˜…Feedburnerçƒ§å½•çš„ä¸¤ä¸ªåœ°å€çš„è¯»è€…ä¸å—å½±å“ï¼Œç›´æ¥è®¢é˜…Wordpressè¾“å‡ºçš„åœ°å€çš„å°±ä¸¢äº†ï¼Œè¿™é‡Œå†å…¬å¸ƒä¸€ä¸‹ï¼š</p>
<ul>
<li>æœ¬åšå®¢èšåˆè¾“å‡ºï¼šhttp://feeds.feedburner.com/sinolog</li>
<li>æˆ‘çš„å…¨éƒ¨èµ„è®¯èšåˆï¼šhttp://feeds.feedburner.com/leninlee</li>
</ul>
<h2 id="è¿ç§»é‚£ç‚¹äº‹">è¿ç§»é‚£ç‚¹äº‹</h2>
<h3 id="python-ç‰ˆæœ¬çš„é—®é¢˜">Python ç‰ˆæœ¬çš„é—®é¢˜</h3>
<p>Archlinuxå¾ˆæ¿€è¿›ï¼Œæ—©å·²æŠŠPythonçš„ç¼ºçœç‰ˆæœ¬è¿›åŒ–åˆ°äº†3.xï¼Œoctopressä¼šç”¨åˆ°2.xï¼Œç»“æœåœ¨ç”Ÿæˆå…¨ç«™çš„æ—¶å€™ï¼Œä¼šæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">  File &#34;&lt;string&gt;&#34;, line 1
    import sys; print sys.executable
                        ^
SyntaxError: invalid syntax
</code></pre></td></tr></table>
</div>
</div><p>åœ¨<a href="http://blog.dayanjia.com/2012/04/fix-rubypython-bug-in-arch-linux/" target="_blank" rel="noopener noreffer">è¿™é‡Œ</a>æ‰¾åˆ°è§£å†³æ–¹æ³•ã€‚åœ¨octopressçš„pluginsç›®å½•é‡Œåˆ›å»ºæ–‡ä»¶ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-ruby" data-lang="ruby"><span class="nb">require</span> <span class="s1">&#39;pygments&#39;</span>

<span class="k">if</span> <span class="o">!!</span><span class="no">RUBY_PLATFORM</span><span class="o">[</span><span class="s1">&#39;linux&#39;</span><span class="o">]</span>
    <span class="no">RubyPython</span><span class="o">.</span><span class="n">configure</span> <span class="ss">:python_exe</span> <span class="o">=&gt;</span> <span class="s1">&#39;/usr/bin/python2&#39;</span>
<span class="k">end</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="ä¸è¶³">ä¸è¶³</h3>
<p>ç”¨äº†è¿™æ®µæ—¶é—´octopressï¼Œæ„Ÿè§‰ç¼ºç‚¹ä¹Ÿä¸å°ï¼Œæ¯æ¬¡ä¿®æ”¹åéƒ½è¦é‡æ–°ç”Ÿæˆå…¨ç«™ï¼Œå ç”¨ç³»ç»Ÿèµ„æºä¸å°ï¼Œè€Œä¸”ç†è®ºä¸Šä»¥åä¼šè¶Šæ¥è¶Šæ…¢ã€‚</p>
]]></description></item><item><title>UltraBlog.vim v3.5.0: å†…å»ºæµè§ˆå™¨</title><link>http://0x3f.org/post/ultrablog-v350-released/</link><pubDate>Mon, 30 Apr 2012 00:00:00 +0000</pubDate><author>ä½œè€…</author><guid>http://0x3f.org/post/ultrablog-v350-released/</guid><description><![CDATA[<p>æ­¤å‰é¢„è§ˆæ–‡ç« æ˜¯é€šè¿‡è°ƒç”¨ç³»ç»Ÿé»˜è®¤çš„ç½‘ç»œæµè§ˆå™¨å®ç°çš„ï¼Œç¼ºç‚¹æ˜¯è¿™äº›åŠŸèƒ½å®Œå¤‡çš„æµè§ˆå™¨å¯åŠ¨é€Ÿåº¦ä¸ç”šç†æƒ³ï¼Œå°¤å…¶æ˜¯ç«ç‹ï¼Œè°ç”¨è°çŸ¥é“ã€‚</p>
<p>å‰ä¸¤å¤©çœ‹äº†TuxRadarçš„ä¸€ä¸ªPodcastï¼Œå‡ åˆ†é’Ÿå†…å°±å¯ä»¥ç”¨pywebkitgtkæ‹¼è£…å‡ºä¸€ä¸ªäº”è„ä¿±å…¨çš„ç½‘ç»œæµè§ˆå™¨ï¼Œpywebkitgtkè¿™ä¸ªä¸œè¥¿å®åœ¨æ˜¯éå¸¸çš„å¥½ç”¨ã€‚ä¸è¿‡æˆ‘å®æµ‹åå‘ç°è¿™ä¸œè¥¿åŠ è½½é¡µé¢çš„é€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œè€Œä¸”è²Œä¼¼æ˜¯å•çº¿ç¨‹çš„ï¼Œå› ä¸ºå›¾ç‰‡éƒ½æ˜¯æ”¾åœ¨æœ€åæ‰åŠ è½½ï¼Œä¸çŸ¥é“æ˜¯è¿™ä¸ªç»‘å®šæœ¬èº«çš„é—®é¢˜ï¼Œè¿˜æ˜¯æœ‰APIå¯ä»¥å®ç°çš„ã€‚äºæ˜¯çªç„¶æƒ³åˆ°æ‹¿è¿™ä¸ªä¸œè¥¿å®ç°ä¸€ä¸ªç®€å•çš„æµè§ˆå™¨ï¼Œå¾ˆé€‚åˆåœ¨UBé‡Œé¢„è§ˆæ–‡ç« ã€‚</p>
<p>å¢åŠ äº†ä¸€ä¸ªé€‰é¡¹<strong>â€œub_use_ubviewerâ€</strong>ï¼Œé»˜è®¤å€¼æ˜¯1ï¼Œå³é»˜è®¤ä½¿ç”¨è¿™ä¸ªå†…å»ºçš„æµè§ˆå™¨é¢„è§ˆæ–‡ç« ã€‚å½“è¿™ä¸ªé€‰é¡¹çš„å€¼è¢«è®¾ä¸º0æ—¶ï¼Œä»ç„¶ä½¿ç”¨ç³»ç»Ÿçš„é»˜è®¤æµè§ˆå™¨ï¼Œå¹¶ä¸”åœ¨Vimå¯åŠ¨æ—¶ä¸ä¼šåŠ è½½å†…å»ºçš„æµè§ˆå™¨ã€‚è¿™æ ·åšä¸€æ˜¯ä¸ºäº†å¤šä¸€ç§é€‰æ‹©ï¼Œå†ä¸€ä¸ªä¹Ÿå¯ä»¥é¿å¼€çƒ¦äººçš„GTKè­¦å‘Šï¼š</p>
<blockquote>
<p>** (gvim:13629): WARNING **: Trying to register gtype 'GMountMountFlags' as enum when in fact it is of type 'GFlags'</p>
<p>** (gvim:13629): WARNING **: Trying to register gtype 'GDriveStartFlags' as enum when in fact it is of type 'GFlags'</p>
<p>** (gvim:13629): WARNING **: Trying to register gtype 'GSocketMsgFlags' as enum when in fact it is of type 'GFlags'</p>
</blockquote>
<p>è¿™äº›è­¦å‘Šæ˜¯GTKæˆ–å…¶å®ƒä¸€äº›ç¨‹åºåº“çš„Bugé€ æˆçš„ï¼Œè™½ç„¶åªåœ¨è™šæ‹Ÿç»ˆç«¯ä¸­å¯åŠ¨Vimæ—¶ä¼šæ˜¾ç¤ºå¹¶ä¸”ä¸å½±å“ä½¿ç”¨ï¼Œä½†æ€»ä¼šæœ‰è­¦å‘Šææƒ§ç—‡æ‚£è€…ä¼šè§‰å¾—è¿™ç§ä¸œè¥¿å¾ˆé—¹å¿ƒã€‚å¦‚æœè¿™æ ·ï¼Œå°±æŠŠè¿™ä¸ªé€‰é¡¹çš„å€¼è®¾æˆ0ï¼Œç”¨å›å·¨å‹æµè§ˆå™¨å¥½äº†ã€‚</p>
<p>æœ¬æ¬¡æ›´æ–°çš„å…¨éƒ¨å†…å®¹å¦‚ä¸‹ï¼š</p>
<ul>
<li>Feature: Add a tiny web browser to do previewing, which starts much faster than full-functional browsers like firefox and chromium. The later ones are still supported. The matter that whether or not to use the new previewer is controlled by a new option <strong>ub_use_ubviewer</strong>.</li>
<li>Bugfix: Issue 7: Keywords highlighting is disabled in item lists, even if searches are made manually.</li>
</ul>
<p>å…³äºUBçš„è¯¦ç»†ä¿¡æ¯åœ¨<a href="http://0x3f.org/?p=1894">è¿™é‡Œ</a>ã€‚</p>
<p>è¿™æ˜¯é‚£ä¸ªPodcastï¼š</p>
<p><embed src='http://player.youku.com/player.php/sid/XMzg5MTc1OTI4/v.swf' quality='high' width='480' height='400' align='middle' allowScriptAccess='sameDomain' type='application/x-shockwave-flash'></embed></p>
<p>Posted via <a href="http://0x3f.org/?p=1894">UltraBlog.vim</a>.</p>
]]></description></item><item><title>UltraBlog.vim v3.4.0: æ­£åˆ™è¡¨è¾¾å¼ã€æ‰¹é‡æ›¿æ¢å’Œè°ƒè¯•æ¨¡å¼</title><link>http://0x3f.org/post/ultrablog-v340-released/</link><pubDate>Sun, 29 Apr 2012 00:00:00 +0000</pubDate><author>ä½œè€…</author><guid>http://0x3f.org/post/ultrablog-v340-released/</guid><description><![CDATA[<p>è¿™æ¬¡çš„æ›´æ–°ä¸»è¦å¼•å…¥äº†æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼çš„å…¨æ–‡æ£€ç´¢ã€æ‰¹é‡æ›¿æ¢å’Œè°ƒè¯•æ¨¡å¼ã€‚</p>
<h2>æ­£åˆ™è¡¨è¾¾å¼</h2>
<p>æˆ‘ä¸€ç›´è§‰å¾—åŸæ¥çš„å…¨æ–‡æ£€ç´¢æœ‰ä¸€ä¸ªé—æ†¾ï¼Œè™½ç„¶å¯ä»¥é€šè¿‡å¤šä¸ªå…³é”®è¯å®ç°è¾ƒä¸ºç²¾ç¡®çš„æŸ¥è¯¢ï¼Œä½†è¿˜æ˜¯ä¸å¦‚æ­£åˆ™è¡¨è¾¾å¼çµæ´»å’Œç²¾ç¡®ã€‚</p>
<p>è¿™æ˜¯ä¸ªè“„è°‹å·²ä¹…çš„éœ€æ±‚ï¼Œä½†ç›´åˆ°çœŸæ­£åšèµ·æ¥ï¼Œæ‰å‘ç°å¾ˆå¤šæœ‰æ„æ€çš„ä¸œè¥¿ã€‚è™½ç„¶SQLite3æä¾›æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼æŸ¥è¯¢çš„<strong>â€œREGEXâ€</strong>å…³é”®è¯ï¼Œä½†å¹¶æ²¡æœ‰å®é™…å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œè€Œæ˜¯éœ€è¦å†™ç¨‹åºå®ç°å¹¶åœ¨æ•°æ®åº“æ¥å£ä¸­æ³¨å†Œè¿™ä¸ªå‡½æ•°ï¼š</p>
```python
import sqlite3

conn = sqlite3.connect('/tmp/your-database-file.db')

# ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ç»™å®šå†…å®¹çš„å‡½æ•°ï¼Œè¿”å›å¸ƒå°”ç±»å‹
def regexp_search(expr, item):
    """Check if the item has a sub-string which matches the expr"""
    reg = re.compile(expr)
    return reg.search(item) is not None

# åœ¨æ•°æ®åº“ä¸­æ³¨å†Œè¿™ä¸ªå‡½æ•°
conn.create_function('REGEXP', 2, regexp_search)

cur = conn.execute('select id,title from post where content REGEXP ?', '\babc\b')
row = cur.fetchone()
print row

conn.close()
```

<p>åœ¨SQLAlchemyä¸­å…·ä½“çš„å®ç°æ–¹å¼æ˜¯ï¼š</p>
```python
# æ³¨å†Œå‡½æ•°
dbe = sqlalchemy.create_engine("sqlite:///tmp/your-database-file.db")
conn = dbe.connect()
conn.connection.create_function('REGEXP', 2, regexp_search)

# åœ¨SQL Expression Languageä¸­åˆ›å»ºæŸ¥è¯¢æ¡ä»¶
tbl = Post.__table__
cond_1 = tbl.c.title.op('regexp')(r'\babc\b')
cond_2 = tbl.c.content.op('regexp')(r'\babc\b')
```

<p>å’Œæ™®é€šçš„å…¨æ–‡æ£€ç´¢ä¸€æ ·ï¼Œæ­£åˆ™è¡¨è¾¾å¼çš„å…¨æ–‡æ£€ç´¢ä¹Ÿæ”¯æŒä½¿ç”¨å¤šä¸ªè¡¨è¾¾å¼ä½œä¸ºæŸ¥è¯¢æ¡ä»¶ï¼Œå¤šä¸ªæ¡ä»¶ä¹‹é—´æ˜¯ä¸çš„å…³ç³»ã€‚ç°åœ¨å¯ä»¥è¿™æ ·æŸ¥è¯¢æ‰€æœ‰åŒ…å«â€œUltraBlog.vimâ€ä½†ä¸æŠŠæ¨å¹¿ä»£ç ç®—åœ¨å†…çš„æ–‡ç« äº†ï¼š</p>
```vim
:UBRegexSearch [^\[]UltraBlog\.vim[^\]]
```

<h2>æ‰¹é‡æ›¿æ¢</h2>
<p>åœ¨æˆ‘æ¢è¿‡æ–°åŸŸååï¼Œæˆ‘å°±è§‰å¾—è¿™ä¸ªåŠŸèƒ½å¾ˆæœ‰å¿…è¦äº†ï¼š</p>
```vim
:UBReplace https://sinolog.it https://0x3f.org
```

<p>åŒ…å«ç¬¬ä¸€ä¸ªå‚æ•°å†…å®¹å¹¶è¢«æ›¿æ¢çš„æ–‡ç« æ•°ç›®ä¼šæ˜¾ç¤ºåœ¨Vimçš„å‘½ä»¤è¾“å‡ºç¼“å†²åŒºä¸­ã€‚</p>
<p>æœ‰äº†å‰é¢å®ç°å…¨æ–‡æ£€ç´¢æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼çš„å°è¯•ï¼Œå†å®ç°æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼çš„æ‰¹é‡æ›¿æ¢å°±å®¹æ˜“å¤šäº†ï¼š</p>
```python
# è½¬æ¢å­—ç¬¦ä¸²æˆrawæ ¼å¼çš„å‡½æ•°
def raw(text):
    """Returns a raw string representation of text"""
    escape_dict={'\a':r'\a', '\b':r'\b', '\c':r'\c', '\f':r'\f', '\n':r'\n',
               '\r':r'\r', '\t':r'\t', '\v':r'\v', '\'':r'\'', '\"':r'\"',
               '\0':r'\0', '\1':r'\1', '\2':r'\2', '\3':r'\3', '\4':r'\4',
               '\5':r'\5', '\6':r'\6', '\7':r'\7', '\8':r'\8', '\9':r'\9'}
    return "".join([escape_dict.get(char,char) for char in text])

# ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ›¿æ¢å­—ç¬¦ä¸²çš„å‡½æ•°
def regex_replace(string, expr, repl):
    """Do substitutions on the string for repls matching the expr"""
    r = re.compile(raw(expr))
    return r.sub(repl, string)

# åœ¨æ•°æ®åº“ä¸­æ³¨å†Œè¿™ä¸ªå‡½æ•°
conn.connection.create_function('regex_replace', 3, regex_replace)

# åœ¨SQLè¯­å¥ä¸­ä½¿ç”¨è¿™ä¸ªå‡½æ•°
sql_replace = "update post set title=regex_replace(title,:needle,:replacement),content=regex_replace(content,:needle,:replacement)"
conn.execute(sql_replace, {'needle':r'\babc\b', 'replacement':'xyz'})
```

<p>æœ€ç»ˆï¼Œè¿™ä¸ªå‘½ä»¤æ˜¯è¿™æ ·çš„ï¼š</p>
```vim
:UBRegexReplace \babc\b xyz
```

<p>å®ç°æ‰¹é‡æ›¿æ¢å®¹æ˜“ï¼Œä½†è¦è§£å†³ç”±æ­¤å¼•å‡ºçš„ä¸€ä¸ªé—®é¢˜å°±è´¹å‘¨æŠ˜äº†ï¼Œå°±æ˜¯æ‰¹é‡æ›¿æ¢è¿‡æ–‡ç« å†…å®¹åæ€æ ·å’Œåšå®¢åŒæ­¥çš„é—®é¢˜ï¼Œç°åœ¨æˆ‘è¿˜æ²¡æœ‰å¥½çš„æƒ³æ³•ï¼Œç•™ä½œä»¥åå®ç°ã€‚</p>
<h2>è°ƒè¯•æ¨¡å¼</h2>
<p>å¼€å¯è°ƒè¯•æ¨¡å¼å¯ä»¥å°†æ‰€æœ‰è¢«æ‰§è¡Œçš„SQLè¯­å¥æ˜¾ç¤ºåœ¨Vimçš„å‘½ä»¤è¾“å‡ºç¼“å†²åŒºä¸­ï¼Œåœ¨æœ‰å¼‚å¸¸æŠ›å‡ºæ—¶ï¼Œä¹Ÿå¯ä»¥æ˜¾ç¤ºå †æ ˆä¿¡æ¯ã€‚ç”±äºå¼€å¯è°ƒè¯•æ¨¡å¼æ—¢ä¸éœ€è¦ä¿®æ”¹ä»£ç ï¼Œä¹Ÿä¸éœ€è¦é‡å¯Vimï¼Œè¿™å¯ä»¥æå¤§åœ°æ–¹ä¾¿å¼€å‘æ—¶å¯¹UltraBlog.vimçš„è°ƒè¯•ï¼Œä¹Ÿèƒ½ä½¿ç”¨æˆ·æäº¤é—®é¢˜æ—¶èƒ½åé¦ˆæ›´å¤šæ›´è¯¦ç»†çš„ä¿¡æ¯ã€‚</p>
<p>ä»¥ä¸‹ä¸‰ä¸ªå‘½ä»¤ç”¨äºæ§åˆ¶è°ƒè¯•æ¨¡å¼çš„å¼€å¯çŠ¶æ€ï¼š</p>
<ul>
<li><code>:UBEnableDebug</code></li>
<li><code>:UBDisableDebug</code></li>
<li><code>:UBToggleDebug</code></li>
</ul>
<h2>å…¶å®ƒå†…å®¹</h2>
<p>æœ¬æ¬¡æ›´æ–°çš„å†…å®¹å¦‚ä¸‹ï¼š</p>
<ul>
<li>Feature: Add the command <strong>:UBRegexSearch</strong>, doing full-text searches with regular expressions !</li>
<li>Feature: Add the command <strong>:UBReplace</strong>, doing full-text substitutions.</li>
<li>Feature: Add the command <strong>:UBRegexReplace</strong>, doing full-text substitutions with regular expressions.</li>
<li>Feature: Add commands <strong>:UBEnableDebug</strong>, <strong>:UBDisableDebug</strong>, <strong>:UBToggleDebug</strong> and an option <strong>ub_debug</strong>. In debug mode, SQL statements and stack traces of exceptions will be displayed.</li>
<li>Change:  Undo keywords highlighting after executing <strong>:UBList</strong>.</li>
<li>Bugfix:  Exceptions raised when opening the current item under cursor in item lists if the option <strong>ub_hotkey_save_current_item</strong> has not been set. Now this options comes with a default value.</li>
</ul>
<p>å…³äºUBçš„è¯¦ç»†ä¿¡æ¯åœ¨<a href="http://0x3f.org/?p=1894">è¿™é‡Œ</a>ã€‚</p>
<p>Posted via <a href="http://0x3f.org/?p=1894">UltraBlog.vim</a>.</p>
]]></description></item><item><title>UltraBlog.vim v3.3.0ï¼šI18Nã€è¶…æ—¶æ—¶é—´å’Œå…¶å®ƒ</title><link>http://0x3f.org/post/ultrablog-v330-released/</link><pubDate>Sun, 15 Apr 2012 00:00:00 +0000</pubDate><author>ä½œè€…</author><guid>http://0x3f.org/post/ultrablog-v330-released/</guid><description><![CDATA[<p>UBä¸€å²äº†ï¼Œè¿™ç®—æ˜¯ä¸ªå‘¨å¹´çºªå¿µç‰ˆå§ã€‚</p>

<p>åœ¨è¿™ä¸€å¹´é‡Œï¼Œå› ä¸ºå„ç§åŸå› ï¼Œåšå®¢å†™å¾—æ²¡æœ‰ä»¥å‰å¤šäº†ï¼Œä½†æ¯ç¯‡éƒ½æ˜¯ç”¨è¿™ä¸ªæ’ä»¶å†™çš„ï¼Œæˆ‘è§‰å¾—å¾ˆå¥½ç”¨ã€‚æ–­æ–­ç»­ç»­åœ°åšäº†ä¸€äº›ä¿®æ”¹ï¼Œå› ä¸ºä¸€åˆ‡éƒ½æ˜¯ä¸€ä¸ªäººåœ¨åšï¼Œæ‰€ä»¥å¤§çš„å˜åŒ–ä¸å¤šã€‚è¿™æ¬¡è¿™ä¸ªç‰ˆæœ¬é‡Œæœ‰äº›æ”¹åŠ¨è¿˜æ˜¯è¦æ„Ÿè°¢<a href="http://ihacklog.com/">è’é‡æ— ç¯</a>ç«¥é‹ï¼Œä»–çš„<a href="https://github.com/xbot/UltraBlog.vim/issues/3">å»ºè®®</a>å¾ˆå¤§ç¨‹åº¦ä¸Šå‚¬ç”Ÿäº†è¿™ä¸ªæ–°ç‰ˆæœ¬ï¼šæ¯”å¦‚åŠ å…¥ä¿å­˜å‘½ä»¤çš„çƒ­é”®æ˜ å°„é€‰é¡¹ï¼Œè¿™æ ·å¯ä»¥ä½¿ç”¨ä¿å­˜æ™®é€šæ–‡ä»¶çš„çƒ­é”®ä¿å­˜UBä¸­çš„å†…å®¹ï¼Œæˆ‘è‡ªå·±ä»¥å‰ä¹Ÿç»å¸¸ä¹ æƒ¯æ€§åœ°ç”¨é”™çƒ­é”®ï¼›è¿˜æœ‰socketè¶…æ—¶æ—¶é—´çš„é€‰é¡¹ï¼Œæœ€è¿‘æˆ‘è¿™é‡Œä¹Ÿç»å¸¸æ€§åœ°åœ¨UBæ“ä½œåšå®¢æ—¶æŠ¥è¶…æ—¶çš„å¼‚å¸¸ï¼Œè’ç«¥é‹å…³äºè‡ªå®šä¹‰socketè¶…æ—¶æ—¶é—´çš„å»ºè®®ä¸€è¯­æƒŠé†’äº†æ¢¦ä¸­äººã€‚</p>

<p>æ­¤å¤–ï¼Œä¼¼ä¹ä¸è¿‘æœŸVimçš„ä¸€æ¬¡å‡çº§<a href="http://comments.gmane.org/gmane.editors.vim.devel/34092">æœ‰å…³</a>ï¼Œåœ¨Vimä¸­è°ƒç”¨Pythonæ¥å£æ‰“å°ä»»ä½•å†…å®¹åˆ°æ ‡å‡†IOéƒ½ä¼šå¯¼è‡´Vimå´©æºƒï¼Œæ‰€ä»¥è¿™æ¬¡æŠŠæ‰€æœ‰çš„è¾“å‡ºéƒ½æ”¹æˆäº†è°ƒç”¨Vimçš„è¾“å‡ºå‘½ä»¤æ¥åšã€‚</p>

<p>æœ¬æ¬¡ä¿®æ”¹çš„å†…å®¹ä¸­ï¼Œè¿˜æœ‰ä¸€é¡¹æ¯”è¾ƒé‡è¦çš„å†…å®¹å°±æ˜¯å®ç°äº†å›½é™…åŒ–ï¼Œç›®å‰åªæä¾›è‹±æ–‡å’Œç®€ä½“ä¸­æ–‡ä¸¤ç§è¯­è¨€ï¼Œç”±äºVimballä¸èƒ½å¤„ç†äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ‰€ä»¥ä»æ­¤ä»¥åUBæ”¹ç”¨zipæ ¼å¼å‹ç¼©åŒ…æ‰“åŒ…ã€‚</p>

<p>ä»¥ä¸‹æ˜¯æœ¬æ¬¡æ›´æ–°çš„è¯¦ç»†å†…å®¹ï¼š</p>

<ul>
<li>Feature: Add i18n support !</li>
<li>Feature: Add a new option <strong>ub_hotkey_save_current_item</strong>, users can define their own hotkey for <strong>:UBSave</strong>.</li>
<li>Feature: Add a new option <strong>ub_socket_timeout</strong>, users can customize the timeout period in seconds, useful for slow networks.</li>
<li>Bugfix:  Exception raised when one event is processed by more than one event handlers.</li>
<li>Change:  Echoing messages now uses the command :echoerr instead of python's sys.stderr, because Vim crashes on this due to an upgrade recently.</li>
<li>Change:  Change commands <strong>:UBSave</strong>, <strong>:UBSend</strong>, <strong>:UBUpload</strong>, <strong>:UBConv</strong>, <strong>:UBPreview</strong> to be available only in their effective views.</li>
<li>Change:  Lists are set nowrapped.</li>
<li>Bugfix:  Stop complaining '<strong>_pop from empty list_</strong>' while doing almost everything.</li>
</ul>

<p>å…³äºUBçš„è¯¦ç»†ä¿¡æ¯åœ¨<a href="http://0x3f.org/?p=1894">è¿™é‡Œ</a>ã€‚</p>

<p>Posted via <a href="http://0x3f.org/?p=1894">UltraBlog.vim</a>.</p>
]]></description></item><item><title>å¯ç”¨æ–°åŸŸå0x3f.org</title><link>http://0x3f.org/post/enable-the-new-domain-name-0x3f-org/</link><pubDate>Mon, 09 Jan 2012 00:00:00 +0000</pubDate><author>ä½œè€…</author><guid>http://0x3f.org/post/enable-the-new-domain-name-0x3f-org/</guid><description><![CDATA[<p>å…ƒæ—¦å‡æœŸç¬¬ä¸‰å¤©ï¼Œè¿˜æ˜¯æŠŠåŸŸåç»™æ¢äº†ã€‚</p>

<p>åŸå› ä¸»è¦æ˜¯.itå¤ªè´µï¼Œå¹´è´¹åå‡ åˆ€ï¼Œè€Œ.orgåªæœ‰å®ƒçš„ä¸€åŠã€‚å¦å¤–ï¼ŒåŸæ¥çš„sinolog.itæœ‰ç‚¹å„¿é•¿ï¼Œä¹Ÿæ˜¾è€æ°”ï¼Œæƒ³æ¢ä¸ªæ›´ä¸ªæ€§ã€æ›´çŸ­çš„ã€‚</p>

<p>å¯æƒœä¸­æ„çš„0xffæœ‰ä¸»äº†ï¼Œåªå¥½é€€è€Œæ±‚0x3fã€‚0x3fåœ¨ASCIIé‡Œé¢ä»£è¡¨é—®å·ï¼Œè±¡å¾â€œ<strong>ä¿æŒå¥½å¥‡å¿ƒ</strong>â€ã€‚</p>

<p>æŒ‰ç…§<a href="http://0x3f.org/?p=1356">ä¸Šæ¬¡</a>çš„<a href="http://0x3f.org/?p=1359">ç»éªŒ</a>ï¼Œå¯¹è‘—æ•°æ®åº“ä¸€é€šæ”¹ï¼ŒåŠ ä¸Šè¿™ä¸¤å¹´å››å¤„æ²¾èŠ±æƒ¹è‰ï¼Œå¾ˆå¤šç½‘ç«™ä¸Šçš„ç›¸å…³ä¿¡æ¯éƒ½å¾—è·Ÿè‘—æ”¹ï¼Œé•¿æ­¤ä»¥å¾€ï¼Œä»¥åè¿åŸŸåéƒ½æ¢ä¸èµ·äº†ã€‚</p>

<p>å¥½åœ¨RSSè®¢é˜…æ—©å·²ç»æ¢æˆäº†FeedBurnerçƒ§å½•ï¼Œåªæ˜¯å¯¹äºç›´æ¥ç”¨åŸåŸŸåè®¢é˜…çš„éœ€è¦æ”¹ä¸€ä¸‹è®¢é˜…åœ°å€äº†ã€‚</p>

<p>ç”¨äº†å‡ å¹´å›½å®¶åŸŸåï¼Œç°åœ¨ä¹Ÿç”¨ä¸Šå›½é™…åŸŸåäº†â€¦â€¦</p>

<p>Posted via <a href="http://0x3f.org/?p=1894">UltraBlog.vim</a>.</p>
]]></description></item></channel></rss>