<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>计算机 on 晴耕雨讀</title><link>http://0x3f.org/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA/</link><description>Recent content in 计算机 on 晴耕雨讀</description><generator>Hugo</generator><language>zh-cn</language><copyright>© 2007-2024 淘气</copyright><lastBuildDate>Sun, 26 Oct 2014 10:06:00 +0000</lastBuildDate><atom:link href="http://0x3f.org/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA/index.xml" rel="self" type="application/rss+xml"/><item><title>读完《黑客与画家》</title><link>http://0x3f.org/posts/after-reading-hackers-and-painters/</link><pubDate>Sun, 26 Oct 2014 10:06:00 +0000</pubDate><guid>http://0x3f.org/posts/after-reading-hackers-and-painters/</guid><description>&lt;p>&lt;img src="http://pic.yupoo.com/leninlee/E9VYTLb7/medish.jpg" alt="">&lt;/p>
&lt;p>身兼技术牛人和创业成功者两个身份，自然有资格指点江山，有些观点很自负，有些观点对人有启发。作者很推崇Lisp，很不屑Java。&lt;/p></description></item><item><title>读完《MongoDB权威指南》第二版</title><link>http://0x3f.org/posts/after-reading-mongodb-the-definitive-guide/</link><pubDate>Sun, 26 Oct 2014 10:01:00 +0000</pubDate><guid>http://0x3f.org/posts/after-reading-mongodb-the-definitive-guide/</guid><description>&lt;p>&lt;img src="http://pic.yupoo.com/leninlee/E9VWUjut/medish.jpg" alt="">&lt;/p>
&lt;p>第二版比第一版补充了很多内容，介绍得很详细，是学习mongodb的好书。&lt;/p>
&lt;p>但是翻译版有很多印刷错误，个别译句也有问题。&lt;/p></description></item><item><title>读完《The C Programming Language》</title><link>http://0x3f.org/posts/after-reading-the-c-programming-language/</link><pubDate>Sun, 09 Mar 2014 22:47:00 +0000</pubDate><guid>http://0x3f.org/posts/after-reading-the-c-programming-language/</guid><description>&lt;p>&lt;img src="http://pic.yupoo.com/leninlee/DASqD5IQ/medish.jpg" alt="">&lt;/p>
&lt;p>谭书可能因为面向学生而显得啰嗦，这本书比谭书精炼。&lt;/p></description></item><item><title>在Archlinux下使用thinkfan控制Thinkpad x220的风扇转速</title><link>http://0x3f.org/posts/how-to-control-fan-speed-with-thinkfan/</link><pubDate>Sat, 14 Apr 2012 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/how-to-control-fan-speed-with-thinkfan/</guid><description>&lt;p>Archlinux目前对Thinkpad风扇的自动控制效果并不好，气温上升后很容易出现一直在三千多转一直跑的问题。thinkfan是目前用的比较多的自动控制风扇转速的程序，但Google到的配置thinkfan的文章大多语焉不详，可能是跟具体的发行版有关，因为貌似有些发行版中安装了thinkfan后会自动生成缺省的配置文件，但在目前的AUR中的包被安装后却没有生成任何配置文件。&lt;/p>

&lt;p>下面是我在Archlinux下配置的步骤，实际效果很好，现在只要不看视频、不编译程序、不启动Chromium，一般是两千九百转的速度，安静多了。&lt;/p>

&lt;h2>lm_sensors&lt;/h2>

&lt;p>安装lm_sensors并执行命令初始化：&lt;/p>

```bash
# 一路回车
sudo sensors-detect
```

&lt;p>将sensors加入rc.conf中DAEMONS中，开机启动。&lt;/p>

&lt;p>启动sensors服务：&lt;/p>

```bash
sudo rc.d start sensors
```

&lt;h2>thinkpad_acpi&lt;/h2>

&lt;p>修改文件“&lt;strong>/etc/modprobe.d/thinkpad_acpi.conf&lt;/strong>”：&lt;/p>

```
options thinkpad_acpi fan_control=1
```

&lt;p>我这里虽没有把thinkpad_acpi加到rc.conf的MODULES中，但lsmod也是可以看到它的，说明还是自动启用了。要使上面这项配置生效，必须重启电脑，我这里重启thinkpad_acpi模块时报错说该模块正在被使用。&lt;/p>

&lt;h2>thinkfan&lt;/h2>

&lt;p>安装thinkfan并修改文件“&lt;strong>/etc/default/thinkfan&lt;/strong>”：&lt;/p>

```
START=yes
```

&lt;p>修改文件“&lt;strong>/etc/thinkfan.conf&lt;/strong>”：&lt;/p>

```
sensor /sys/class/hwmon/hwmon0/temp1_input

(0, 0, 55)
(1, 48, 60)
(2, 50, 61)
(3, 52, 63)
(4, 56, 65)
(5, 59, 66)
(7, 63, 32767)
```

&lt;p>将thinkfan加入rc.conf的DAEMONS中，开机自动启动。&lt;/p>

&lt;p>启动thinkfan：&lt;/p>

```bash
sudo thinkfan
```

&lt;h2>查看状态&lt;/h2>

```bash
# 看CPU温度和风扇转速
sensors

# 看风扇详细信息
cat /proc/acpi/ibm/fan
```

&lt;p>Posted via &lt;a href="http://0x3f.org/posts/ultrablog-as-an-ultimate-vim-blogging-plugin/">UltraBlog.vim&lt;/a>.&lt;/p></description></item><item><title>NGINX: 405 Not Allowed</title><link>http://0x3f.org/posts/nginx-405-not-allowed/</link><pubDate>Sun, 19 Feb 2012 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/nginx-405-not-allowed/</guid><description>&lt;p>NGINX不允许向静态文件提交POST方式的请求，否则报405错误。测试方法为，使用curl向服务器上的静态文件提交POST请求：&lt;/p>

```bash
curl -d 1=1 http://localhost/version.txt
```

得到以下结果：

```html
&lt;html>
&lt;head>&lt;title>405 Not Allowed&lt;/title>&lt;/head>
&lt;body bgcolor="white">
&lt;center>&lt;h1>405 Not Allowed&lt;/h1>&lt;/center>
&lt;hr>&lt;center>nginx/1.0.11&lt;/center>
&lt;/body>
&lt;/html>
```

&lt;p>网上传抄的添加以下配置的解决办法不可用：&lt;/p>

```nginx
error_page 405 =200 @405;
location @405
{
 root /srv/http;
}
```

&lt;p>一种不完美但可用的方法为：&lt;/p>

```nginx
upstream static_backend {
 server localhost:80;
}

server {
 listen 80;

 # ...

 error_page 405 =200 @405;
 location @405 {
 root /srv/http;
 proxy_method GET;
 proxy_pass http://static_backend;
 }
}
```

&lt;p>即转换静态文件接收的POST请求到GET方式。&lt;/p>

&lt;p>Posted via &lt;a href="http://0x3f.org/posts/ultrablog-as-an-ultimate-vim-blogging-plugin/">UltraBlog.vim&lt;/a>.&lt;/p></description></item><item><title>登入XFCE后自动关闭蓝牙的方法</title><link>http://0x3f.org/posts/how-to-disable-bluetooth-after-login-to-xfce/</link><pubDate>Sat, 18 Feb 2012 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/how-to-disable-bluetooth-after-login-to-xfce/</guid><description>&lt;p>Blueman不能记忆蓝牙的关闭状态，每次登入桌面都会自动打开蓝牙，既费电又不安全。&lt;/p>

&lt;p>一种方法是禁止bluetooth服务自动启动，缺点是使用蓝牙时不方便，还要手工启动bluetooth服务。&lt;/p>

&lt;p>另一种方法是登入桌面后自动关闭蓝牙，即使用如下命令：&lt;/p>

```bash
sudo rfkill block bluetooth
```

&lt;p>但XFCE不能定制自动启动程序的顺序，所以可以写下面这么个脚本，然后添加到自动启动程序列表中：&lt;/p>

```bash
#!/bin/bash

blueman-applet &amp;
sleep 5
sudo rfkill block bluetooth
```

&lt;p>当然，还要取消自动启动程序列表中原来的Blueman。&lt;/p>

&lt;p>Posted via &lt;a href="http://0x3f.org/posts/ultrablog-as-an-ultimate-vim-blogging-plugin/">UltraBlog.vim&lt;/a>.&lt;/p></description></item><item><title>MatchTag.vim: 高亮配对的HTML标签</title><link>http://0x3f.org/posts/highlighting-paired-html-tags-using-matchtag-vim/</link><pubDate>Wed, 23 Nov 2011 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/highlighting-paired-html-tags-using-matchtag-vim/</guid><description>&lt;p>两年前我曾在&lt;a href="http://vim.1045645.n5.nabble.com/How-can-Vim-highlight-the-matching-tag-when-I-put-the-cursor-on-the-other-one-in-a-pair-of-tags-td1177554.html">Vim邮件列表&lt;/a>里问怎样高亮配对的HTML标签，但没能解决。今天意外收到一封邮件，Linqq童鞋在&lt;a href="http://stackoverflow.com/questions/8168320/can-vim-highlight-matching-html-tags-like-notepad">StackOverflow&lt;/a>上问了同样的问题，有人就写了这个&lt;a href="http://www.vim.org/scripts/script.php?script_id=3818">插件&lt;/a>。&lt;/p>

&lt;p>&lt;a href="https://picasaweb.google.com/lh/photo/wGB584-nLWrQRHCQ7qgADdMTjNZETYmyPJy0liipFm0?feat=embedwebsite">&lt;img src="https://lh3.googleusercontent.com/-ojoHK5ST944/Ts0QmwHOCXI/AAAAAAAAB1Q/ye0ko4Ob-gc/s800/2011-11-23.22%25253A40%25253A58.%2525E6%252593%2525B7%2525E5%25258F%252596%2525E9%252581%2525B8%2525E5%25258F%252596%2525E5%25258D%252580%2525E5%25259F%25259F.01.png" height="103" width="268" />&lt;/a>&lt;/p>

&lt;p>Posted via &lt;a href="http://0x3f.org/posts/ultrablog-as-an-ultimate-vim-blogging-plugin/">UltraBlog.vim&lt;/a>.&lt;/p></description></item><item><title>Double Commander: 免费、跨平台的Total Commander</title><link>http://0x3f.org/posts/double-commander/</link><pubDate>Wed, 31 Aug 2011 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/double-commander/</guid><description>&lt;p>由于Total Commander很贵，在Windows下又是必不可少的，我一直希望能找到一个TC的免费替代品。试用过很多免费的文件管理器，但都不理想。偶然看到&lt;a href="http://doublecmd.sourceforge.net/">Double Commander&lt;/a>，才发现这几乎完全就是我想要的。&lt;/p>

&lt;p>&lt;a href="https://picasaweb.google.com/lh/photo/ioR_w9MmX81q_5a8xjUPsA?feat=embedwebsite">&lt;img src="https://lh4.googleusercontent.com/-gkI4K4m5SSM/Tl31NceNNhI/AAAAAAAABzs/3AigwSN7whI/s640/doublecmd_screenshot.png" height="360" width="640" />&lt;/a>&lt;/p>

&lt;h2>特性&lt;/h2>

&lt;ul>
&lt;li>几乎完全模仿TC，甚至连插件的API都一致&lt;/li>
&lt;li>界面布局、样式高度可定制&lt;/li>
&lt;li>热键高度可定制&lt;/li>
&lt;li>开源、免费、跨平台&lt;/li>
&lt;/ul>

&lt;h2>局限&lt;/h2>

&lt;ul>
&lt;li>功能相对TC少很多&lt;/li>
&lt;li>稳定性不是非常高&lt;/li>
&lt;li>运行速度稍嫌慢&lt;/li>
&lt;li>开发进度慢&lt;/li>
&lt;/ul>

&lt;h2>小技巧&lt;/h2>

&lt;h3>热键设置&lt;/h3>

&lt;p>每个内置命令可以设置多个热键，每个热键可以指定参数，参数中可以使用环境变量，如下图所示：&lt;/p>

&lt;p>&lt;a href="https://picasaweb.google.com/lh/photo/Z3jLMCGkoAbs1XC6yOhElg?feat=embedwebsite">&lt;img src="https://lh5.googleusercontent.com/-lFMDaSny_gw/Tl31OKrfhMI/AAAAAAAABzs/2XX44Go-3zc/s640/doublecmd_hotkey.png" height="417" width="640" />&lt;/a>&lt;/p>

&lt;p>针对命令&lt;code>cm_ChangeDir&lt;/code>设置了两个热键，其中，给&lt;strong>Ctrl+Home&lt;/strong>指定的参数是&lt;strong>$HOME&lt;/strong>，给&lt;strong>Ctrl+Shift+Home&lt;/strong>指定的参数是&lt;strong>$HOME/Desktop&lt;/strong>，即分别切换到当前用户的主目录和桌面目录。&lt;/p>

&lt;h3>自定义文件类型命令&lt;/h3>

&lt;p>可以为每种文件类型定义多个命令，这些自定义命令将显示为上下文菜单的“动作”菜单的子菜单项。如下图所示：&lt;/p>

&lt;p>&lt;a href="https://picasaweb.google.com/lh/photo/m7mjk4g77XsMZw58ayJnEw?feat=embedwebsite">&lt;img src="https://lh5.googleusercontent.com/-4Z6LcQg9YIc/Tl31OqcRqKI/AAAAAAAABzs/wJjK8noUWM8/s400/doublecmd_filetype_command_01.png" height="400" width="376" />&lt;/a>&lt;/p>

&lt;p>定义了名称为“Archive”的文件类型，关联了一系列的文件后缀名。然后添加了一个名为“解压缩到当前目录”的动作，并指定所执行的命令为&lt;code>urxvt -e aunpack %f&lt;/code>。其中，&lt;strong>%f&lt;/strong>是一个占位符，代表当前文件的全名。DC预置了几个占位符，可以点击命令输入框右侧图标是加号的按钮选择。&lt;/p>

&lt;p>最终的效果如下：&lt;/p>

&lt;p>&lt;a href="https://picasaweb.google.com/lh/photo/mXYVL8uX1TNw0ENFur1PUQ?feat=embedwebsite">&lt;img src="https://lh6.googleusercontent.com/-smFkdYyLMHE/Tl31QAWMNXI/AAAAAAAABzs/hIBW-yVpBuQ/s400/doublecmd_filetype_command_02.png" height="236" width="400" />&lt;/a>&lt;/p>

&lt;h3>解决日期时间乱码的问题&lt;/h3>

&lt;p>截至版本0.5.0 beta，如果设置了使用日期时间字符串的格式为“yyyy-mm-dd hh:mm:ss”，在&lt;strong>zh_CN.UTF-8&lt;/strong>的区域设置下，字符串中将出现乱码：&lt;/p>

&lt;p>&lt;a href="https://picasaweb.google.com/lh/photo/gMOlqF5DOQQ5otUEBon7lA?feat=embedwebsite">&lt;img src="https://lh6.googleusercontent.com/-LfvO5yBH_F0/Tl3_d13FCNI/AAAAAAAAB0A/MHApuvTvkSg/s400/doublecmd_datetime_illegle_char.png" height="400" width="168" />&lt;/a>&lt;/p>

&lt;p>临时解决办法是以英文区域设置启动doublecmd：&lt;/p>

```bash
#!/bin/bash

export LC_ALL=en_US.UTF-8
doublecmd &amp;
```

&lt;p>Posted via &lt;a href="http://0x3f.org/posts/ultrablog-as-an-ultimate-vim-blogging-plugin/">UltraBlog.vim&lt;/a>.&lt;/p></description></item><item><title>Linux下双屏显示的设置</title><link>http://0x3f.org/posts/dualhead-display-on-linux/</link><pubDate>Thu, 04 Aug 2011 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/dualhead-display-on-linux/</guid><description>&lt;p>RandR是对X11的一个扩展协议，允许在不重启X的情况下修改输出的一些参数并使之生效，xrandr是该协议的命令行界面，它的功能之一就是用来设置双屏显示。&lt;/p>

&lt;p>缺省情况下，外接显示器后启用的是屏幕复制模式，即两个屏幕显示完全相同的内容。使用命令&lt;code>xrandr -q&lt;/code>查看当前的输出状态：&lt;/p>

&lt;blockquote>
 &lt;p>Screen 0: minimum 320 x 200, current 1920 x 1080, maximum 8192 x 8192
 LVDS1 connected 1280x800+0+0 (normal left inverted right x axis y axis) 261mm x 163mm
 1280x800 60.0&lt;em>+ 60.0 50.0 &lt;br />
 1024x768 75.1 70.1 60.0 &lt;br />
 800x600 72.2 75.0 60.3 56.2 &lt;br />
 768x576 75.0 72.0 60.0 &lt;br />
 640x480 72.8 75.0 60.0 59.9 &lt;br />
 VGA1 connected 1920x1080+0+0 (normal left inverted right x axis y axis) 509mm x 286mm
 1920x1080 60.0&lt;/em>+
 1680x1050 60.0 &lt;br />
 1280x1024 75.0 60.0 &lt;br />
 1440x900 59.9 &lt;br />
 1280x960 60.0 &lt;br />
 1024x768 75.1 70.1 60.0 &lt;br />
 832x624 74.6 &lt;br />
 800x600 72.2 75.0 60.3 56.2 &lt;br />
 640x480 72.8 75.0 66.7 60.0 &lt;br />
 720x400 70.1 &lt;br />
 HDMI1 disconnected (normal left inverted right x axis y axis)
 DP1 disconnected (normal left inverted right x axis y axis)
 HDMI2 disconnected (normal left inverted right x axis y axis)
 DP2 disconnected (normal left inverted right x axis y axis)
 DP3 disconnected (normal left inverted right x axis y axis)&lt;/p></description></item><item><title>收入AOC E2343F</title><link>http://0x3f.org/posts/got-aoc-e2343f/</link><pubDate>Sun, 24 Jul 2011 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/got-aoc-e2343f/</guid><description>&lt;p>当初在深圳被公司的Dell Inspiron 1300吓怕了，所以不惜重金&lt;a href="http://0x3f.org/?p=819">收入&lt;/a>了高配的Thinkpad X200 FN3。最近越来越觉得12寸的屏幕看代码实在是太局促了。&lt;/p>

&lt;p>今天中午收到AOC E2343F，979￥，23寸屏里算是价位很低的了，不算是很好的屏，不过看看代码、电影足够了。外接到X200上，人品不错，完美屏，没坏点，桌面环境下可以使用最大1920x1080x32分辨率，但是不知道为什么，&lt;code>hwinfo --framebuffer&lt;/code>列出的结果中没有这个最佳分辨率，&lt;a href="http://0x3f.org/?p=1377">KMS&lt;/a>自动选用了1280x1024x32，可惜不能在&lt;a href="http://linuxtoy.org/archives/fbterm.html">fbterm&lt;/a>下撒野了。&lt;/p>

&lt;p>下午复习了一下&lt;a href="http://zh.wikipedia.org/wiki/阿凡达">AVATAR&lt;/a>，720P，有点儿冲动，&lt;a href="http://0x3f.org/?p=970">Intel GMA X4500&lt;/a>还是很坚挺的。打开Vim，分割窗口，豁然开朗，对于这个根本目的，结果相当冲动。&lt;/p>

&lt;p>&lt;a href="https://picasaweb.google.com/lh/photo/4HIWgaUq4G0PV4MnMapZ1Q?feat=embedwebsite">&lt;img src="https://lh4.googleusercontent.com/-jUv8m-8etm4/Tiqpqyp-LCI/AAAAAAAAByY/R8_PZiw3s_c/s400/C360_2011-07-23%25252018-38-10.jpg" height="300" width="400" />&lt;/a>&lt;/p>

&lt;p>Posted via &lt;a href="http://0x3f.org/posts/ultrablog-as-an-ultimate-vim-blogging-plugin/">UltraBlog.vim&lt;/a>.&lt;/p></description></item><item><title>使用PAC Manager管理SSH连接</title><link>http://0x3f.org/posts/manage-ssh-connections-using-pac-manager/</link><pubDate>Thu, 14 Jul 2011 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/manage-ssh-connections-using-pac-manager/</guid><description>&lt;blockquote>
 &lt;p>本文发表在今年一月份的『Linuxpilot』上，已经过了半年，可以放到博客上了。本文基于PAC 2.x版，最近PAC发布了3.0版，界面和功能都有一定的变化。&lt;/p>
&lt;/blockquote>

&lt;h2>简介&lt;/h2>

&lt;p>&lt;a href="http://pacmanager.sourceforge.net">PAC Manager&lt;/a>（以下简称PAC）是一个使用Perl编程语言和GTK图形界面开发套件实现的SSH/Telnet/Serial连接管理工具，是同类的PuTTY、SecureCRT、SSHMenu的一个开源、免费的替代品。&lt;/p>

&lt;h2>具备哪些特性&lt;/h2>

&lt;ul>
&lt;li>可创建本地端口转发、远程端口转发和动态端口转发，并支持X图形界面转发&lt;/li>
&lt;li>对连接分组，方便管理较多连接&lt;/li>
&lt;li>将指定的、已打开的连接加入集群，同一集群的所有终端共享键盘输入&lt;/li>
&lt;li>虚拟终端窗口支持多标签&lt;/li>
&lt;li>虚拟终端窗口的样式可定制，支持半透明&lt;/li>
&lt;li>支持通过代理服务器建立连接&lt;/li>
&lt;li>支持通过Expect表达式进行自动交互&lt;/li>
&lt;li>支持使用本地和远程宏管理数量众多且复杂的常用指令&lt;/li>
&lt;li>支持定制连接前和断开后自动执行的指令&lt;/li>
&lt;li>为每个连接保存截图&lt;/li>
&lt;/ul>

&lt;h2>针对重要特性的细解&lt;/h2>

&lt;h3>创建SSH隧道&lt;/h3>

&lt;p>假如当我们在进行诸如收发电邮、使用即时通讯工具聊天或者使用网络银行等网络通讯行为时，也许有些重要的数据我们不希望被明文传递；亦或某些资源受限于网络结构和防火墙等因素而不能被我们直接访问，这时我们往往就可以通过SSH的端口转发功能来实现。&lt;/p>

&lt;p>所谓端口转发，即是指将原本使用其它TCP端口访问的数据经由SSH连接占用的端口发送，加之这一过程也伴随有数据的加密和解密，因此也往往被称作“隧道”。根据连接方向的不同，SSH的隧道一般分为三种，即正向隧道、反向隧道和动态隧道；同时，根据端口转发方式的不同，这三种隧道又分别被称为本地端口转发、远程端口转发与动态端口转发。&lt;/p>

&lt;p>那么这三种端口转发方式彼此之间有什么异同，分别又都有什么用途呢？这里举个例子来说明一下。&lt;/p>

&lt;p>假设我的公司有一个较大的内部网络，而只有一台服务器作为网关对公网提供服务。如果我需要在家里的个人电脑上访问公司的办公系统，而这套系统又部署在内部网络中的一台服务器上、不能被公网访问，该怎么办呢？&lt;/p>

&lt;p>第一种情况，假设网关服务器对外提供了SSH服务，那么我就可以在家庭电脑上使用如下指令建立一个隧道：&lt;/p>

&lt;p>&lt;code>ssh -L 9999:192.168.1.128:80 111.111.111.111&lt;/code>&lt;/p>

&lt;p>这条指令中，192.168.1.128是公司办公系统服务器在内网中的IP地址，111.111.111.111是公司网关服务器的公网IP地址。整条指令的意思是：我在家庭电脑中访问本机的9999端口，就如同我在IP地址为111.111.111.111的公司网关服务器上访问IP地址为192.168.1.128的主机的80端口一样。因此，当这条指令执行成功后，我就可以在家庭电脑中通过访问9999端口来打开公司内部办公系统了。&lt;/p>

&lt;p>第二种情况，假设网关服务器不对外提供SSH服务但安装了SSH客户端，而我的家庭电脑却安装了SSH服务，那么我就可以在公司网关服务器上执行如下指令建立一个隧道：&lt;/p>

&lt;p>&lt;code>ssh -R 9999:192.168.1.128:80 222.222.222.222&lt;/code>&lt;/p>

&lt;p>这条指令中，222.222.222.222是家庭电脑的公网IP地址。整条指令的意思是：我在公网IP地址为222.222.222.222的电脑上访问9999端口，就如同在本机（公司网关服务器）上访问IP地址为192.168.1.128的主机的80端口一样。当我回到家中，就可以和前面一样通过访问9999端口来打开办公系统了。&lt;/p>

&lt;p>事实上，第一种情况是将本地端口映射为远程主机所能访问的资源，故称为本地端口转发；而第二种情况是将远程主机的端口映射为本机所能访问的资源，故称为远程端口转发。&lt;/p>

&lt;p>但无论是本地端口转发还是远程端口转发，都只能将一个资源转发到一个端口上，假若我要访问很多资源，岂非要建立很多SSH隧道，不但操作麻烦，而且浪费本机资源。这时，我们就可以使用第三种端口转发方式--动态端口转发：&lt;/p>

&lt;p>&lt;code>ssh -D 9999 111.111.111.111&lt;/code>&lt;/p>

&lt;p>这条指令的意思是：我在本机访问9999端口，就像在IP地址为111.111.111.111的主机上访问它所能访问的某些资源一样。这个所谓的“某些资源”，需要由我在发起访问请求时通过SSH隧道告诉远程主机，事实上，SSH的动态端口转发就是创建了一个SOCKS代理服务器。&lt;/p>

&lt;p>在PAC Manager中，我们可以在每个SSH连接的配置界面创建隧道。对于上面的例子，创建本地端口转发时，应点击“Local Port Forwarding”区域的“Add”按钮，并将本地端口、远程资源IP地址和端口分别填写到“Local Port”、“Remote Address”和“Remote Port”中：&lt;/p>

&lt;p>&lt;a href="https://picasaweb.google.com/lh/photo/Gfzyo3h4hUrTUxA4YIlRuw?feat=embedwebsite">&lt;img src="https://lh3.googleusercontent.com/--l0NMNEs-Qs/Th70Q2lplvI/AAAAAAAABxo/EDBIPjRL0nY/s640/pac_manager_introduction-tunnel_01.png" height="166" width="640" />&lt;/a>&lt;/p>

&lt;p>截至当前最新的版本（2.4.1.3），PAC Manager尚未为远程端口转发提供像本地端口转发功能一样单独的配置界面，但可以使用高级选项功能实现。在“Advanced Options”输入框中填写如下内容：&lt;/p>

&lt;p>&lt;a href="https://picasaweb.google.com/lh/photo/fru1uaGuVQ57mXRBiFRMeA?feat=embedwebsite">&lt;img src="https://lh6.googleusercontent.com/-iFwTWK2ZL4M/Th70Q7NcE6I/AAAAAAAABxs/pTEh2LGkwV8/s640/pac_manager_introduction-tunnel_03.png" height="31" width="640" />&lt;/a>&lt;/p>

&lt;p>如果需要建立多个远程端口转发，可以在“Advanced Options”中填写多个类似上面内容的选项，彼此之间使用空格分隔即可。&lt;/p>

&lt;p>创建动态端口转发时，应选中“Dynamic Port Forwarding”区域前面的复选框，然后填写“Forwarded SOCKS Port”即可：&lt;/p>

&lt;p>&lt;a href="https://picasaweb.google.com/lh/photo/hnRb67QlipzpHb_IaeyYiw?feat=embedwebsite">&lt;img src="https://lh3.googleusercontent.com/-JHN7-EI7pjc/Th70QhAOCUI/AAAAAAAABxk/4D2e1SpcS-U/s640/pac_manager_introduction-tunnel_02.png" height="55" width="640" />&lt;/a>&lt;/p>

&lt;h3>连接前及断开后的自动指令&lt;/h3>

&lt;p>通过在PAC Manager中定义连接前和断开后的自动指令，我们可以指定一些在相应的SSH连接建立之前及断开之后通常要在本机执行的指令。&lt;/p>

&lt;p>例如假设我使用的是计时收费的网络服务，为了节省资费，我希望只在每次建立SSH连接时才激活网络服务，并且在完成工作后断开SSH连接时自动断开网络服务。那么就可以在“Pre Exec”中定义激活网络服务的指令，如下图所示：&lt;/p>

&lt;p>&lt;a href="https://picasaweb.google.com/lh/photo/_P1JaaI5sF8gDTMulaljVA?feat=embedwebsite">&lt;img src="https://lh6.googleusercontent.com/-nPz5VHhK0vk/Th70MQLOVOI/AAAAAAAABxM/Q-mwNmyxzOo/s640/pac_manager_introduction-exec_01.png" height="136" width="640" />&lt;/a>&lt;/p></description></item><item><title>ack: grep的同类替代品</title><link>http://0x3f.org/posts/use-ack-as-an-alternative-to-grep/</link><pubDate>Mon, 09 May 2011 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/use-ack-as-an-alternative-to-grep/</guid><description>&lt;p>&lt;a href="http://betterthangrep.com">ack&lt;/a>是一个perl脚本，是grep的一个可选替换。&lt;/p>

&lt;p>有以下优势：&lt;/p>

&lt;ul>
&lt;li>为程序员设计，使用方便，输入较少
&lt;ul>
&lt;li>默认递归搜索&lt;/li>
&lt;li>缺省提供多种文件类型供选，文件类型对应的后缀名可修改&lt;/li>
&lt;/ul>&lt;/li>
&lt;li>使用perl的正则表达式，而grep只支持其一个子集&lt;/li>
&lt;li>搜索结果高亮输出&lt;/li>
&lt;/ul>

&lt;p>很多人以讹传讹，使人容易对ack的搜索速度产生误解。ack的官方宣传中说比grep快，其前提是ack可方便地针对部分后缀的文件进行搜索，而grep默认对所有文件搜索。ack的官方文档中明确指出，在对大量文件进行搜索时，grep的速度还是最快的。&lt;/p>

&lt;h2>~/.ackrc&lt;/h2>

&lt;p>使用此配置文件存储ack的常用选项。&lt;/p>

&lt;blockquote>
 &lt;p>-i
 --type-add
 php=.lib&lt;/p>
&lt;/blockquote>

&lt;p>如上所示，该文件中每一行应该是ack命令行参数中用空格分隔的一个部分。&lt;/p>

&lt;h2>例子&lt;/h2>

&lt;p>如果搜索的关键词是正则表达式，在Linux下必须将其用双引号包围起来。&lt;/p>

&lt;p>如：&lt;/p>

```bash
ack "gbldb\s*="
```

&lt;h2>Windows下的安装&lt;/h2>

&lt;ul>
&lt;li>安装&lt;a href="http://strawberryperl.com">strawberryperl&lt;/a>&lt;/li>
&lt;li>保存&lt;a href="http://betterthangrep.com/ack-standalone">ack.pl&lt;/a>到&lt;em>C:\bin&lt;/em>&lt;/li>
```dos
@echo off
perl.exe c:/bin/ack.pl %*
```
&lt;li>将&lt;em>C:\bin&lt;/em>加入环境变量&lt;strong>%PATH%&lt;/strong>&lt;/li>
&lt;/ul>

&lt;h2>资源&lt;/h2>

&lt;ul>
&lt;li>&lt;a href="http://www.vim.org/scripts/script.php?script_id=2572">ack.vim&lt;/a>: Vim使用ack的辅助扩展&lt;/li>
&lt;/ul>

&lt;p>Posted via &lt;a href="http://0x3f.org/posts/ultrablog-as-an-ultimate-vim-blogging-plugin/">UltraBlog.vim&lt;/a>.&lt;/p></description></item><item><title>Navicat: 轻量的多数据库客户端</title><link>http://0x3f.org/posts/navicat-a-light-weight-database-client/</link><pubDate>Wed, 06 Apr 2011 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/navicat-a-light-weight-database-client/</guid><description>&lt;p>&lt;a href="http://www.navicat.com/en/">Navicat&lt;/a>是一套商业软件，但是它的免费版Navicat Lite已足够好用。作为一套数据库客户端，它具有以下特性：&lt;/p>

&lt;ul>
&lt;li>支持Microsoft SQL Server、Oracle、MySQL、PostgreSQL、SQLite五个最常见的关系数据库。&lt;/li>
&lt;li>占用系统资源少，轻便快捷&lt;/li>
&lt;li>功能较为全面，使用方便&lt;/li>
&lt;li>跨平台&lt;/li>
&lt;/ul>

&lt;p>我使用Navicat完成一般的数据库操作，这样可以无须在多种数据库的官方客户端之间来回切换，而且对于速度不快的机器来说，Navicat轻量的优势是很明显的。&lt;/p>

&lt;p>Navicat另外一个为人所忽略的优点是对SQLite的支持，我曾花不少时间找一个好的SQLite的客户端，大部分搜索结果都介绍的是另外一个&lt;a href="http://sqliteman.com/">Sqliteman&lt;/a>，但是我始终不能习惯它，感觉这个东西功能少而且不好用。直到发现Navicat，才算找到一个完善的SQLite客户端。&lt;/p>

&lt;p>对于跨平台的特性，Navicat对Linux平台的支持其实是通过wine实现的，好在其安装包对wine已做过定制，运行状况良好。&lt;/p>

&lt;p>Posted via &lt;a href="http://0x3f.org/posts/ultrablog-as-an-ultimate-vim-blogging-plugin/">UltraBlog.vim&lt;/a>.&lt;/p></description></item><item><title>Orta: 凸凹有致的GTK主题</title><link>http://0x3f.org/posts/orta-a-pretty-gtk-theme/</link><pubDate>Tue, 05 Apr 2011 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/orta-a-pretty-gtk-theme/</guid><description>&lt;p>如果说&lt;a href="http://skiesofazel.deviantart.com/art/Orta-184118297">Orta&lt;/a>最大的特点，就是凸凹有致。它的主要组件都突出了这个特点，加上对细节的表现很细致，整个主题给人以很舒服的感觉。&lt;/p>

&lt;p>&lt;a href="https://picasaweb.google.com/lh/photo/wwLFAQ5QZ1dR1UrhYYdxZA?feat=embedwebsite">&lt;img src="https://lh3.googleusercontent.com/_ceUJ_lBTHzc/TZk3aLmNBTI/AAAAAAAABno/dOle8elWvtA/s800/2011-04-04.11%3A20%3A09.Gtk%2B%202.0%20Change%20Theme.01.png" height="474" width="413" />&lt;/a>&lt;/p>

&lt;p>Posted via &lt;a href="http://0x3f.org/posts/ultrablog-as-an-ultimate-vim-blogging-plugin/">UltraBlog.vim&lt;/a>.&lt;/p></description></item><item><title>在非GNOME环境中使用TweetDeck</title><link>http://0x3f.org/posts/howto-use-tweetdeck-out-of-gnome/</link><pubDate>Tue, 05 Apr 2011 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/howto-use-tweetdeck-out-of-gnome/</guid><description>&lt;p>在非GNOME桌面环境中，运行TweetDeck会报如下错误：&lt;/p>

&lt;blockquote>
 &lt;p>Ooops, TweetDeck can't find your data
 TweetDeck is having trouble using some of your passwords that are stored securely on your machine. Clicking submit will clear this data so that you continue to use TweetDeck.&lt;/p>
&lt;/blockquote>

&lt;p>原因是Adobe Air将密码保存在GNOME的Keyring里，而此时Air找不到GNOME的相关守护进程&lt;strong>gnome-keyring-daemon&lt;/strong>。&lt;/p>

&lt;p>使用如下脚本启动之：&lt;/p>

&lt;p>
```bash
#!/bin/bash
GNOME_KEYRING=`pidof gnome-keyring-daemon`
GNOME_DESKTOP_SESSION_ID=$GNOME_KEYRING /usr/bin/tweetdeck &amp;
```
&lt;/p>

&lt;p>Posted via &lt;a href="http://0x3f.org/posts/ultrablog-as-an-ultimate-vim-blogging-plugin/">UltraBlog.vim&lt;/a>.&lt;/p></description></item><item><title>Soothe: 柔和细致的GTK主题</title><link>http://0x3f.org/posts/gtk-theme-soothe/</link><pubDate>Sat, 02 Apr 2011 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/gtk-theme-soothe/</guid><description>&lt;p>&lt;a href="http://lassekongo83.deviantart.com/art/Soothe-199342656">Soothe&lt;/a>给人的感觉是细致而且柔和，不易于产生视觉疲劳，这正对我的胃口。更完美的是，它支持虚线焦点框，对于喜欢使用键盘的Rox-filer重症患者来说很重要。&lt;/p>

&lt;p>&lt;a href="https://picasaweb.google.com/lh/photo/MvcanM-ssxnIsXgEMvfmaA?feat=embedwebsite">&lt;img src="https://lh6.googleusercontent.com/_ceUJ_lBTHzc/TZk3aFUwttI/AAAAAAAABnk/ncEW0uYbqJM/s800/2011-04-04.11%3A17%3A30.Gtk%2B%202.0%20Change%20Theme.01.png" height="474" width="411" />&lt;/a>&lt;/p>

&lt;p>Posted via &lt;a href="http://0x3f.org/posts/ultrablog-as-an-ultimate-vim-blogging-plugin/">UltraBlog.vim&lt;/a>.&lt;/p></description></item><item><title>解决gVim白边问题的伪方法</title><link>http://0x3f.org/posts/the-fake-way-to-fix-white-gap-of-gvim/</link><pubDate>Mon, 21 Mar 2011 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/the-fake-way-to-fix-white-gap-of-gvim/</guid><description>&lt;p>gVim的窗口大小与行数、列数、字体宽度等都有关系，并不像一般的图形界面一样可以完全地最大化或全屏，如果几个因素组合后与屏幕分辨率不符合，就会在屏幕的左边和底部出现灰色的白边。&lt;/p>

&lt;p>这是gVim非常著名的一个问题，它使最大化的gVim窗口显得非常难看。目前仅有一种变通的解决方法，就是把白边部分的颜色设置成和gVim主题背景色一致的颜色：&lt;/p>

&lt;p>
```bash
# 修改~/.gtkrc-2.0，加入如下内容：
style "vimfix" {
 bg[NORMAL] = "#DBDBD2" # this matches my gvim theme 'Normal' bg color.
}
widget "vim-main-window.*GtkForm" style "vimfix"
```
&lt;/p>

&lt;p>由于并非真正地去掉白边，所以只能算是个伪方法。&lt;/p>

&lt;p>Windows下的方法见&lt;a href="../fullscreen-for-gvim-on-windows/">这里&lt;/a>。&lt;/p></description></item><item><title>修改Vimball默认安装路径</title><link>http://0x3f.org/posts/howto-set-the-default-vimball-install-path/</link><pubDate>Sat, 19 Mar 2011 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/howto-set-the-default-vimball-install-path/</guid><description>&lt;p>在Windows下，我希望把vba文件安装到$VIM/vimfiles目录下，而不是用户主目录中。&lt;/p>

&lt;p>Vim在安装vba文件时默认从$VIMRUNTIME中取出第一个路径作为安装路径，使用如下命令查看当前设置：&lt;/p>

&lt;p>
```vim
:echo &amp;rtp
```
&lt;/p>

&lt;p>在Windows下，Vim默认将用户主目录放在了$VIMRUNTIME的第一个，因此才会将vba安装到用户主目录。&lt;/p>

&lt;p>修改方法为在vimrc中加入如下设置：&lt;/p>

&lt;p>
```vim
set rtp-=$HOME/vimfiles
```
&lt;/p></description></item><item><title>精美的图标主题：Faenza</title><link>http://0x3f.org/posts/icon-theme-faenza/</link><pubDate>Sat, 19 Feb 2011 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/icon-theme-faenza/</guid><description>&lt;p>&lt;a href="http://tiheum.deviantart.com/art/Faenza-Icons-173323228">Faenza Icons Theme&lt;/a>是适用于GTK+环境的一套图标主题，风格很漂亮，而且齐全。&lt;/p>
&lt;p>&lt;a href="https://picasaweb.google.com/lh/photo/oR3thuG4Fu9kHj_9JE6l5g?feat=embedwebsite">&lt;img src="https://lh3.googleusercontent.com/_ceUJ_lBTHzc/TV8kBGrLlFI/AAAAAAAABjc/NCuw2C_QaHk/s400/faenza_icons_by_tiheum-d2v6x24.png" height="300" width="400" />&lt;/a>&lt;/p></description></item><item><title>MySQL升级后执行mysql_upgrade</title><link>http://0x3f.org/posts/execute-mysql-upgrade-after-upgrading/</link><pubDate>Fri, 11 Feb 2011 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/execute-mysql-upgrade-after-upgrading/</guid><description>&lt;p>最近把MySQL从5.1升级到5.5，之后创建存储过程时报如下错误：&lt;/p>&lt;blockquote>&lt;p>ERROR 1548 (HY000) at line 5: Cannot load from mysql.proc. The table is probably corrupted&lt;/p>&lt;/blockquote>&lt;p>解决办法是执行如下命令：

```bash
mysql_upgrade -p
```

&lt;a href="http://dev.mysql.com/doc/refman/5.0/en/mysql-upgrade.html" target="_blank">mysql_upgrade&lt;/a>是MySQL提供的一个指令，作用是检查MySQL中的各个表与当前版本的数据库是否匹配并尝试修复所有发现的问题。MySQL官方文档中推荐在每次升级后执行一下这个指令。&lt;/p></description></item><item><title>部分无线路由导致Wordpress无法登录</title><link>http://0x3f.org/posts/wordpress-fails-logging-in-with-some-wifi-routers/</link><pubDate>Mon, 31 Jan 2011 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/wordpress-fails-logging-in-with-some-wifi-routers/</guid><description>&lt;p>问题表现为在登录页面输入用户名和密码并点击登录按钮后，Wordpress跳转到登录页面。&lt;/p>
&lt;p>解决方法是修改&lt;strong>&lt;em>wp-includes/plugable.php&lt;/em>&lt;/strong>中的&lt;strong>&lt;em>wp_set_auth_cookie()&lt;/em>&lt;/strong>函数，将下面这行：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-php" data-lang="php">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">setcookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nv">$auth_cookie_name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nv">$auth_cookie&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nv">$expire&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ADMIN_COOKIE_PATH&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">COOKIE_DOMAIN&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nv">$secure&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">true&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>改成：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-php" data-lang="php">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">setcookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nv">$auth_cookie_name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nv">$auth_cookie&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nv">$expire&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">SITECOOKIEPATH&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">COOKIE_DOMAIN&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nv">$secure&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">true&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这一行在这个函数中有两处，是根据php的版本决定执行哪一块，所以应该根据自己的情况修改，或者干脆两处都修改。&lt;/p>
&lt;p>在我的tp-link tl-wr841n中发现这个问题，而中兴无线猫中没有这个问题。&lt;/p></description></item><item><title>Console2：取代cmd.exe的Windows虚拟终端</title><link>http://0x3f.org/posts/console2-as-an-alternative-of-cmd-exe/</link><pubDate>Sat, 22 Jan 2011 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/console2-as-an-alternative-of-cmd-exe/</guid><description>&lt;p>相对于鸡肋cmd.exe，&lt;a href="http://sourceforge.net/projects/console/">Console2&lt;/a>有以下优点：&lt;/p>

&lt;ol>
&lt;li>窗口大小可调整&lt;/li>
&lt;li>字体样式可选择&lt;/li>
&lt;li>支持多标签&lt;/li>
&lt;li>有很方便的选择、复制、粘贴等基本编辑功能&lt;/li>
&lt;li>支持自定义快捷键&lt;/li>
&lt;/ol>

&lt;p>对经常不得不使用Windows虚拟终端的人来说，以上几个特性足以使人忘掉cmd.exe。其实，Console2本身只是Shell的图形前端，只是在默认情况下它会调用cmd.exe处理用户输入，因此，也可以通过设置使Console2成为Cygwin的前端，只是从这一点上讲，Console2和&lt;a href="http://code.google.com/p/mintty/">Mintty&lt;/a>相比完全没有优势。&lt;/p>

&lt;p>&lt;a href="http://picasaweb.google.com/lh/photo/hfesI_yiNpTZ68BKIqdImA?feat=embedwebsite">&lt;img src="http://lh6.ggpht.com/_ceUJ_lBTHzc/TTotT9zYK6I/AAAAAAAABi0/Qzv4d2Abe-g/s400/console2.png" height="332" width="400" />&lt;/a>&lt;/p></description></item><item><title>Dokan SSHFS：Windows下通过SSH挂载Linux主机为本地分区</title><link>http://0x3f.org/posts/mount-linux-dirs-as-windows-local-partitions/</link><pubDate>Thu, 20 Jan 2011 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/mount-linux-dirs-as-windows-local-partitions/</guid><description>&lt;p>Linux一般使用Samba向Windows共享资源。另一个办法就是使用SSH。&lt;/p>

&lt;p>&lt;a href="http://dokan-dev.net/en/">Dokan&lt;/a>是一个为Windows提供实现新文件系统的开发库，而&lt;a href="http://dokan-dev.net/en/download/#sshfs">Dokan SSHFS&lt;/a>是在此基础上实现的挂载SSH通道为本地分区的文件系统。必须先安装Dokan，然后再安装Dokan SSHFS。&lt;/p>

&lt;p>&lt;a href="http://picasaweb.google.com/lh/photo/d6J9vTU8cvK2KEplEo0ZaQ?feat=embedwebsite">&lt;img src="http://lh4.ggpht.com/_ceUJ_lBTHzc/TThWJn7FrzI/AAAAAAAABic/Et7kroeInF8/s400/sshfs.png" height="338" width="400" />&lt;/a>&lt;/p>

&lt;p>如果从安装SSH服务做起，步骤是：&lt;/p>

&lt;ol>
&lt;li>在Linux主机上安装openssh&lt;/li>
&lt;li>修改Linux主机的&lt;strong>/etc/hosts.allow&lt;/strong>，加入&lt;code>sshd: ALL&lt;/code>，以允许外部访问&lt;/li>
&lt;li>启动sshd守护进程&lt;/li>
&lt;li>在Windows主机上安装Dokan和Dokan SSHFS&lt;/li>
&lt;li>通过SSHFS的图形配置工具挂载SSH通道&lt;/li>
&lt;/ol>

&lt;p>这种方式的好处是简单，但是存在安全隐患，不管怎样，公布SSH连接绝非好事，这意味著接入用户可以远程控制Linux主机，尤其是当SSH账户的权限较高时。因此，这种方式只适用于虚拟机或家庭网络，例如对Host-Guests共享支持不佳的KVM虚拟机来说就是个好的选择。即便如此，也要注意相应的Windows主机的安全防范，否则，入侵者可以通过Windows主机做跳板来进入Linux主机。&lt;/p></description></item><item><title>darkstat: 网络流量监测工具</title><link>http://0x3f.org/posts/darkstat-as-a-network-discharge-meter/</link><pubDate>Sun, 26 Dec 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/darkstat-as-a-network-discharge-meter/</guid><description>&lt;p>&lt;a href="http://dmr.ath.cx/net/darkstat/">darkstat&lt;/a>是一个跨平台的网络流量监测工具，可显示最大一个月内操作系统的各项网络流量指标。&lt;/p>
&lt;p>具有以下特性：&lt;/p>
&lt;ol>
	&lt;li>以守护进程方式运行，提供Web用户界面，零配置，易于使用&lt;/li>
	&lt;li>可显示较为详细的网络流量指标&lt;/li>
	&lt;li>性能表现好，占用资源少&lt;/li>
	&lt;li>跨平台，支持多个UNIX、类UNIX操作系统，并有非官方的Windows移植版&lt;/li>
&lt;/ol>
&lt;p>具有以下不足：&lt;/p>
&lt;ol>
	&lt;li>功能较为简单，以易用性换灵活性&lt;/li>
	&lt;li>日志记录功能比较单薄，需要编写辅助脚本并设置定时任务&lt;/li>
&lt;/ol>
&lt;p>darkstat启动时需要手工指定监视的网络接口，因此需要用根权限启动：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo darkstat -i eth0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>darkstat默认使用&lt;strong>667&lt;/strong>端口提供Web访问，可以用&lt;strong>-p&lt;/strong>参数指定端口：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo darkstat -i eth0 -p &lt;span class="m">8080&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>darkstat的Web用户界面分为Graph、Hosts和Host三部分。Graph是缺省主页，用于显示最近一分钟、一小时、一天和一个月的流量统计直方图，将光标置于任何一个直方条上可查看对应时刻的流量指标：&lt;/p>
&lt;p>&lt;a href="http://picasaweb.google.com/lh/photo/NAB3_2TtnezdM45HoNd5pQ?feat=embedwebsite">&lt;img src="http://lh4.ggpht.com/_ceUJ_lBTHzc/TRcCUWqnF0I/AAAAAAAABhs/wLRQb3rvHW8/s400/darkstat-graphs.png" height="400" width="395" />&lt;/a>&lt;/p>
&lt;p>Hosts界面按主机显示各自的流量统计指标的值：&lt;/p>
&lt;p>&lt;a href="http://picasaweb.google.com/lh/photo/kG1J2j2eecaLUnhDL-fArA?feat=embedwebsite">&lt;img src="http://lh4.ggpht.com/_ceUJ_lBTHzc/TRcCUXxnsMI/AAAAAAAABhw/ri5OsbqPdmc/s400/darkstat-hosts.png" height="322" width="400" />&lt;/a>&lt;/p>
&lt;p>单击Hosts界面上的IP进入对应主机的Host界面，此界面按TCP/UDP类型显示对应的主机的各端口的网络流量指标的值：&lt;/p>
&lt;p>&lt;a href="http://picasaweb.google.com/lh/photo/XBNQWty4lp63OWwyAFm_BA?feat=embedwebsite">&lt;img src="http://lh3.ggpht.com/_ceUJ_lBTHzc/TRcCUn6lg_I/AAAAAAAABh0/6Aj0hArzIYk/s800/darkstat-host.png" height="800" width="190" />&lt;/a>&lt;/p>
&lt;p>可通过如下命令查看占用指定端口的进程：&lt;/p>
&lt;blockquote>
[lenin@archer ~]$ lsof -i tcp:58062 -n
COMMAND PID USER FD TYPE DEVICE SIZE/OFF NODE NAME
mlnet 18660 lenin 74u IPv4 251788 0t0 TCP 192.168.1.3:58062->122.116.212.89:http (ESTABLISHED)
&lt;/blockquote>
&lt;p>darkstat区别于其它流量监测工具的最大的优点就是简单易用，非常适合对流量监测应用不复杂的场景。前段时间公司的一台RHEL服务器因为流量过大多次被网管拔线，后来用darkstat监测到大部分流量被几个UDP端口占去，进而发现原来是服务器被入侵并被安装了一个扫描器&lt;a href="http://code.google.com/p/sipvicious/">SIPVicious&lt;/a>。&lt;/p></description></item><item><title>Linux的内存使用机制</title><link>http://0x3f.org/posts/linux-memory-usage/</link><pubDate>Fri, 24 Dec 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/linux-memory-usage/</guid><description>&lt;p>在top中，内存使用情况显示为如下格式：&lt;/p>
&lt;blockquote>
Mem: 3056828k total, 2624472k used, 432356k free, 185196k buffers
Swap: 2096476k total, 0k used, 2096476k free, 1613592k cached
&lt;/blockquote>
&lt;p>根据内存的使用情况，将内存空间划分为四种类型：已使用（used），未使用（free），缓冲区（buffers）和已缓存（cached）。&lt;/p>
&lt;p>“已使用”是指目前正被使用的活跃的内存区域。“未使用”是指当前空闲的内存区域。“缓冲区”是用于存放即将写入存储介质的数据的区域。“已缓存”是指曾因需要而被读入内存、但目前已不被使用的数据。Linux通常会在资源使用完毕后保留一部分数据在内存中而不全部释放，这就是“已缓存”区域，这样当这些数据再次被使用时，系统就可以直接从内存中读取。而“缓冲区”用于将对存储介质的写操作集中进行。因此，“缓冲区”和“已缓存”特性对减少存储介质IO和加速系统运行都具有非常重要的作用。&lt;/p>
&lt;p>所以，Linux运行一段时间后，通常看起来空闲内存都很小，其实是因为很大一部分被用作“已缓存”区域，这部分内存会在内存资源紧张时被自动释放，也可以通过如下命令手工释放：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="m">1&lt;/span> &amp;gt; /proc/sys/vm/drop_caches
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Vim中设置关键词识别规则的方法</title><link>http://0x3f.org/posts/howto-set-keyword-identification-in-vim/</link><pubDate>Wed, 22 Dec 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/howto-set-keyword-identification-in-vim/</guid><description>&lt;p>在Vim中，关键词是一个至关重要的概念。合理地利用关键词，可以快速地对光标下有特殊含义的字符串进行一系列的操作，例如通过快捷键复制关键词、查询函数定义或文档、在项目中查询所有引用当前函数的地方等等。这对工作效率的提升有极大的帮助。&lt;/p>
&lt;p>但我的Vim对PHP文件的关键词识别有问题，在选择函数名的时候总是将函数名后的小括弧一起选入。&lt;/p>
&lt;p>Vim使用选项iskeyword设定关键词的匹配规则，使用如下命令查看当前文件类型的关键词规则：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">&lt;span class="k">set&lt;/span> &lt;span class="nx">iskeyword&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>我这里查看PHP文件的规则结果如下：&lt;/p>
&lt;blockquote>
iskeyword=@,48-57,_,192-255,$,(
&lt;/blockquote>
&lt;p>不明白为什么缺省设置中会有左括弧，在vimrc中加入如下配置取消之：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">au&lt;/span> &lt;span class="nx">FileType&lt;/span> &lt;span class="nx">php&lt;/span> &lt;span class="k">set&lt;/span> &lt;span class="nx">iskeyword&lt;/span>&lt;span class="p">-=(&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Vim保存文件时移除尾行换行符的方法</title><link>http://0x3f.org/posts/howto-remove-eof-in-vim/</link><pubDate>Sun, 05 Dec 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/howto-remove-eof-in-vim/</guid><description>&lt;p>Vim认为一个文本文件的每一行都应该由一换行符结束，即使文件的最后一行也不例外。这就使得Vim保存过的文本文件在其它文本编辑器中查看时可能会在文件末尾多出一个空行。一般来说，这不是个问题，但对于程序员来说，有时候一些不规范的运行环境或其它组件就要求文件的最后一行不能有换行符，否则就会出莫名其妙的问题，尤其是在Windows环境下最常见。&lt;/p>
&lt;p>要在保存文件时不在最后一行添加换行符，最常见、最简单的方法就是：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">&lt;span class="p">:&lt;/span>&lt;span class="k">set&lt;/span> &lt;span class="nx">binary&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">:&lt;/span>&lt;span class="k">set&lt;/span> &lt;span class="nx">noendofline&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>但是这样做有一个问题，就是会把DOS格式的文件自动转换成UNIX格式，WinSlave们肯定不希望这么做。&lt;/p>
&lt;p>因此，可在vimrc中加入如下内容：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; Save the current buffer as a file with no EOF sign.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">function&lt;/span>&lt;span class="p">!&lt;/span> &lt;span class="nx">SaveAsNOEOF&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">filename&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">let&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="nx">getline&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">line&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;$&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="m">-1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">let&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="k">map&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;iconv(v:val,&amp;#34;&amp;#39;&lt;/span>.&amp;amp;&lt;span class="nx">enc&lt;/span>.&lt;span class="s1">&amp;#39;&amp;#34;,&amp;#34;&amp;#39;&lt;/span>.&amp;amp;&lt;span class="nx">fenc&lt;/span>.&lt;span class="s1">&amp;#39;&amp;#34;) . nr2char(13)&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">call&lt;/span> &lt;span class="nx">extend&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">getline&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;$&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;$&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">call&lt;/span> &lt;span class="nx">writefile&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">a&lt;/span>:&lt;span class="nx">filename&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;b&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">a&lt;/span>:&lt;span class="nx">filename&lt;/span> &lt;span class="p">==&lt;/span> &lt;span class="nx">bufname&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;%&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">set&lt;/span> &lt;span class="nx">nomodified&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">endif&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endfunction&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; Save the current buffer and get rid of the EOF sign.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">function&lt;/span>&lt;span class="p">!&lt;/span> &lt;span class="nx">SaveNOEOF&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">call&lt;/span> &lt;span class="nx">SaveAsNOEOF&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">bufname&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;%&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endfunction&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">command&lt;/span>&lt;span class="p">!&lt;/span> &lt;span class="p">-&lt;/span>&lt;span class="nx">complete&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="nx">file&lt;/span> &lt;span class="p">-&lt;/span>&lt;span class="nx">nargs&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="m">0&lt;/span> &lt;span class="nx">SaveNOEOF&lt;/span> :&lt;span class="nx">call&lt;/span> &lt;span class="nx">SaveNOEOF&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">command&lt;/span>&lt;span class="p">!&lt;/span> &lt;span class="p">-&lt;/span>&lt;span class="nx">complete&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="nx">file&lt;/span> &lt;span class="p">-&lt;/span>&lt;span class="nx">nargs&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="m">1&lt;/span> &lt;span class="nx">SaveAsNOEOF&lt;/span> :&lt;span class="nx">call&lt;/span> &lt;span class="nx">SaveAsNOEOF&lt;/span>&lt;span class="p">(&amp;lt;&lt;/span>&lt;span class="nx">q&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">args&lt;/span>&lt;span class="p">&amp;gt;)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后就可以使用SaveNOEOF和SaveAsNOEOF两条命令去保存没有EOF的文件了。&lt;/p></description></item><item><title>Hope GTK：平静、柔和、细腻的主题</title><link>http://0x3f.org/posts/gtk-theme-hope/</link><pubDate>Sat, 04 Dec 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/gtk-theme-hope/</guid><description>&lt;p>&lt;a href="http://0rax0.deviantart.com/art/Hope-GTK-187658025">Hope GTK&lt;/a>是套漂亮的冷色调的GTK主题，色调过渡柔和，细节表现得也很好，整体给人以平静的感觉。&lt;/p>
&lt;p>&lt;a href="http://picasaweb.google.com/lh/photo/4_sO8LFMCRO5xLKi6v9wQA?feat=embedwebsite">&lt;img src="http://lh4.ggpht.com/_ceUJ_lBTHzc/TPpOe4PGEjI/AAAAAAAABgc/Lhir6fzkDWE/s400/hope_gtk_by_0rax0-d33q5ux.jpg" height="320" width="400" />&lt;/a>&lt;/p></description></item><item><title>virtio可能导致windows蓝屏</title><link>http://0x3f.org/posts/virto-may-breakdown-windows/</link><pubDate>Sat, 04 Dec 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/virto-may-breakdown-windows/</guid><description>&lt;p>前段时间突然发现kvm中的windows在启动时蓝屏，开始以为是kvm新版本的bug，后来发现如果不启用虚拟机硬盘的virtio就不会出现蓝屏。&lt;/p>
&lt;p>于是下载了最新版的virtio，然而更新后，蓝屏的问题并没有解决，所以目前只能暂时不使用virtio。不过网卡的virtio是没有问题的。&lt;/p></description></item><item><title>开启自定义GTK程序菜单快捷键的方法</title><link>http://0x3f.org/posts/howto-enable-hotkey-for-gtk-menus/</link><pubDate>Sat, 04 Dec 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/howto-enable-hotkey-for-gtk-menus/</guid><description>&lt;p>基于GTK的程序菜单本身支持通过在焦点所在的菜单项上按下组合键来定义该菜单项的快捷键，但默认并不开启。&lt;/p>
&lt;p>一般来说，对于支持X的会话管理的桌面环境，可以通过修改相应的设置来开启这个功能：&lt;/p>
&lt;ol>
	&lt;li>GNOME中该设置项所在的路径是：主选单 > 桌面 > 偏好设定 > 选单及功具列 > 可编辑选单捷径键&lt;/li>
	&lt;li>XFCE中该设置项所在的路径是：主选单 > 设置 > 外观 > 设置 > 开启可编辑快捷键&lt;/li>
&lt;/ol>
&lt;p>对于不支持会话管理的桌面环境，可在~/.gtkrc-2.0中添加如下配置内容：&lt;/p>
&lt;blockquote>
gtk-can-change-accels = 1
&lt;/blockquote></description></item><item><title>screen曰：$TERM too long - sorry.</title><link>http://0x3f.org/posts/screen-is-sorry-for-term-being-too-long/</link><pubDate>Wed, 01 Dec 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/screen-is-sorry-for-term-being-too-long/</guid><description>&lt;p>最近rxvt-unicode-256color的一次更新触发了screen的一个缺陷。新的版本将默认的环境变量$TERM由rxvt-256color改成了rxvt-unicode-256color，这导致在rxvt中启动screen时报这样的错误：&lt;/p>
&lt;blockquote>
$TERM too long - sorry.
&lt;/blockquote>
&lt;p>虽然可以在.Xdefaults中指定$TERM的值，但是&lt;a href="https://aur.archlinux.org/packages.php?ID=13060">据说&lt;/a>这样会导致rxvt加载错误的terminfo，并导致终端的颜色由256色降低到88色。另外虽然按照同样的说法，可以在screenrc中设置$TERM的值，但是不知道是我写的格式不对还是什么原因，无效。&lt;/p>
&lt;p>最终还是设了个别名：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># vi ~/.bashrc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">alias&lt;/span> &lt;span class="nv">screenx&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;export TERM=screen-256color &amp;amp;&amp;amp; screen&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Oxygen Refit：适用于xfce的Oxygen图标集</title><link>http://0x3f.org/posts/oxygen-iconset-fit-for-xfce/</link><pubDate>Mon, 29 Nov 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/oxygen-iconset-fit-for-xfce/</guid><description>&lt;p>Oxygen是KDE桌面环境中的一套著名的图标集，但是据说基于GTK的桌面环境如GNOME、XFCE等对其支持得不好，我这里在GNOME下倒没发现问题，不过在XFCE下文件夹的图标显示的是缺省的图标，不好看。&lt;/p>
&lt;p>&lt;a href="http://gnome-look.org/content/show.php/Oxygen+Refit+2?content=79756">Oxygen Refit&lt;/a>是针对GTK的桌面环境修改的Oxygen图标集，在XFCE下可以正常显示，但是缺点是最大分辨率只有48×48，不能显示较大的高清图标。Archlinux下可以安装AUR中的&lt;a href="http://aur.archlinux.org/packages.php?ID=18673">oxygenrefit2-icon-theme&lt;/a>。&lt;/p>
&lt;p>&lt;a href="http://picasaweb.google.com/lh/photo/cURosgqNAesp47LgLj4LpA?feat=embedwebsite">&lt;img src="http://lh5.ggpht.com/_ceUJ_lBTHzc/TPJ4grT0drI/AAAAAAAABf0/R22H_Nv6kbA/s400/2010-11-28.23%3A33%3A01.-usr-share-icons-oxygen-256x256-places%20%28%E9%A1%AF%E7%A4%BA%E7%B8%AE%E5%9C%96%29%20.01.png" height="249" width="400" />&lt;/a>&lt;/p></description></item><item><title>WinMerge：开源的差异比较工具</title><link>http://0x3f.org/posts/winmerge-as-a-free-diff-tool/</link><pubDate>Mon, 29 Nov 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/winmerge-as-a-free-diff-tool/</guid><description>&lt;p>&lt;a href="http://winmerge.org/">WinMerge&lt;/a>是开源的差异比较工具，只运行于Windows平台。&lt;/p>
&lt;p>具有以下实用特性：&lt;/p>
&lt;ol>
	&lt;li>支持文件内容和文件、文件夹差异比较&lt;/li>
	&lt;li>文件内容比较采用左右双栏显示，支持语法高亮&lt;/li>
	&lt;li>提供Windows资源管理器右键菜单，以选择文件或文件夹进行比较&lt;/li>
&lt;/ol>
&lt;p>具有以下不足：&lt;/p>
&lt;ol>
	&lt;li>文件夹比较结果以单栏显示，不直观&lt;/li>
	&lt;li>仅支持两方比较，不支持多方比较&lt;/li>
&lt;/ol>
&lt;p>使用时的注意事项：&lt;/p>
&lt;ol>
	&lt;li>使用树状的列表显示文件夹比较结果可以稍微缓解单栏显示导致的不直观的问题&lt;/li>
	&lt;li>Windows资源管理器的右键菜单需要在设置界面手工设置才能加入选取不同目标进行比较的菜单项&lt;/li>
&lt;/ol>
&lt;p>相较于商业的Beyong Compare等工具，WinMerge在操作的直观度和功能细节上存在不足，但是在差异比较的主要功能上，WinMerge完全可以胜任日常工作。同时，由于免费，WinMerge可以作为这些商业软件很好的替代工具。&lt;/p>
&lt;p>&lt;strong>后记：这些天越来越对使用未授权的商业软件感到不安，于是开始寻找这些工具的开源、免费替代品。&lt;/strong>&lt;/p></description></item><item><title>升级fcitx到4.0</title><link>http://0x3f.org/posts/upgraded-to-fcitx4/</link><pubDate>Sat, 20 Nov 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/upgraded-to-fcitx4/</guid><description>&lt;p>虽然是个大版本，但4.0在实际功能上并没有太大的进步。新版本相对于3.x增加的主要特性是：&lt;/p>
&lt;ol>
 &lt;li>支持皮肤&lt;/li>
 &lt;li>图形界面的配置工具&lt;/li>
 &lt;li>增加系统托盘图标&lt;/li>
 &lt;li>托盘图标和输入条提供右键菜单，如皮肤切换、选择输入法等&lt;/li>
 &lt;li>放弃GBK编码，改用UTF-8编码&lt;/li>
 &lt;li>拼音支持多词库&lt;/li>
 &lt;li>一系列细节功能及Bug修复&lt;/li>
&lt;/ol>
&lt;p>最主要的特性只有前两个，可见fcitx 4.0只是这个项目涅槃后的一个新的起点，象征意义大于实际意义，尤其对于码表输入法用户来说是这样。三年前我就&lt;a href="http://0x3f.org/?p=185">说过&lt;/a>，fcitx在用户造词上有个致命缺陷，就是对于多音字它总是使用字母表中声母靠前的编码，对于音码或者音形码输入法来说，这样造出来的词的编码经常会是错的，更糟糕的是用户还不容易自行修改词组编码。三年后的今天，新版本并没有解决这个问题。&lt;/p>
&lt;p>此外，需要注意的是，新版本对界面和易用性的改进也带来一些负面的影响，fcitx不再是当年以轻巧著称的那只小企鹅了，在我这里，它的内存占用达到了26M，所幸反应速度仍然很快。&lt;/p>
&lt;p>三年前，由于众所周知的原因，fcitx的路线图显得非常混乱，几个新版本都非常不稳定，所以我不再使用源中的版本，转而编译安装了新版本中相对稳定的黑色星期五版，不知不觉中三年过去了，想到一直用著这个版本就这么过来了，很感慨。要卸载编译安装的程序就得用源码重新configure一下再make uninstall，所幸还能在&lt;a href="http://www.fcitx.org/download/fcitx-3.5-BlackFri.tar.bz2">这里&lt;/a>找到这个版本。&lt;/p>
&lt;p>Archlinux下安装AUR中的fcitx-config时报如下错误：&lt;/p>
&lt;blockquote>
ERROR: certificate common name “*.github.com” doesn’t match requested host name “github.com”.
&lt;/blockquote>
&lt;p>需要修改/etc/makepkg.conf，使wget在下载源码时不做安全验证：&lt;/p>
&lt;blockquote>
# 增加--no-check-certificate参数
DLAGENTS=('ftp::/usr/bin/wget -c --passive-ftp -t 3 --waitretry=3'
 'http::/usr/bin/wget -c -t 3 --waitretry=3 --no-check-certificate'
 'https::/usr/bin/wget -c -t 3 --waitretry=3 --no-check-certificate'
 'rsync::/usr/bin/rsync -z'
 'scp::/usr/bin/scp -C')
&lt;/blockquote>
&lt;p>新版本的稳定性不如黑色星期五版，如果把简繁转换热键修改为ALT+J，使用时会导致fcitx崩溃。加之实际功能的改进不大，所以是否升级就无可无不可了。&lt;/p></description></item><item><title>调整Arch的磁盘分区</title><link>http://0x3f.org/posts/adjust-disk-partitions-in-archlinux/</link><pubDate>Sat, 13 Nov 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/adjust-disk-partitions-in-archlinux/</guid><description>&lt;p>&lt;h2>简述&lt;/h2>&lt;/p>

&lt;p>目标：移除Windows 7，整块硬盘完全分配给Archlinux。&lt;/p>

&lt;p>原分区结构：&lt;/p>

&lt;p>
&lt;table class="art_tbl">
&lt;tr>&lt;th class="art_tbl_th">分区&lt;/th>&lt;th class="art_tbl_th">类型&lt;/th>&lt;th class="art_tbl_th">挂载&lt;/th>&lt;th class="art_tbl_th">文件系统&lt;/th>&lt;th class="art_tbl_th">容量&lt;/th>&lt;/tr>
&lt;tr>&lt;td class="art_tbl_td">/dev/sda1&lt;/td>&lt;td class="art_tbl_td">主分区，启动分区&lt;/td>&lt;td class="art_tbl_td">Windows 7的安装分区&lt;/td>&lt;td class="art_tbl_td">ntfs&lt;/td>&lt;td class="art_tbl_td">30G&lt;/td>&lt;/tr>
&lt;tr>&lt;td class="art_tbl_td">/dev/sda2&lt;/td>&lt;td class="art_tbl_td">扩展分区&lt;/td>&lt;td class="art_tbl_td">-&lt;/td>&lt;td class="art_tbl_td">-&lt;/td>&lt;td class="art_tbl_td">-&lt;/td>&lt;/tr>
&lt;tr>&lt;td class="art_tbl_td">/dev/sda5&lt;/td>&lt;td class="art_tbl_td">逻辑分区&lt;/td>&lt;td class="art_tbl_td">Windows的D盘&lt;/td>&lt;td class="art_tbl_td">ntfs&lt;/td>&lt;td class="art_tbl_td">40G&lt;/td>&lt;/tr>
&lt;tr>&lt;td class="art_tbl_td">/dev/sda3&lt;/td>&lt;td class="art_tbl_td">主分区&lt;/td>&lt;td class="art_tbl_td">/&lt;/td>&lt;td class="art_tbl_td">ext3&lt;/td>&lt;td class="art_tbl_td">78G&lt;/td>&lt;/tr>
&lt;tr>&lt;td class="art_tbl_td">/dev/sda4&lt;/td>&lt;td class="art_tbl_td">交换分区&lt;/td>&lt;td class="art_tbl_td">swap&lt;/td>&lt;td class="art_tbl_td">-&lt;/td>&lt;td class="art_tbl_td">2G&lt;/td>&lt;/tr>
&lt;/table>
&lt;/p>

&lt;p>调整后分区结构：&lt;/p>

&lt;p>
&lt;table class="art_tbl">
&lt;tr>&lt;th class="art_tbl_th">分区&lt;/th>&lt;th class="art_tbl_th">类型&lt;/th>&lt;th class="art_tbl_th">挂载&lt;/th>&lt;th class="art_tbl_th">文件系统&lt;/th>&lt;th class="art_tbl_th">容量&lt;/th>&lt;/tr>
&lt;tr>&lt;td class="art_tbl_td">/dev/sda1&lt;/td>&lt;td class="art_tbl_td">主分区，启动分区&lt;/td>&lt;td class="art_tbl_td">/&lt;/td>&lt;td class="art_tbl_td">ext3&lt;/td>&lt;td class="art_tbl_td">30G&lt;/td>&lt;/tr>
&lt;tr>&lt;td class="art_tbl_td">/dev/sda2&lt;/td>&lt;td class="art_tbl_td">主分区&lt;/td>&lt;td class="art_tbl_td">/home&lt;/td>&lt;td class="art_tbl_td">ext3&lt;/td>&lt;td class="art_tbl_td">120G&lt;/td>&lt;/tr>
&lt;tr>&lt;td class="art_tbl_td">/dev/sda3&lt;/td>&lt;td class="art_tbl_td">交换分区&lt;/td>&lt;td class="art_tbl_td">swap&lt;/td>&lt;td class="art_tbl_td">-&lt;/td>&lt;td class="art_tbl_td">2G&lt;/td>&lt;/tr>
&lt;/table>
&lt;/p>

&lt;p>&lt;h2>步骤&lt;/h2>&lt;/p>

&lt;ol>
```bash
sudo grub-install /dev/sda
```
```bash
sudo vi /boot/grub/menu.lst
```
# (2) Arch Linux
title Arch Linux
root (hd0,0)
kernel /boot/vmlinuz26 root=/dev/sda1 resume=/dev/sda4 ro acpi_osi="Linux"
initrd /boot/kernel26.img
&lt;/blockquote>&lt;/li>
 &lt;li>&lt;a href="http://0x3f.org/?p=1699">安装U盘启动的Puppy Linux&lt;/a>&lt;/li>
```bash
mkfs.ext3 /dev/sda1
```
```bash
# 先点击桌面上sda1和sda3的盘符，使之被挂载到/mnt下

cd /mnt/sda3
cp -a * /mnt/sda1
```
```bash
vi /mnt/sda1/etc/fstab
```
# 修改必要的挂载点，如将根目录的挂载点由sda3改为sda1：
/dev/sda1 / ext3 defaults,noatime 0 1
&lt;/blockquote>&lt;/li>
 &lt;li>重启系统，并引导到新分区上的系统中&lt;/li>
```bash
sudo grub-install /dev/sda
```
 &lt;li>重启并进入Puppy，使用gparted删除除sda1以外的所有分区，然后在空闲的空间上创建ext3格式的主分区sda2和交换分区sda3&lt;/li>
```bash
cp -a /mnt/sda1/home/* /mnt/sda2
rm -rf /mnt/sda1/home/*
```
```bash
vi /mnt/sda1/etc/fstab
```
# 将fstab中磁盘分区的挂载点配置为如下内容
/dev/sda1 / ext3 defaults,noatime 0 1
/dev/sda2 /home ext3 defaults,noatime 1 2
/dev/sda3 swap swap defaults 0 0
```bash
vi /mnt/boot/grub/menu.lst
```
# 将原来启动项中的sda3修改为sda1，由于配置过休眠，也将resume参数中的sda4改为sda3，即交换分区
&lt;/blockquote>
 &lt;li>重启系统&lt;/li>
&lt;/ol>

&lt;p>&lt;h2>后记&lt;/h2>&lt;/p></description></item><item><title>制作Puppy Linux的启动U盘</title><link>http://0x3f.org/posts/howto-create-bootable-udisk-for-puppylinux/</link><pubDate>Thu, 11 Nov 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/howto-create-bootable-udisk-for-puppylinux/</guid><description>&lt;p>Puppy Linux的体积只有一百多兆字节，但图形界面实现得很完备，也包含了很多短小精悍的工具，安装和使用都很方便，非常适合用来做日常维护工具盘。&lt;/p>
&lt;p>Puppy自带了傻瓜式的启动U盘制作工具，但官方只提供整个发行版的ISO镜像下载，通常需要刻录成光盘并引导系统启动后才可以继续将Puppy安装到U盘。其实也可以不刻录光盘，而是把Puppy安装到硬盘上。&lt;/p>
&lt;p>Puppy本身封装得很好，对软硬件环境的要求不高，完全可以安装到一个独立的目录中而不影响其它操作系统。本文基于Linux环境下通过GRUB引导的前提，Windows下应该可以通过GRUB4DOS引导。&lt;/p>
&lt;ol>
&lt;li>挂载Puppy的ISO镜像到一个目录：&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo mount -o loop puppy.iso /media/puppy
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>复制镜像中的所有文件到根目录下的puppy目录：&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo mkdir /puppy
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo cp -a /media/puppy/* /puppy
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="3">
&lt;li>修改GRUB的引导文件，加入Puppy的引导项：&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo vi /boot/grub/menu.lst
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
# (2) Puppy
title Puppy
root (hd0,2)
kernel /puppy/vmlinuz root=/dev/ram0
initrd /puppy/initrd.gz
&lt;/blockquote>
&lt;ol start="4">
&lt;li>
&lt;p>重启系统并启动到Puppy&lt;/p>
&lt;/li>
&lt;li>
&lt;p>使用桌面上的&lt;strong>Setup&lt;/strong>中的&lt;strong>Puppy Universal Installer&lt;/strong>制作启动U盘。不过虽然这是官方推荐的制作工具，但我的杂牌U盘无论如何也不能引导系统，最后使用另一个备选的工具“&lt;strong>BootFlash USB Installer&lt;/strong>”的&lt;strong>USB-HDD&lt;/strong>模式制作成功。&lt;/p>
&lt;/li>
&lt;/ol></description></item><item><title>目录与文件的存储空间占用分析工具</title><link>http://0x3f.org/posts/storage-space-analysing-tools/</link><pubDate>Fri, 01 Oct 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/storage-space-analysing-tools/</guid><description>&lt;h3>du&lt;/h3>
&lt;p>du是命令行中用于查看目录和文件的空间占用情况的指令。&lt;/p>
&lt;p>常用示例：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">du -h /tmp/logs
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3>ncdu&lt;/h3>
&lt;p>&lt;a href="http://dev.yorhel.nl/ncdu">ncdu&lt;/a>为du提供了一个基于NCurses的命令行用户界面，并能够按照多种条件对分析结果进行排序，它大大简化了du指令的使用。&lt;/p>
&lt;p>&lt;a href="http://picasaweb.google.com/lh/photo/xQINh1zrBdZcY27Evm9Cog?feat=embedwebsite">&lt;img src="http://lh5.ggpht.com/_ceUJ_lBTHzc/TKWkJk8hkjI/AAAAAAAABfU/vTIJqHTxAX0/s400/disk_usage_analyzers-ncdu_01.png" height="250" width="400" />&lt;/a>&lt;/p>
&lt;h3>baobab&lt;/h3>
&lt;p>&lt;a href="http://www.marzocca.net/linux/baobab/index.html">baobab&lt;/a>使用基于GTK的图形用户界面，突出特点是可以分析远程目录。&lt;/p>
&lt;p>&lt;a href="http://picasaweb.google.com/lh/photo/rGbtFe2Je23r1TB1MmX-tA?feat=embedwebsite">&lt;img src="http://lh3.ggpht.com/_ceUJ_lBTHzc/TKWkJ1_yLJI/AAAAAAAABfY/pt_peEEU2f8/s400/disk_usage_analyzers-baobab_01.png" height="400" width="386" />&lt;/a>&lt;/p>
&lt;h3>参考&lt;/h3>
&lt;ol>
 &lt;li>&lt;a href="http://www.vpser.net/manage/ncdu.html">磁盘目录占用空间计算排序工具 - ncdu&lt;/a>&lt;/li>
&lt;/ol></description></item><item><title>Arch不完全降温笔记</title><link>http://0x3f.org/posts/howto-cool-archlinux-down/</link><pubDate>Sat, 18 Sep 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/howto-cool-archlinux-down/</guid><description>&lt;p>主要目标是解决我的X200在Archlinux&lt;em>（本文内容均基于此发行版）&lt;/em>下CPU温度长期居高不下的问题，基本原理是使用&lt;a href="http://wiki.archlinux.org/index.php/Cpufrequtils">cpufrequtils&lt;/a>根据CPU负载状况自动变频，和使用&lt;a href="http://wiki.archlinux.org/index.php/Laptop_Mode_Tools">laptop-mode-tools&lt;/a>实现其它硬件设备的自动节能。最直接的效果是省电，从而延长电池的使用时间，产生的附加影响就是CPU及笔记本整体的温度下降。我几乎不用电池，所以节能不是我的关注点，但降温却是我所欲也。&lt;/p>

&lt;p>首先安装cpufrequtils，并将&lt;strong>acpi-cpufreq&lt;/strong>、&lt;strong>cpufreq_ondemand&lt;/strong>、&lt;strong>cpufreq_powersave&lt;/strong>加入&lt;strong>rc.conf&lt;/strong>的&lt;strong>MODULES&lt;/strong>中，使系统在启动时加载这些模块。&lt;/p>

&lt;p>默认情况下，内核采用cpufreq的performance模式，以获得最高性能，现在用ondemand模式使CPU根据负载状况自动变频。修改&lt;strong>/etc/conf.d/cpufreq&lt;/strong>文件，将&lt;strong>governor&lt;/strong>项设为&lt;strong>ondemand&lt;/strong>。&lt;/p>

&lt;p>将&lt;strong>cpufreq&lt;/strong>加入&lt;strong>rc.conf&lt;/strong>的&lt;strong>DAEMONS&lt;/strong>中，此守护进程会在系统启动时读取配置文件&lt;strong>/etc/conf.d/cpufreq&lt;/strong>中的设置项，故上面设置的ondemand模式会在系统启动时得以自动生效。&lt;/p>

&lt;p>然后安装laptop-mode-tools，并修改&lt;strong>/etc/laptop-mode/laptop-mode.conf&lt;/strong>，打开所有的三个以&lt;strong>ENABLE&lt;/strong>开头的选项，和所有以&lt;strong>CONTROL&lt;/strong>开头的选项。&lt;/p>

&lt;p>将&lt;strong>laptop-mode&lt;/strong>加入&lt;strong>rc.conf&lt;/strong>的&lt;strong>DAEMONS&lt;/strong>中，使其随系统自动启动。&lt;/p>

&lt;p>修改&lt;strong>/etc/laptop-mode/conf.d/usb-autosuspend.conf&lt;/strong>，此配置文件用来配置laptop-mode如何管理USB设备的电源使用。我希望在任何时候都启用USB设备自动节能，但需要把我的无线鼠标排除在外，故作如下配置：&lt;/p>

```bash
# 启用USB设备自动挂起
CONTROL_USB_AUTOSUSPEND="auto"

# 将不使用自动挂起的USB设备的ID填在下面，使用lsusb命令查看ID
AUTOSUSPEND_USBID_BLACKLIST="04fc:05dc"

# 总是启用USB自动挂起
BATT_SUSPEND_USB=1
LM_AC_SUSPEND_USB=1
NOLM_AC_SUSPEND_USB=1
```

&lt;p>类似地，修改&lt;strong>intel-hda-powersave.conf&lt;/strong>，此配置文件用于配置laptop-mode如何管理Intel HDA音频芯片的电源使用。我希望一直启用声卡自动节能，并适当地将自动进入节电模式的空闲时间增加到30秒，故配置如下：&lt;/p>

```bash
# 启用Intel音频芯片电源管理
CONTROL_INTEL_HDA_POWER="auto"

# 总是启用
BATT_INTEL_HDA_POWERSAVE=1
LM_AC_INTEL_HDA_POWERSAVE=1
NOLM_AC_INTEL_HDA_POWERSAVE=1

# 适当地设置声卡进入节电模式的超时时间
INTEL_HDA_DEVICE_TIMEOUT=30
```

&lt;p>类似地，修改&lt;strong>intel-sata-powermgmt.conf&lt;/strong>，启用sata硬盘接口的电源管理。由于我用Blueman控制蓝牙设备，一般不用时都将其关闭，同时经常使用wifi，故蓝牙和无线网卡均未作配置。&lt;/p>

&lt;p>最后，关闭conky,Firefox和Chromium，&lt;a href="http://www.lesswatts.org/projects/powertop/">powertop&lt;/a>显示conky是个很吵闹的东西，关掉它可以使&lt;strong>Wakeups-from-idle per second&lt;/strong>的值下降很多，另外Chromium和Firefox也是耗电大户。&lt;/p>

&lt;p>&lt;em>在此之前，系统空闲时CPU温度一般是50多度，普通使用时一般在60多度，如果开了kvm虚拟机会达到60至90度间。经过以上设置，系统空闲时CPU温度一度下降到39度，即使开了虚拟机，一般也可维持在50到80度间。&lt;/em>&lt;/p>

&lt;p>另外，对于以上内容，我还有些没搞明白的地方和要补充说明的东西：&lt;/p>

&lt;ol>
&lt;li>虽然将laptop-mode加入rc.conf且已随系统启动，但使用命令“&lt;strong>cat /proc/sys/vm/laptop_mode&lt;/strong>”查询得到的结果仍然是0，也就是说没有自动启用laptop-mode，必须使用命令“&lt;strong>sudo /etc/rc.d/laptop-mode restart&lt;/strong>”手动重启才行。目前没有找到解决办法。&lt;/li>
&lt;li>虽然启用laptop-mode接管声卡电源管理，但没找到查看是否生效的方法，于是在/etc/rc.local中加入命令“&lt;strong>echo 1 &amp;gt; /sys/module/snd&lt;em>hda&lt;/em>intel/parameters/power_save&lt;/strong>”以强制声卡节电。&lt;/li>
&lt;li>Intel的powertop是个好东西，用它可以查看哪些进程最影响CPU节能。我们优化的标准之一就是使powertop中显示的“Wakeups-from-idle per second”尽可能地减少。powertop的另一个特点就是通过自动检查当前系统中电源使用的配置情况给出优化的建议，这是个很贴心的功能。&lt;/li>
&lt;/ol>

&lt;p>鉴于目前存疑较多并将继续尝试，所以在标题中特别注明“不完全”三个字……&lt;/p>

&lt;h3>参考&lt;/h3>

&lt;ol>
&lt;li>http://itgen.blogspot.com/2009/03/energy-management-in-linux.html&lt;/li>
&lt;li>http://www.ibm.com/developerworks/cn/linux/l-cpufreq-1/index.html&lt;/li>
&lt;li>http://www.lesswatts.org/&lt;/li>
&lt;/ol></description></item><item><title>使用热键切换Vim的QuickFix窗口打开状态</title><link>http://0x3f.org/posts/howto-toggle-quickfix-in-vim-using-hotkeys/</link><pubDate>Fri, 10 Sep 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/howto-toggle-quickfix-in-vim-using-hotkeys/</guid><description>&lt;p>QuickFix窗口只有打开和关闭的命令，而使用一个热键来切换打开状态可以减少热键资源的浪费，使用也更方便。&lt;/p>
&lt;p>从&lt;a href="http://vim.wikia.com/wiki/Toggle_to_open_or_close_the_quickfix_window">这里&lt;/a>找到使用自定义函数完成此功能的方法：使用一个全局变量记录QuickFix窗口的打开状态，从而判断是应该关闭还是打开。但其提供的函数存在状态同步的问题，假如在QuickFix窗口中使用“:q”退出窗口，此方法将不能正常工作。评论中给出了很好的解决方法，但其提供的代码有些小问题，修改之后如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">nmap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">leader&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">co&lt;/span> :&lt;span class="nx">QFix&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">CR&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">nmap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">leader&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">ct&lt;/span> :&lt;span class="nx">call&lt;/span> &lt;span class="nx">QFixToggle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="p">)&amp;lt;&lt;/span>&lt;span class="nx">CR&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">command&lt;/span>&lt;span class="p">!&lt;/span> &lt;span class="p">-&lt;/span>&lt;span class="nx">bang&lt;/span> &lt;span class="p">-&lt;/span>&lt;span class="nx">nargs&lt;/span>&lt;span class="p">=&lt;/span>? &lt;span class="nx">QFix&lt;/span> &lt;span class="nx">call&lt;/span> &lt;span class="nx">QFixToggle&lt;/span>&lt;span class="p">(&amp;lt;&lt;/span>&lt;span class="nx">bang&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="m">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">function&lt;/span>&lt;span class="p">!&lt;/span> &lt;span class="nx">QFixToggle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">forced&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">exists&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;g:qfix_win&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &amp;amp;&amp;amp; &lt;span class="nx">a&lt;/span>:&lt;span class="nx">forced&lt;/span> &lt;span class="p">!=&lt;/span> &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">cclose&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">exists&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;g:my_quickfix_win_height&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">execute&lt;/span> &lt;span class="s2">&amp;#34;copen &amp;#34;&lt;/span>.&lt;span class="nx">g&lt;/span>:&lt;span class="nx">my_quickfix_win_height&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">copen&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">endif&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">endif&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endfunction&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">augroup&lt;/span> &lt;span class="nx">QFixToggle&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">autocmd&lt;/span>&lt;span class="p">!&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">autocmd&lt;/span> &lt;span class="nx">BufWinEnter&lt;/span> &lt;span class="nx">quickfix&lt;/span> &lt;span class="k">let&lt;/span> &lt;span class="nx">g&lt;/span>:&lt;span class="nx">qfix_win&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">bufnr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;$&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">autocmd&lt;/span> &lt;span class="nx">BufWinLeave&lt;/span> * &lt;span class="k">if&lt;/span> &lt;span class="nx">exists&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;g:qfix_win&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &amp;amp;&amp;amp; &lt;span class="nx">expand&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;&amp;lt;abuf&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">==&lt;/span> &lt;span class="nx">g&lt;/span>:&lt;span class="nx">qfix_win&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="nx">unlet&lt;/span>&lt;span class="p">!&lt;/span> &lt;span class="nx">g&lt;/span>:&lt;span class="nx">qfix_win&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="k">endif&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">augroup&lt;/span> &lt;span class="nx">END&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>启动GVim时自动最大化窗口的方法</title><link>http://0x3f.org/posts/howto-auto-maximize-gvim-at-startup/</link><pubDate>Wed, 25 Aug 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/howto-auto-maximize-gvim-at-startup/</guid><description>&lt;p>根据帮助文档，gvim在windows下的最大化是通过模拟打开窗口菜单并点击最大化菜单项实现的，而在Linux下的方法较为灵活。&lt;/p>
&lt;p>下面的方法是在vim中通过调用wmctrl实现最大化的方法：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="nx">has&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;win32&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">au&lt;/span> &lt;span class="nx">GUIEnter&lt;/span> * &lt;span class="nx">simalt&lt;/span> &lt;span class="p">~&lt;/span>&lt;span class="nx">x&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">au&lt;/span> &lt;span class="nx">GUIEnter&lt;/span> * &lt;span class="nx">call&lt;/span> &lt;span class="nx">MaximizeWindow&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endif&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">function&lt;/span>&lt;span class="p">!&lt;/span> &lt;span class="nx">MaximizeWindow&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">silent&lt;/span> &lt;span class="p">!&lt;/span>&lt;span class="nx">wmctrl&lt;/span> &lt;span class="p">-&lt;/span>&lt;span class="nx">r&lt;/span> :&lt;span class="nx">ACTIVE&lt;/span>: &lt;span class="p">-&lt;/span>&lt;span class="nx">b&lt;/span> &lt;span class="nx">add&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">maximized_vert&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">maximized_horz&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endfunction&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>当然也可以通过配置窗口管理器规则实现自动最大化，但上面的方法更灵活。&lt;/p></description></item><item><title>使Thinkpad的静音按钮能被识别的方法</title><link>http://0x3f.org/posts/howto-make-thinkpad-mute-button-detected-on-linux/</link><pubDate>Mon, 09 Aug 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/howto-make-thinkpad-mute-button-detected-on-linux/</guid><description>&lt;p>我的型号是X200，问题表现为在GNOME或XFCE下静音按钮无效，使用xev也捕获不到输入信号，而音量增加和减小按钮可以正常使用且有OSD。&lt;/p>
&lt;p>解决办法是在grub的启动菜单中，给内核加上参数&lt;strong>acpi_osi=“Linux”&lt;/strong>，如：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># (0) Arch Linux&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">title Arch Linux
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">root &lt;span class="o">(&lt;/span>hd0,2&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kernel /boot/vmlinuz26 &lt;span class="nv">root&lt;/span>&lt;span class="o">=&lt;/span>/dev/sda3 &lt;span class="nv">resume&lt;/span>&lt;span class="o">=&lt;/span>/dev/sda4 ro &lt;span class="nv">acpi_osi&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;Linux&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">initrd /boot/kernel26.img
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>从查到的资料看，&lt;strong>acpi_osi&lt;/strong>参数是用来指定操作系统接口的，据说有些硬件都只针对Windows做了测试或优化，对于这些硬件，如果将内核的操作系统接口指定为Linux，则有可能会出问题。所以内核从2.6.23版本开始，此参数的默认值被改成了“&lt;strong>!Linux&lt;/strong>”，以保证更广泛的兼容性和稳定性。&lt;/p>
&lt;p>而根据&lt;a href="http://www.thinkwiki.org/wiki/Mute_button">这里&lt;/a>的说法，thinkpad一直以来在对Linux的兼容程度上有很好的口碑，故可以放心添加这个参数。&lt;/p>
&lt;p>另外，xfce下使用OSD需要安装xfce4-volumed。&lt;/p></description></item><item><title>swfdec：简单好用的Flash播放器</title><link>http://0x3f.org/posts/swfdec-as-a-slim-flash-player/</link><pubDate>Sun, 01 Aug 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/swfdec-as-a-slim-flash-player/</guid><description>&lt;p>早在keke童鞋的&lt;a href="http://www.imkeke.net/linux/flash-player-swfdec.html">博客&lt;/a>上见过，直到今天下载了个flash视频教程要看时才想起来，毕竟已经不是几年前Flash很火的时候了，为了降低CPU占用，我连Chromium的Flash插件都禁用了。&lt;/p>
&lt;p>使用后的感觉就是简单实用，有暂停，有快进，能调进度，功能一样不多，一样不少。&lt;/p>
&lt;p>要装两个包，swfdec是解码包，swfdec-gnome是播放器。&lt;/p>
&lt;p>&lt;a href="http://swfdec.freedesktop.org">&lt;a href="http://swfdec.freedesktop.org">http://swfdec.freedesktop.org&lt;/a>&lt;/a>&lt;/p>
&lt;p>&lt;a href="http://picasaweb.google.com/lh/photo/pBEyuoK_FQwurdii1Oekdg?feat=embedwebsite">&lt;img src="http://lh6.ggpht.com/_ceUJ_lBTHzc/TFWQ5SwzQnI/AAAAAAAABcc/IFg7kX6pXD4/s400/2010-08-01.23%3A17%3A32.%E6%88%AA%E5%8F%96%E9%80%89%E5%8C%BA.01.png" />&lt;/a>&lt;/p></description></item><item><title>TTL线在Linux下的用法</title><link>http://0x3f.org/posts/usage-of-ttl-wire-on-linux/</link><pubDate>Sun, 18 Jul 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/usage-of-ttl-wire-on-linux/</guid><description>&lt;p>虽然由于&lt;a href="http://0x3f.org/?p=1544">我的H108B&lt;/a>没有TTL引脚而无法通过TTL线登入猫的&lt;a href="http://en.wikipedia.org/wiki/BusyBox">BusyBox&lt;/a>系统，但TTL线在Linux下的使用方法仍然值得一叙，因为除此之外，它还有较为广泛的用途，例如为路由器刷&lt;a href="http://en.wikipedia.org/wiki/OpenWrt">OpenWRT&lt;/a>系统等等。&lt;/p>
&lt;p>TTL转USB端子是目前较为常见的此类设备，这得益于它的简单易用和便携性。在这类设备上最常见的就是台湾的Prolific Technology生产的&lt;strong>PL2303&lt;/strong>：&lt;/p>
&lt;p>&lt;a href="http://picasaweb.google.com/lh/photo/fAc0kt6VmnFFTUY7IA-VrA?feat=embedwebsite">&lt;img src="http://lh3.ggpht.com/_ceUJ_lBTHzc/TEHb1u6n7TI/AAAAAAAABbU/FA7aEZPTn-A/s400/C360_2010-07-17%2011-07-17.jpg" />&lt;/a>&lt;/p>
&lt;p>这种芯片的驱动已被编译进Linux内核，如果使用的是较新版本的内核，则使用该芯片的TTL转USB端子会被自动识别，通常为&lt;strong>/dev/ttyUSB0&lt;/strong>设备，使用&lt;strong>lsusb&lt;/strong>命令可以查看：&lt;/p>
&lt;blockquote>
[lenin@archer ~]$ lsusb
Bus 008 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 007 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 006 Device 003: ID 067b:2303 Prolific Technology, Inc. PL2303 Serial Port
Bus 006 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
&lt;/blockquote>
&lt;p>将四根杜邦线连接到TTL转USB插头上，并接入相应设备的对应引脚。同一根线两端连接的引脚必须对应，另外，VCC引脚不能接线，否则会烧坏TTL转 USB芯片。&lt;/p>
&lt;p>在计算机上使用串口通讯程序进行操控，常见的串口通讯程序有：&lt;a href="http://en.wikipedia.org/wiki/Minicom">minicom&lt;/a>，&lt;a href="http://en.wikipedia.org/wiki/Microcom">microcom&lt;/a>，picocom，tinyserial，xgcom。&lt;/p>
&lt;p>以minicom为例，进入minicom的设置界面：&lt;/p>
&lt;blockquote>sudo minicom -s&lt;/blockquote>
&lt;p>先设置默认的通讯设备为ttyUSB0并设置硬件流控制（Hardware Flow Control）为No：&lt;/p>
&lt;p>&lt;a href="http://picasaweb.google.com/lh/photo/YnqotA0Fo6Z883T7aKvDcg?feat=embedwebsite">&lt;img src="http://lh5.ggpht.com/_ceUJ_lBTHzc/TEMR710O6XI/AAAAAAAABb4/noM3E7ZEiuM/s800/2010-07-17.10%3A25%3A38.%E6%88%AA%E5%8F%96%E9%80%89%E5%8C%BA.01.png" />&lt;/a>&lt;/p>
&lt;p>&lt;a href="http://picasaweb.google.com/lh/photo/G2S6THC9IqvBChZGkJfyqQ?feat=embedwebsite">&lt;img src="http://lh6.ggpht.com/_ceUJ_lBTHzc/TEMR7zBjcmI/AAAAAAAABb8/Z63_oSfjrnc/s400/2010-07-17.10%3A29%3A04.urxvt.01.png" />&lt;/a>&lt;/p>
&lt;p>保存为缺省设置：&lt;/p>
&lt;p>&lt;a href="http://picasaweb.google.com/lh/photo/lY9b49woVJhLdkPJqViT3Q?feat=embedwebsite">&lt;img src="http://lh4.ggpht.com/_ceUJ_lBTHzc/TEMR8Fjk3cI/AAAAAAAABcA/QnHscEzj1OY/s800/2010-07-17.10%3A29%3A35.%E6%88%AA%E5%8F%96%E9%80%89%E5%8C%BA.01.png" />&lt;/a>&lt;/p></description></item><item><title>网通ADSL猫开启路由和自动拨号功能的方法之二</title><link>http://0x3f.org/posts/howto-enable-routing-and-auto-dialing-for-unicom-adsl-modem-2/</link><pubDate>Sun, 18 Jul 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/howto-enable-routing-and-auto-dialing-for-unicom-adsl-modem-2/</guid><description>&lt;p>之前提到过对华为HG522、HG527的超级用户的&lt;a href="http://0x3f.org/?p=1528">破解方法&lt;/a>。网通附送的另一种猫，是&lt;strong>中兴ZXV10 H108B&lt;/strong>无线猫，体积更小，而且天线是内置的。&lt;/p>
&lt;p>上次的方法不能用在这个型号的猫上，但可以用&lt;strong>ftp&lt;/strong>的方式破解。以下步骤基于Linux，并只在硬件版本为&lt;strong>V1.1.02&lt;/strong>、软件版本为&lt;strong>V1.1.02T18_N&lt;/strong>的H108B上测试通过：&lt;/p>
&lt;ol>
&lt;li>
&lt;p>使用&lt;strong>普通用户&lt;/strong>进入猫的设置页面并开启FTP服务，将用户名和密码均设为&lt;strong>admin&lt;/strong>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>连接ftp服务器：&lt;/p>
&lt;/li>
&lt;/ol>
&lt;blockquote>
ftp 192.168.1.1
&lt;/blockquote>
&lt;p>输入用户名和密码，成功登录FTP服务器：&lt;/p>
&lt;blockquote>
[lenin@archer ~]$ ftp 192.168.1.1
Connected to 192.168.1.1.
220 Welcome to virtual FTP service.
Name (192.168.1.1:lenin): admin
331 Please specify the password.
Password:
230 Login successful.
Remote system type is UNIX.
Using binary mode to transfer files.
ftp> 
&lt;/blockquote>
&lt;ol start="3">
&lt;li>切换到&lt;strong>/etc&lt;/strong>目录并下载配置文件&lt;strong>board.conf&lt;/strong>：&lt;/li>
&lt;/ol>
&lt;blockquote>
cd ../
cd etc
get board.conf
&lt;/blockquote>
&lt;p>如下所示：&lt;/p>
&lt;blockquote>
ftp> cd ../
250 Directory successfully changed.
ftp> cd etc
250 Directory successfully changed.
ftp> get board.conf
200 PORT command successful. Consider using PASV.
150 Opening BINARY mode data connection for board.conf (39516 bytes).
226 File send OK.
39516 bytes received in 0.0496 seconds (796003 bytes/s)
ftp> 
&lt;/blockquote>
&lt;ol start="4">
&lt;li>在下载到本地的board.conf中查找&lt;strong>right&lt;/strong>，后跟&lt;strong>0&lt;/strong>表示超级用户，若为&lt;strong>1&lt;/strong>则表示普通用户，如下所示：&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;row&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;0&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;item&amp;gt;&lt;/span>&amp;#34;right&amp;#34;, &amp;#34;0&amp;#34;&lt;span class="nt">&amp;lt;/item&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;item&amp;gt;&lt;/span>&amp;#34;username&amp;#34;, &amp;#34;bjcnchgw&amp;#34;&lt;span class="nt">&amp;lt;/item&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;item&amp;gt;&lt;/span>&amp;#34;enable&amp;#34;, &amp;#34;1&amp;#34;&lt;span class="nt">&amp;lt;/item&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;item&amp;gt;&lt;/span>&amp;#34;password&amp;#34;, &amp;#34;bjcnchgw72915767&amp;#34;&lt;span class="nt">&amp;lt;/item&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/row&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;row&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;1&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;item&amp;gt;&lt;/span>&amp;#34;right&amp;#34;, &amp;#34;1&amp;#34;&lt;span class="nt">&amp;lt;/item&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;item&amp;gt;&lt;/span>&amp;#34;username&amp;#34;, &amp;#34;user&amp;#34;&lt;span class="nt">&amp;lt;/item&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;item&amp;gt;&lt;/span>&amp;#34;password&amp;#34;, &amp;#34;mypasswd&amp;#34;&lt;span class="nt">&amp;lt;/item&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/row&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="5">
&lt;li>在如下页面使用超级用户登录：&lt;/li>
&lt;/ol>
&lt;blockquote>
http://192.168.1.1/cnc.html
&lt;/blockquote>
&lt;ol start="6">
&lt;li>进入“&lt;strong>网络&lt;/strong>”→“&lt;strong>宽带设置&lt;/strong>”页面，删除所有“&lt;strong>连接名称&lt;/strong>”列出的连接（&lt;em>其中，TR069是网通远程控制猫并修改超级用户密码的连接；INTERNET被设置成了桥接，所以不能实现路由功能；另外两个应该是用来屏蔽第三、四个LAN口的。所以要全部删除。&lt;/em>），并创建新的连接：&lt;/li>
&lt;/ol>
&lt;p>&lt;a href="http://picasaweb.google.com/lh/photo/G5p8or5AvVumvFOr89XLqQ?feat=embedwebsite">&lt;img src="http://lh5.ggpht.com/_ceUJ_lBTHzc/TEHd0wXELFI/AAAAAAAABbs/gtxn0tKGyJM/s400/2010-07-17.19%3A48%3A30.%E6%88%AA%E5%8F%96%E9%80%89%E5%8C%BA.01.png" />&lt;/a>&lt;/p></description></item><item><title>Linux下pppoe连接建立后仍不能上网的问题</title><link>http://0x3f.org/posts/problem-on-pppoe-connections-on-linux/</link><pubDate>Sat, 10 Jul 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/problem-on-pppoe-connections-on-linux/</guid><description>&lt;p>&lt;strong>问题描述&lt;/strong>&lt;/p>
&lt;p>pppoe可以连接，ifconfig可以看到ppp0接口，一切正常，只是不能上网。&lt;/p>
&lt;p>&lt;strong>解决办法&lt;/strong>&lt;/p>
&lt;p>使用如下命令查看路由表：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">route
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>正常情况下返回的结果中应该有如下内容：&lt;/p>
&lt;blockquote>
default * 0.0.0.0 U 0 0 0 ppp0
&lt;/blockquote>
&lt;p>如果没有，可手工添加：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">route add default dev ppp0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如果可以上网，就成功了。&lt;/p>
&lt;p>使用如下脚本在pppoe连接成功时自动添加路由表项：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/sh
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span> 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> ifconfig ppp0 &amp;gt; /dev/null 2&amp;gt;&lt;span class="p">&amp;amp;&lt;/span>&lt;span class="m">1&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> route del default
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> route add default dev ppp0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>将上述内容保存成名为&lt;strong>01-route.sh&lt;/strong>的文件，权限&lt;strong>755&lt;/strong>，放到&lt;strong>/etc/ppp/ip-up.d&lt;/strong>目录下。&lt;/p>
&lt;p>然后创建以下两个脚本：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/bash
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span> 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> ifconfig ppp0 &amp;gt; /dev/null 2&amp;gt;&lt;span class="p">&amp;amp;&lt;/span>&lt;span class="m">1&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s1">&amp;#39;PPPOE has already been switched on !&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">exit&lt;/span> &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">off
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pon
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sleep &lt;span class="m">5&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo /etc/ppp/ip-up
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/bash
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span> 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> ! ifconfig ppp0 &amp;gt; /dev/null 2&amp;gt;&lt;span class="p">&amp;amp;&lt;/span>&lt;span class="m">1&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s1">&amp;#39;PPPOE has already been switched off !&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">exit&lt;/span> &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo poff
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo /etc/ppp/ip-down
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>分别命名为&lt;strong>on&lt;/strong>和&lt;strong>off&lt;/strong>并复制到环境变量PATH下，以后即可使用这两个脚本建立和注销pppoe连接。&lt;/p></description></item><item><title>网通ADSL猫开启路由和自动拨号功能的方法之一</title><link>http://0x3f.org/posts/howto-enable-routing-and-auto-dialing-for-unicom-adsl-modem-1/</link><pubDate>Sun, 04 Jul 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/howto-enable-routing-and-auto-dialing-for-unicom-adsl-modem-1/</guid><description>&lt;p>北京网通送的无线猫有的是华为HG522，有的是HG527，屏蔽了路由和PPPOE自动拨号功能，须使用超级用户登入才能使用这些功能。&lt;/p>
&lt;ol>
&lt;li>假设网关为默认的192.168.1.1，先使用普通用户登录，然后访问地址：&lt;/li>
&lt;/ol>
&lt;blockquote>
http://192.168.1.1/downloadconfigfile.conf
&lt;/blockquote>
&lt;p>下载该文件并搜索&lt;strong>username&lt;/strong>，找到超级用户的用户名和密码，如：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;X_ATP_UserInfoInstance&lt;/span> &lt;span class="na">InstanceID=&lt;/span>&lt;span class="s">&amp;#34;1&amp;#34;&lt;/span> &lt;span class="na">Username=&lt;/span>&lt;span class="s">&amp;#34;bjcnchgw&amp;#34;&lt;/span> &lt;span class="na">Userpassword=&lt;/span>&lt;span class="s">&amp;#34;bjcnchgw27852654&amp;#34;&lt;/span> &lt;span class="na">Userlevel=&lt;/span>&lt;span class="s">&amp;#34;2&amp;#34;&lt;/span> &lt;span class="na">Busy=&lt;/span>&lt;span class="s">&amp;#34;0&amp;#34;&lt;/span> &lt;span class="na">LoginIP=&lt;/span>&lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>在如下地址使用超级用户登录：&lt;/li>
&lt;/ol>
&lt;blockquote>
http://192.168.1.1/cnc.html
&lt;/blockquote>
&lt;ol start="3">
&lt;li>设置内容如下图：&lt;/li>
&lt;/ol>
&lt;p>&lt;a href="http://picasaweb.google.com/lh/photo/MwzSxgWShGMJmYJdSQRw8w?feat=embedwebsite">&lt;img src="http://lh6.ggpht.com/_ceUJ_lBTHzc/TDAy1kazOFI/AAAAAAAABa8/jRmlkSC4MaM/s400/32144754dc04625b375cf1d83f3587fc.media.812x604.png" />&lt;/a>&lt;/p>
&lt;p>&lt;em>终于不用再忍受公共网络了……&lt;/em>&lt;/p></description></item><item><title>cd到目录下后自动ls的方法</title><link>http://0x3f.org/posts/howto-do-auto-listing-after-changing-directory/</link><pubDate>Sun, 20 Jun 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/howto-do-auto-listing-after-changing-directory/</guid><description>&lt;p>每cd到一个目录下就ls，这成了我的习惯。以下Bash函数和别名可以实现cd到一个目录下就自动执行ls命令：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">cdl&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">cd&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">1&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ls&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">alias&lt;/span> &lt;span class="nv">cd&lt;/span>&lt;span class="o">=&lt;/span>cdl
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>将上述内容添加到用户主目录中的.bashrc中即可。&lt;/p></description></item><item><title>Linux下使用freetds连接SQL Server</title><link>http://0x3f.org/posts/connect-to-sqlserver-using-freetds-on-linux/</link><pubDate>Sun, 20 Jun 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/connect-to-sqlserver-using-freetds-on-linux/</guid><description>&lt;p>&lt;a href="http://www.freetds.org">freetds&lt;/a>是第三方、开源的数据库客户端和连接库，支持Sybase和Microsoft SQL Server，它最大的好处是允许非Windows平台的程序连接SQL Server。&lt;/p>
&lt;p>freetds的编译和安装命令如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">./configure --with-tdsver&lt;span class="o">=&lt;/span>8.0 --enable-msdblib
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">make
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">make install
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>configure的这两个参数是必不可少的，否则可能无法连接SQL Server。&lt;/p>
&lt;p>安装后修改&lt;strong>freetds.conf&lt;/strong>（&lt;em>一般应该在/usr/local/etc/freetds.conf&lt;/em>），添加如下内容：&lt;/p>
&lt;blockquote>
[mysvr]
 host = 10.1.29.40
 port = 1433
 tds version = 8.0
 client charset = utf-8
&lt;/blockquote>
&lt;p>上述参数应根据实际情况修改。&lt;/p>
&lt;p>最后使用如下命令测试连接：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tsql -S mysvr -U sa -P &lt;span class="m">123456&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>给公司产品做Linux下的安装包，把开发环境放在了Cygwin中，非常享受在全屏、半透明的mintty下敲命令。今天发现在Cygwin下也是可以编译安装Linux下的程序的，只是效率非常低下。故上述内容对Cygwin环境同样成立。&lt;/p></description></item><item><title>低碳生活：使用 cpufrequtils降低CPU温度</title><link>http://0x3f.org/posts/using-cpufrequtils-to-reduce-cpu-temperature/</link><pubDate>Fri, 11 Jun 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/using-cpufrequtils-to-reduce-cpu-temperature/</guid><description>&lt;p>cpufrequtils可以根据不同的方案自动调节CPU的频率，从而达到在系统空闲时降低CPU温度、节省电力的目的。&lt;/p>
&lt;p>Archlinux官方wiki已经介绍得很明白了：&lt;a href="http://wiki.archlinux.org/index.php/Cpufrequtils_(简体中文)">&lt;a href="http://wiki.archlinux.org/index.php/Cpufrequtils_(">http://wiki.archlinux.org/index.php/Cpufrequtils_(&lt;/a>简体中文)&lt;/a>&lt;/p>
&lt;p>使用后效果明显，CPU温度有所下降，下面是cpufrequtils在&lt;a href="http://0x3f.org/?tag=arch">Arch&lt;/a>上的工作情况：&lt;/p>
&lt;pre tabindex="0">&lt;code>[lenin@archer ~]$ cpufreq-info 
cpufrequtils 007: cpufreq-info (C) Dominik Brodowski 2004-2009
Report errors and bugs to cpufreq@vger.kernel.org, please.
analyzing CPU 0:
 driver: acpi-cpufreq
 CPUs which run at the same hardware frequency: 0 1
 CPUs which need to have their frequency coordinated by software: 0
 maximum transition latency: 10.0 us.
 hardware limits: 800 MHz - 2.53 GHz
 available frequency steps: 2.53 GHz, 2.53 GHz, 1.60 GHz, 800 MHz
 available cpufreq governors: ondemand, performance
 current policy: frequency should be within 800 MHz and 1.60 GHz.
 The governor &amp;#34;ondemand&amp;#34; may decide which speed to use
 within this range.
 current CPU frequency is 800 MHz.
analyzing CPU 1:
 driver: acpi-cpufreq
 CPUs which run at the same hardware frequency: 0 1
 CPUs which need to have their frequency coordinated by software: 1
 maximum transition latency: 10.0 us.
 hardware limits: 800 MHz - 2.53 GHz
 available frequency steps: 2.53 GHz, 2.53 GHz, 1.60 GHz, 800 MHz
 available cpufreq governors: ondemand, performance
 current policy: frequency should be within 800 MHz and 1.60 GHz.
 The governor &amp;#34;performance&amp;#34; may decide which speed to use
 within this range.
 current CPU frequency is 1.60 GHz.
&lt;/code>&lt;/pre></description></item><item><title>FreeArc：兼顾压缩比率与效率的压缩程序</title><link>http://0x3f.org/posts/freearc/</link><pubDate>Sun, 09 May 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/freearc/</guid><description>&lt;p>&lt;a href="http://freearc.org/">FreeArc&lt;/a>的特点在于它在压缩比率与效率上取得了一个很好的平衡。传统的压缩程序则多偏重一点，要么占用系统资源低、速度快，但压缩比率小，如ZIP、RAR；要么压缩比率高，但占用系统资源大、速度慢，如7z。 &lt;/p>

&lt;p>把RAR归于前者只是相对而言，除了WinZip，没有哪个压缩工具能取得像WinRAR那样的成功。之所以能做到这一点，是因为WinRAR不但继承了WinZip易用的优点，还具有对多种压缩算法广泛的兼容度，最重要的是，RAR压缩算法在效率与比率之间取得了一个非常好的平衡。凭借这些优势，WinRAR一举推翻了WinZip的王座，直到现在，它都是这个领域值得学习的榜样。 &lt;/p>

&lt;p>早在7-Zip刚刚推出的时候，我就用过它。在压缩比率上，7z较RAR有着明显的优势，但在系统资源占用和压缩速度上，7z的表现非常不理想。最糟糕的是，如果你的机器配置较低，再加上你使用Windows系统，并且尤其喜欢使用图形界面的压缩工具，那7-zip对你来说就是一场恶梦，我曾经有过压缩一个较大的文件时进度条半天都不移动的经历。当然，在Windows命令行或Linux的终端中使用7-zip情况要好很多。此外，随着7-zip自身的完善和电脑配置的更新换代，这些劣势对7-zip普及的限制正逐渐弱化，事实上，我倾向于推荐用7-zip取代WinRAR，因为前者免费且有较大的压缩比率，而后者是收费的。 &lt;/p>

&lt;p>上周偶然发现的FreeArc，它的主页上居然宣称比最好的压缩工具都快1.5到3倍，并且同时拥有超高的压缩比率。于是我拿7-zip与之作了几个粗略的对比测试，发现虽然没有宣称的那么夸张，但在压缩同样的文件并使用同样的压缩级别时，FreeArc均比7-zip快一些，而压缩比率却要稍高于后者。甚至对于某些格式的文件，FreeArc的“普通”级别的压缩比率都比7-zip“最高”级别的大。 &lt;/p>

&lt;p>鉴于7-zip是资源占用大户，我非常怀疑在效率上FreeArc较WinRAR会有什么优势，更遑论快上1.5到3倍，但它的效率高于7-zip却是一个不争的事实，何况还有更高的压缩比率。此外，这次的测试中使用的操作系统和7-zip都是64位的，而FreeArc却是32位的，因此在效率的比试上会有不公平的地方。 &lt;/p>

&lt;p>当然，FreeArc自身的缺点也很大： &lt;/p>

&lt;ol>
&lt;li>尚无64位版本&lt;/li>
&lt;li>只支持Windows和Linux系统&lt;/li>
&lt;li>不支持多卷压缩（分割压缩）&lt;/li>
&lt;li>其它一些问题&lt;/li>
&lt;/ol>

&lt;p>如果能在较短的时间内解决这些问题，我认为FreeArc还是很有前景的。&lt;/p></description></item><item><title>SSL证书生成方法</title><link>http://0x3f.org/posts/howto-create-ssl-certificates/</link><pubDate>Mon, 03 May 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/howto-create-ssl-certificates/</guid><description>&lt;p>一般情况下，如果能找到可用的证书，就可以直接使用，只不过会因证书的某些信息不正确或与部署证书的主机不匹配而导致浏览器提示证书无效，但这并不影响使用。&lt;/p>

&lt;p>需要手工生成证书的情况有：&lt;/p>

&lt;ol>
&lt;li>找不到可用的证书&lt;/li>
&lt;li>需要配置双向SSL，但缺少客户端证书&lt;/li>
&lt;li>需要对证书作特别的定制&lt;/li>
&lt;/ol>

&lt;p>首先，无论是在Linux下还是在Windows下的Cygwin中，进行下面的操作前都须确认已安装OpenSSL软件包。&lt;/p>

&lt;p>1. 创建根证书密钥文件&lt;strong>root.key&lt;/strong>：&lt;/p>

```
openssl genrsa -des3 -out root.key
```

&lt;p>输出内容为：&lt;/p>

```
[lenin@archer ~]$ openssl genrsa -des3 -out root.key
Generating RSA private key, 512 bit long modulus
.................++++++++++++
..++++++++++++
e is 65537 (0x10001)
Enter pass phrase for root.key: ← 输入一个新密码
Verifying - Enter pass phrase for root.key: ← 重新输入一遍密码
```

&lt;p>2. 创建根证书的申请文件&lt;strong>root.req&lt;/strong>：&lt;/p>

```
openssl req -new -key root.key -out root.req
```

&lt;p>输出内容为：&lt;/p>

```
[lenin@archer ~]$ openssl req -new -key root.key -out root.req
Enter pass phrase for root.key: ← 输入前面创建的密码
You are about to be asked to enter information that will be incorporated
into your certificate request.
What you are about to enter is what is called a Distinguished Name or a DN.
There are quite a few fields but you can leave some blank
For some fields there will be a default value,
If you enter '.', the field will be left blank.
-----
Country Name (2 letter code) [AU]:CN ← 国家代号，中国输入CN
State or Province Name (full name) [Some-State]:BeiJing ← 省的全名，拼音
Locality Name (eg, city) []:BeiJing ← 市的全名，拼音
Organization Name (eg, company) [Internet Widgits Pty Ltd]:MyCompany Corp. ← 公司英文名
Organizational Unit Name (eg, section) []: ← 可以不输入
Common Name (eg, YOUR name) []: ← 此时不输入
Email Address []:admin@mycompany.com ← 电子邮箱，可随意填&lt;/p></description></item><item><title>在Vim中检查语法和执行代码</title><link>http://0x3f.org/posts/syntax-checking-and-code-executing-in-vim/</link><pubDate>Sat, 17 Apr 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/syntax-checking-and-code-executing-in-vim/</guid><description>&lt;p>&lt;img src="http://lh3.ggpht.com/_ceUJ_lBTHzc/SaV494hGreI/AAAAAAAAAzY/xExf7CzGyv0/s800/the-mug-of-vi.jpg" alt="">&lt;/p>
&lt;p>《&lt;a href="http://www.pragprog.com/the-pragmatic-programmer">The Pragmatic Programmer&lt;/a>》是本好书，虽然中文译名极为恶俗。为践行书中提到的&lt;a href="http://en.wikipedia.org/wiki/Don't_repeat_yourself">DRY原则&lt;/a>，我开始反思平时编码时总是重复出现的问题，其中之一就是很低级的语法错误，有时忘了语句最后的分号，有时忘了声明变量，凡此种种，不一而足。&lt;/p>
&lt;p>相对于IDE，我更喜欢Vim，这也是语法错误没有检查出来的原因。因此就产生了给Vim添加语法检查功能的需求。下面是检查PHP代码的vimrc内容：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; Check the syntax of a PHP file&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">function&lt;/span>&lt;span class="p">!&lt;/span> &lt;span class="nx">CheckPHPSyntax&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &amp;amp;&lt;span class="k">filetype&lt;/span> &lt;span class="p">!=&lt;/span> &lt;span class="s1">&amp;#39;php&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">echohl&lt;/span> &lt;span class="nx">WarningMsg&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="nx">echo&lt;/span> &lt;span class="s1">&amp;#39;This is not a PHP file !&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="nx">echohl&lt;/span> &lt;span class="nx">None&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">endif&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setlocal&lt;/span> &lt;span class="nx">makeprg&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="nx">php&lt;/span>\ &lt;span class="p">-&lt;/span>&lt;span class="nx">l&lt;/span>\ &lt;span class="p">-&lt;/span>&lt;span class="nx">n&lt;/span>\ &lt;span class="p">-&lt;/span>&lt;span class="nx">d&lt;/span>\ &lt;span class="nx">html_errors&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="nx">off&lt;/span>\ %
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setlocal&lt;/span> &lt;span class="nx">errorformat&lt;/span>&lt;span class="p">=&lt;/span>%&lt;span class="nx">m&lt;/span>\ &lt;span class="nx">in&lt;/span>\ %&lt;span class="nx">f&lt;/span>\ &lt;span class="nx">on&lt;/span>\ &lt;span class="nx">line&lt;/span>\ %&lt;span class="nx">l&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">echohl&lt;/span> &lt;span class="nx">WarningMsg&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="nx">echo&lt;/span> &lt;span class="s1">&amp;#39;Syntax checking output:&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="nx">echohl&lt;/span> &lt;span class="nx">None&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &amp;amp;&lt;span class="nx">modified&lt;/span> &lt;span class="p">==&lt;/span> &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">silent&lt;/span> &lt;span class="nx">write&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">endif&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">silent&lt;/span> &lt;span class="nx">make&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">clist&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">endfunction&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">au&lt;/span> &lt;span class="k">filetype&lt;/span> &lt;span class="nx">php&lt;/span> &lt;span class="k">map&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">F5&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> :&lt;span class="nx">call&lt;/span> &lt;span class="nx">CheckPHPSyntax&lt;/span>&lt;span class="p">()&amp;lt;&lt;/span>&lt;span class="nx">CR&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">au&lt;/span> &lt;span class="k">filetype&lt;/span> &lt;span class="nx">php&lt;/span> &lt;span class="nx">imap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">F5&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">ESC&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>:&lt;span class="nx">call&lt;/span> &lt;span class="nx">CheckPHPSyntax&lt;/span>&lt;span class="p">()&amp;lt;&lt;/span>&lt;span class="nx">CR&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>以上脚本为Vim添加了一个检查PHP语法错误的函数和两个快捷键映射，此后可按F5键即时检查当前Buffer中的PHP当面的语法。和网上其它同类的函数相比，这个函数的优点在于改进了检查结果的显示，使用silent命令隐藏了所有不必要的输出。&lt;/p></description></item><item><title>Buuf-Deuce：搞怪的图标主题</title><link>http://0x3f.org/posts/buuf-deuce-icon-theme/</link><pubDate>Sat, 10 Apr 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/buuf-deuce-icon-theme/</guid><description>&lt;p>发现这个&lt;a href="http://djany.deviantart.com/art/Gnome-Buuf-Deuce-1-1-R8-73339997">图标主题&lt;/a>有段时间了，但直到今天偶然重新启用它，才突然觉得这套色调灰暗、风格搞怪的图标其实整体效果很好，很有个性，且极为闷骚，实为标榜非主流人士居家旅行必备。&lt;/p>
&lt;p>&lt;a href="http://picasaweb.google.com/lh/photo/dGjc_mAUv2rQOLRDLlUZKw?feat=embedwebsite">&lt;img src="http://lh5.ggpht.com/_ceUJ_lBTHzc/S8CQfF_kpbI/AAAAAAAABZ8/UV3W7nTx3vA/s800/Gnome_Buuf_Deuce_1_1_R8_by_djany.jpg" />&lt;/a>&lt;/p></description></item><item><title>Archlinux升级到GNOME2.30后的光标主题问题</title><link>http://0x3f.org/posts/problem-about-icon-theme-on-gnome230/</link><pubDate>Sun, 04 Apr 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/problem-about-icon-theme-on-gnome230/</guid><description>&lt;p>Archlinux下的GNOME升级到2.30后，若启用了Compiz，则光标主题只能使用X默认的主题，无法自定义。尚不清楚是GNOME新版本自身的问题还是仅限于Arch发行版。&lt;/p>

&lt;p>在官方提供解决方案或更新之前，可以先使用Xdefault或Xresource文件实现。&lt;/p>

&lt;p>以后者为例，编辑用户主目录下的&lt;strong>.Xresource&lt;/strong>，在文件最后添加如下内容：&lt;/p>

&lt;blockquote>
 &lt;p>Xcursor.theme: faber-anthracite-shd-m&lt;/p>
&lt;/blockquote>

&lt;p>&lt;strong>faber-anthracite-sdh-m&lt;/strong>是我使用的光标主题的文件夹名。&lt;/p>

&lt;p>然后执行如下命令：&lt;/p>

&lt;blockquote>
 &lt;p>xrdb ~/.Xresource&lt;/p>
&lt;/blockquote>

&lt;p>最后注销并重新登录即可。&lt;/p></description></item><item><title>phpsh：PHP的交互式解释器</title><link>http://0x3f.org/posts/phpsh/</link><pubDate>Mon, 29 Mar 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/phpsh/</guid><description>&lt;p>时常需要测试一些简短的代码是否能得到需要的结果，如果去写测试脚本再执行，显然太麻烦。虽然PHP自身也支持通过&lt;strong>&lt;em>-a&lt;/em>&lt;/strong>参数启动交互模式，但功能较为局限。如果PHP有像&lt;a href="http://bpython-interpreter.org/">bpython&lt;/a>那样的交互式解释器，就太好了。&lt;/p>

&lt;p>&lt;a href="http://www.phpsh.org/">phpsh&lt;/a>就是这样一个工具，它是由&lt;a href="http://zh.wikipedia.org/wiki/Facebook">facebook&lt;/a>的开发者用Python实现的PHP的交互式解释器，并具备以下特性：&lt;/p>

&lt;ol>
&lt;li>命令行历史回溯&lt;/li>
&lt;li>tab键自动补全&lt;/li>
&lt;li>快速文档索引&lt;/li>
&lt;/ol></description></item><item><title>被迫弃UMS而用KMS</title><link>http://0x3f.org/posts/switching-from-ums-to-kms/</link><pubDate>Sat, 13 Feb 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/switching-from-ums-to-kms/</guid><description>&lt;p>昨天更新了一下系统，今天开机就白屏了。于是先关掉Compiz，看了一下Archlinux的&lt;a href="http://www.archlinux.org/news/484/">新闻&lt;/a>，发现新的&lt;strong>xf86-video-intel&lt;/strong>中已经移除了UMS，也就意味着只能使用KMS做3D加速了。&lt;/p>

&lt;p>&lt;a href="http://www.thinkwiki.org/wiki/Intel_Graphics_Media_Accelerator_950#User_mode_setting_.28UMS.29">UMS&lt;/a>的全称是&lt;strong>User Mode-Setting&lt;/strong>，是一种传统的图形界面初始化方案，即在X加载之后由它初始化图形界面。这种方案的弊端是虚拟终端不具备显示和处理图形的能力，同时虚拟终端和图形界面之间的切换显得缓慢并带有闪烁。&lt;/p>

&lt;p>&lt;a href="http://wiki.archlinux.org/index.php/KMS">KMS&lt;/a>的全称是&lt;strong>Kernel Mode-Setting&lt;/strong>，是新一代图形界面初始化方案，它将图形界面的初始化由X加载之后由X负责进行改为在内核初始化时由内核进行。KMS的好处不仅仅是解决了上面UMS的问题，同时也使得Linux具备了在启动时显示漂亮的开机图示的能力。另外，在3D加速性能和低功耗方面，KMS也较UMS更胜一筹。&lt;/p>

&lt;p>我的&lt;a href="http://0x3f.org/?p=819">Thinkpad X200&lt;/a>使用的是Intel GMA 945的芯片组，而Archlinux的&lt;a href="http://wiki.archlinux.org/index.php/Intel_(简体中文)#KMS_.28Kernel_Mode_Setting.29">Wiki&lt;/a>上仍以915为例，所以尝试着做如下内容：&lt;/p>

&lt;p>一、去除/boot/grub/menu.lst中Kernel启动参数中的&lt;a href="http://0x3f.org/?p=866">vga参数&lt;/a>；&lt;/p>

&lt;p>二、加入以下内容到/etc/modprobe.d/modprobe.conf：&lt;/p>

&lt;blockquote>
 &lt;p>options i945 modeset=1&lt;/p>
&lt;/blockquote>

&lt;p>三、在/etc/rc.conf中的&lt;strong>MODULES&lt;/strong>行加入&lt;strong>intel_agp&lt;/strong>和&lt;strong>i945&lt;/strong>；&lt;/p>

&lt;p>重启系统后，Compiz白屏问题解决，3D加速性能似乎有所上升。&lt;/p></description></item><item><title>VirtualBox的Host Interface网络接入方式的配置</title><link>http://0x3f.org/posts/virtualbox-host-interface/</link><pubDate>Sun, 31 Jan 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/virtualbox-host-interface/</guid><description>&lt;p>&lt;a href="http://zh.wikipedia.org/wiki/VirtualBox">VirtualBox&lt;/a>安装后默认的网络接入方式是&lt;a href="http://zh.wikipedia.org/wiki/%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2">NAT&lt;/a>，也是最简单的一种。但NAT网络中的虚拟机系统不具有和主机同一网段的IP地址，不能和主机直接通信。这对于开发者来说是不适用的。&lt;/p>

&lt;p>Host Interface网络接入方式可以使虚拟机系统获得与主机同一网段的IP地址，因此也使得虚拟机系统像主机所在的局域网中的一台真实的计算机一样，可以和其它计算机通信。&lt;/p>

&lt;p>对于Linux平台的VirtualBox，可以有两种方式实现Host Interface网络。一是使用系统网桥，二是使用VirtualBox内建的机制。&lt;/p>

&lt;p>第一种方式复杂但通用，尤其是对于2.1.0以前的版本来说，这是唯一的途径。从2.1.0开始，VirtuaBox内建了支持Host Interface的机制，这极大地简化了此类型网络的配置。&lt;/p>

&lt;p>首先，加载&lt;strong>vboxnetflt&lt;/strong>模块：&lt;/p>

&lt;blockquote>
 &lt;p>sudo modprobe vboxnetflt&lt;/p>
&lt;/blockquote>

&lt;p>然后在VirtualBox中配置虚拟机的网络连接方式，选择“&lt;strong>Bridged Adapter&lt;/strong>”。&lt;/p>

&lt;p>最后启动虚拟机即可。&lt;/p>

&lt;p>另外，若虚拟机系统是精简版的Windows，网卡驱动可能不会自动安装，这时需要另外下载网卡的驱动并安装。&lt;/p>

&lt;p>为方便起见，可将vboxnetflt模块加入到开机自动启动的模块列表中，每种发行版设置自启动模块的位置和方法不一样，在Archlinux下，是在&lt;strong>/etc/rc.conf&lt;/strong>文件中的&lt;strong>modules&lt;/strong>行中设置。&lt;/p>

&lt;p>&lt;em>参考文章：&lt;a href="http://wiki.archlinux.org/index.php/VirtualBox">Archlinux Wiki: VirtualBox&lt;/a>&lt;/em>&lt;/p></description></item><item><title>Windows下GVim的全屏</title><link>http://0x3f.org/posts/fullscreen-for-gvim-on-windows/</link><pubDate>Thu, 17 Sep 2009 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/fullscreen-for-gvim-on-windows/</guid><description>下载gvim的一个扩展“&lt;a href="https://github.com/derek/gvimfullscreen_win32">gvimfullscreen_win32&lt;/a>”，并解压缩。

将&lt;strong>gvimfullscreen.dll&lt;/strong>复制到gvim安装目录下，与&lt;strong>gvim.exe&lt;/strong>同目录。

修改gvim配置文件&lt;strong>_vimrc&lt;/strong>，在其中添加如下内容：

```vim
if has('win32')
 map &lt;F11> &lt;Esc>:call libcallnr("gvimfullscreen.dll", "ToggleFullScreen", 0)&lt;CR>
endif
```

此后，即可使用&lt;strong>F11&lt;/strong>键开关gvim的全屏状态。</description></item></channel></rss>