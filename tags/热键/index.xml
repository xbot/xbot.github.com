<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>热键 on 晴耕雨讀</title><link>http://0x3f.org/tags/%E7%83%AD%E9%94%AE/</link><description>Recent content in 热键 on 晴耕雨讀</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>© 淘气 2022</copyright><lastBuildDate>Fri, 10 Sep 2010 00:00:00 +0000</lastBuildDate><atom:link href="http://0x3f.org/tags/%E7%83%AD%E9%94%AE/index.xml" rel="self" type="application/rss+xml"/><item><title>使用热键切换Vim的QuickFix窗口打开状态</title><link>http://0x3f.org/posts/howto-toggle-quickfix-in-vim-using-hotkeys/</link><pubDate>Fri, 10 Sep 2010 00:00:00 +0000</pubDate><guid>http://0x3f.org/posts/howto-toggle-quickfix-in-vim-using-hotkeys/</guid><description>QuickFix窗口只有打开和关闭的命令，而使用一个热键来切换打开状态可以减少热键资源的浪费，使用也更方便。
从这里找到使用自定义函数完成此功能的方法：使用一个全局变量记录QuickFix窗口的打开状态，从而判断是应该关闭还是打开。但其提供的函数存在状态同步的问题，假如在QuickFix窗口中使用“:q”退出窗口，此方法将不能正常工作。评论中给出了很好的解决方法，但其提供的代码有些小问题，修改之后如下：
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 nmap &amp;lt;leader&amp;gt;co :QFix&amp;lt;CR&amp;gt;nmap &amp;lt;leader&amp;gt;ct :call QFixToggle(1)&amp;lt;CR&amp;gt;command! -bang -nargs=? QFix call QFixToggle(&amp;lt;bang&amp;gt;0)function! QFixToggle(forced) if exists(&amp;#34;g:qfix_win&amp;#34;) &amp;amp;&amp;amp; a:forced != 0 cclose else if exists(&amp;#34;g:my_quickfix_win_height&amp;#34;) execute &amp;#34;copen &amp;#34;.g:my_quickfix_win_height else copen endif endifendfunctionaugroup QFixToggle autocmd! autocmd BufWinEnter quickfix let g:qfix_win = bufnr(&amp;#34;$&amp;#34;) autocmd BufWinLeave * if exists(&amp;#34;g:qfix_win&amp;#34;) &amp;amp;&amp;amp; expand(&amp;#34;&amp;lt;abuf&amp;gt;&amp;#34;) == g:qfix_win | unlet!</description></item></channel></rss>